/*
	Copyright (C) 2008  向日

	This program is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	This program is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/

// ==UserScript==
// @name Helianthus.annuus
// @namespace http://code.google.com/p/helianthus-annuus/
// @description by 向日
// @version 3.7.2.2816
// @build-time 2010-01-16 19:28:07
// @include http://forum*.hkgolden.com/*
// @run-at document-start
// ==/UserScript==

(function(){if(document.body&&document.body.firstChild.className=="webkit-line-gutter-backdrop"||/\.(?:gif|jpe?g|png|asmx)$/i.test(location.href)){return}document.domain="hkgolden.com";var AN=window.AN={mod:{},version:"3.7.2.2816"},jQuery,$,$d,$w,$r={"balloon--minus":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACCElEQVR42s3SX0hTURwH8ONvRGGAZEhYRRIBBRTgWxDQnoKgxwhiWVFJOAwiBKSctsyXgJUUumCQMO9EIwhyQK4XQ0DmljZaBq5s1233zq5Lubv70/LX7yfzwkx76aUDH87hnN/3dy+cI8R/NUZbocZ/E6zkKmkj7WVt5T0r12waft0KR8fu1LfPjXX5jcWQvJqPF7CYRCwmcDX/rWCoQXnujcPPNVxbEX5lh32BzkNOXZmMY+4rov6ZzG5Ae7kY6ol38YCjwckZs8HLFriofJDCmKWilcjf6Z9QCXnCnDEbjNwAR2k5msVMGNeVtHHUlSHU5Meozndj6svdNbzW4u4sZ8wGvma49zMzY+DSFJa+j+NywoPp+QdU7NyUEusxOGM28F6D6/Lks0hRC+CPhSe4JLu2lFl4hLNvmyOcMRsMXIGDL27v71Wjfams6kU96dlScvp+avhWXS9nKm7i+Wlo9NprXUGfbWIx+lQ1UkPFQnoEC+lhzBOeg4PnJ7z2XS7PJWg0g5IQbp8QU2tATEvbRUyqFomBhqqPfTZwr/ul+ZHnfhvsrvhyPwVzTU24Ee/z+ZljAC2nLCcenrNI7I8X2E1/0EXFnUKESJju5n2HEDOXhRik48OEX91x6xG40HHWMsprcoBUm01OClFFk4VsIzvITsJvvpbUkT2knuwtr2vKtf8+fgN0RI2UbTRH1wAAAABJRU5ErkJggg==","balloon--plus":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACHklEQVR42mNgGFRgay4T/7Y8JkcgTgbiUiCuhOJSqJgjSA1WzVtymTR3V0tW3tndsO3b67OP//149PP/r2f///96+v/fj4c/v708/fjOrrptIDUgtSiaN2YzSe+pV2r68uLko//f7////+UmEN9Aw0Cx73f/f3l6+NGeOoUmkB64AeuymGJfXFp27v9XoKJPl/HjL9f/vzg79xxID9yA1RlMdX8+Xvv6//25/zD85+2h/19erPj/9vHE/y8ftPx/fq8GjEHst49mfgXpgRuwPI2p8ff7i9/+vzvz/8+bQ/8/Pp37/9WDVqDiJqz4xd22byA9cAOWpDClPj456/Kvt3v+f3gy5f+7x/048fsnE/7f2Jt2GaQHbsDCRCZ5q8lCl7U36f5KOuTz/8uzuTjxswvNz1cVik4C6UGJCY6FwtdS3pX+V1qm+OX1takvvz1f8evnq9X/f75a9f8HEIPo00vDjy7JFuyfG89khNA5R2gmw1yhMyAc+jrtP/cMwbuC0wSemrbxXJ0ewzQThv++3fYfRM+IYRJGTUFTBc44Pg/6j45B4iBpL10mpiwHZsvuUOZlIIyZBHv5ZjL08J1h6OY7q/PI9j9DF995hk6+iwwZ3EuBsipADEp1eo4aTFG1vsxbQWwglgViLoQhruyMDE08Z6Xua/8H0ueAItxADErzQkAsCsTiQCwJxFJQNkiOFdUluWwzGTJZz4BpEgAAGMWWFPVe+3EAAAAASUVORK5CYII=","chain--arrow":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABhUlEQVR42mNgGAVgEBwcbBwSEhIPxOlIOB4kjk8OrNnHx8c0PT299tixY7fv3r379/Hjx/8fPHjw98SJE3cdHR2rQRibHEgPSC+Dq6tr6qFDB+80NNQfFRIS6mdhYenq6Oj4P3PmTBQMEgPJgdSA1IL0gPQyWFlZFV2+fPmHvLxcA8hFIEVAyf/Xrl39/+rVq/+vX7/+f+vWrf9AV4ANAKkBqQXpAell0NfXz9u0acf9urrmbQICAkXMzMzV5eXl/7FhkBxIDUgtSA9ILwMvL6+TlpbOtDlzlj4+cuTinytXHv8/efL6n3nzlj8GiaPLVW95/r920ZGPIHGQXpCLhIAmhwOd1wRyIhJuAopHgzCynGHz0RdGLceeyQdWTQPpBRnACcRiQCyFDSslz1qp23L2IjKe/vT/fxCtED8lhWAaUa48fGbS4///s67+/x97EYGLb/z/D5IjaIBkzvaZEllbzyBji6P//4NooFwMyamWN2b5GRDmi1sZQ1ayZwucMxOI4ZoBsGkPUwBKpQ4AAAAASUVORK5CYII=","control-270":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA/0lEQVR42mNgGAVgYDv7mbH93BdnSMEgPXADrKY/ErWYcn9d5t4Pzybd+/e/69ofFNx5FYL7bv39n7br/TOQWpAeFFcY990U1Wu/tC5564tn9ae//09e/+p/5NIH//1nX/vvOfXi/4Q1d/8HL73/DKQGpBarVzQbTosqVx5eF7z0zrPYTY//W0+9DMZBK+//d5117RlIDqQGb3jIFu4Rlcjaus58+rVnZls+/jfY+OG/7qQrz0BiIDmiApXTKFyUN2b5Osney88kei4/A7FBYsToFQBiLVCQMAkqOLD6TNkMwiA2SAyI9YBYBIgZcRnAAcQgm6RwYHEg5sJnwEgEAFrDorvTBfJaAAAAAElFTkSuQmCC","control-eject":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABNElEQVR42mNgGLTAft7LGCA+A6JJ1mw943GM9cwnZ2Y+/f8fRIP4RGs2m3gnxmzS3TPTH///X338x/+pD//9B/FB4gQ163deiTHounpm8v1//3N3foLjvlt//oPEQfI4NWs0nI7RbDxzpv/2n/9pm979T1z78n/44vv/fWde/e8x5cL/8sOv/4PkQeowNCuWHYxRKj90pufG7/9lhz7/z9r+4n/c6rv/Y1be/h+1/Nb/iKU3/4cvufE/c/uT/yB1IPUoBsjk75opnbfzDLEYpJ66cc4TtXQmb/SyM8RikHoUAzhC5p/ROPD/v+Tu///Fd/3/L7Lz/3+hHf//CwAx3/b//3m2/f/PDcScWyFskHpk/czM1sXzmf1mniEaA9WD9MENAGJ+IJYEYikisCRUPfPgyHQAtfPpcW73XZQAAAAASUVORK5CYII=","control-stop-270":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABHklEQVR42mNgGB7Aft7LmUB8hgQ8E8UAm5lPYqxnPD4z8+n//703/6LgnhsIPO3R//8gdSD1GK4wm3gnxnTC7TPTH///n7/7MwaecOfPf5A8SB1Or+h3XI7Ra790ZuLdP/9jVz79Hzj35n/v6Zf/N5z58B8kDpInGB7qdSdj1GpPnKk7/eG/88Sz/8uPvPkP4oPEiQ5U+ZJ9MXJFe89kHHz7H0SD+CTHjFj6phixjM1nQDRBxXyxK2byx608QywGqUcxgDN0wZmos///+5/4/9/j+P//jkf+/7c8/P+/wYH//zX2/f8vv+f/f/Gd//8L7Pj/n3/7//8g9cj6mZmti+cz+808QzQGqgfpgxsAxPxALAnEUkRgSah65sGRjwBY+PLdCjYKSQAAAABJRU5ErkJggg==","cross-shield":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACN0lEQVR4XpWNTUgTYBjH/+ZAp4vhvgyIQYoIbEkwT0MQcTBAsckM1ZPoRc8VXoIIKKCgS1RRtFBWm19BWlNMKIIyQJaTNtJ9YIPmmDHVy0TEp+eBl1gwgf7wg+d9nv+PF6dlCmhkPiga8T95BRiCwHyqo+O3IDPvzKcKL7nA3PUDFxg7z9PrLS2/9kdHaW9khL63tm7z7o3cpCNdcaCCCWAl09t7EKys/Dap1a7FXK7czvAwbXR30w+Ph7KDgxRtb98J8i3AnWRX14E4UIEP+MzCSXpggH7295Nk1eX6B0mip4fiXi9t9fWdiAMVPAOWk17v8Senk4oj71K7Nbf7WByo4DEwE+vsPFxubqapujqSFAoFymazlEqlKB6PUzKZpKc1NeQzm2nBbj8UByp4ADxabWvbf+9w0GJTE70wGikcDlMkEqFYLEaJRIJ8LI8rZq3WPXYeQgX3geshmy2zZLfTtMlEk1wqltPptOwEmuG732DIsHMNKrgHuPnXzY/19TRfQs5kMpTL5eRGCxYLPdFqN8WBCm4D+jtlZStfGhqOiuVZFgSR8/m8QEsm05F0xUFxbgE3x/X6rbf8g8hzLH5VyCyy7J5XVGxJF5JibgDGq8BiQK/fDhmNtG4wUIQFBb1j/FVV29KRLkrlMmAdAibGNJronE63u8GSIPNYeXlUbtIp5Z5hdIylFjh/CRi6AoQC1dU5QWbZyQ1ArXSV8zcadbAxDuEs4OTfXnsYmWWnuMicUw7+AKvQcvS+6EM5AAAAAElFTkSuQmCC","film--arrow":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACXElEQVR4Xo2STUhUURiGn3PPvTNO6kypSCoZ+UsGuJKWum4Vg4KgEyESERQBbYJwVVCbyEgIEyJkQtAkIDBoYxDQxqCVOmRFEiBQMY7ze+89X1MzY2mAPfDC4fKcl++7HCUiWJZ1EWgr5b/4WM5DmxJti4uLXdFo1L8/9y7qGwEUIgCCEUGMoBRci/Utll0AKgVW8cMHoB0lZAsuIIiAACKlczq587drAViVgoWFhU5AizEoJVCMiMF3XbLpDOurX1hb2wTQZdfaM8Hg4OAnoCObckml8/iej7IMkYhFzmRxjYegKu6/E8zPz58AtC8KJ+gQbqimuamW47Wa7sYQzc1hqsM1ALrs7p1gaGhoE+g8FKlCez4ikMzkMVqwHY22A7S21+26+wv03Nxcy/DwsH724PIqwNbWlp9IJPLsQyn1y20tul8BKu9gmhJdE9Pv+32jSKY9fF+oICIY4zN9/fRrIEGJC7srxOPxxpGREV0VCpIrGIJVijJ7SrrHJrsHB3ojt84NrOxZoXj5G9CAaApZH21Z2IFSv/ENnuviFVyCTSdrX2zgHO0/nxI79Kdgdna2LhaL2fmUKRYIruvheVkSCjKWxnYsLGWTS+9w9drZ+smdnR7nSMto5R88pUTPxNRGbybn4nk+Tkiz/D3J6Fgfa9uQ8tilMQjPn7xZscu7Vc/MzDjj4+O1giZUU0w4gNaKw9tJHk8to5WAgs8bq/mOK5eCS3ceJZ26Y/d+T6CUugucAno5gOozt+uxnYy7/nIpEG4ctilxAwgDFgfg2pGbkv3x1l1/FS8APwH/5BEQGBT1zwAAAABJRU5ErkJggg==","highlighter--minus":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA3ElEQVR42u3PsQsBYRgG8Oe+O5JLCIlSRzEopfgj/AsWNrv1JoP9yuRWw91gwWBgVZZvvf9CVuN5Pihdphvlrd/y9j7v+31AjDocUEXcOh4x2O8hNxu4scOXC8IgwNX3MYkd9jzI1Qq9f/i3woZh9C3L2n4Le4DrAzJK9R9hXdeb5DqOE3LJOXp5yeHbaBRGqf57wSMshNhpmja1bZifr5vz0ozDUaqP0+n551d4DKBMJSpQnrKUoTSlKAnAUHdJw3oNuVhANhoYAuhSh9rUojrVqEJFypH5WpQgcQcJm8GojKRW7AAAAABJRU5ErkJggg==","highlighter--plus":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABDElEQVR42mNgIAPs2sUgxUAu2L2bwWPbNoYzGzYwzCRb85s3DP+vXmV4t3w5QxrZmpctYzizaBGD8ahmumteKToTiM+AabJsXiJyJuVd6X8QjaGZhYXFREFBYSNWzXOEZjLMFToDwqGv0/7D2GBxEGBmZlYF4pn9/f3/gYYcx7B5qsAZx+dB/9ExSBxmAFgzExPTJkZGxsKqKgZuFOf18s1k6OE7A8I6j2z/w9hg8SNHIH6Gao4HKhcHYlEgFgZiQSDmB2JeIOZiaOI5J3Vf+z+QPguyF4gZGVavZjgzaRLDGSUlhkiggAEQ6wKxFhCrAbEiEMsCsSQQizD4sy5gyGA9xxDIOhfIZwViJgCDltVoETWpngAAAABJRU5ErkJggg==","image-export":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAB6ElEQVR42sWTMWgTYRSAv7tc7kys2A7WxFJURAUL2sEGDS4S6SCESEHcnIOT4FIsbcEOEYmLULAohSoB0UFotkIGQTuok4NQ0VBUUpqisTGX5P673POa0cnQwQ++8X08HjxNRNgNOrtEuzo7mwYO0RsVESkCMDE1lZUe2ZkJZEfD8zzdF+FCrk1IB9MAX6DTgf0R6LOEqAlnD0PU/cAevU671TICcZXqBjRPhMRRjb2WdIc8H0LQDSoPdA1OxuDr502uZTLcX1qKiMhY07bfGa7r6p7v8+vnQ2LDZzg+eA4djf6oUPvdpGnXELXF+qcfKNWmUq3ytlC4N5LJ3BYRnYvZ7M1tpeTUjbScn7wu+eUVWV2ry6uPDXn/pSlrFUeq2544ri9/cySVmtGVUt0NKt/rrJerPC4ucuvRJPPFeQql5zwrvWRx+QUPnj7h7sIC3zY2AIglk3PBHUq66zjdQLzvCoPRDAPhy+wLXQIZo8Vp2pEExFJERyZwHIfheJz+0dGc02qtiMgbQykV6ohgWZFACzMwZIQR0Wg7QqPhIuKi3DAd8wBT+TwHh4bsIPDaCIfRjo2PT68Wi3eCEP+CaZok0+kZYA7A2CyXqycSiRw90LHtLb/ZBEADLGCgh7/wgRrgAPz/b/wDyPozmVUBpGMAAAAASUVORK5CYII=","magnifier-zoom-in":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACNklEQVR42mNgwAOSWl5ppLS9mQvE94H4F5SeCxJnIAQiqu4HRtc+vN+04OmJrSff7rrz/MuJo1c+Hehd/vIUSBwkj1OzR9Z5DZ+8i/enbXy448iN14defvxx69O3389ff/p5+9Gbb2fnb3+yyxcoD1KH1QCrmANz83svnth96cWBq48/ngBpBor9B9FP3n47d+3JpxMlEy6dAqnDaoCO36b7c7fd3X7m3rsLd19+efDuy68PQLH/IBrEB4kv3XN/D0gdVgNU3Fb/2nn++QGQYiD7Pzr++O33s8PXXh8DqcNqgJLL2vsLtt/bDbIJpPjn77+fgWL/QTQ4LD7+vLVq38NDIHVYDVD33DE3u+382f1XXx2+//LraZAmoBg8DIABea64++IlkDqsBpg7ZVoZBR9+MW/zg7M3n30+DQp9WCw8e//94ob9r04Zh5y8rxdwDDMWrK2t5W1sbIo7Ju/5bxV54VXjjOeXTl75cvr5ux/XT139cqZj7strNnG37ptHXsdMB0CNWm5u7jU7duz5Lyoq1qxm1WLnmPx8LhDfB+JfUHqufeITTJttbW0tAgOD244cOfNfUVGph4WFRZWBWGBnZ+edkJAy4eLFu//19AymATUbM5ACzM3NS27devXf3t55HlCzCwOJgENUVNRFRESkBag5G8jXByVGIAb5UwWI5YFYGojFgFgQiHlAeoCYFYiZQAawQCWlgFgSiCWgfBEgFgJiASDmA2JuIOYEYjaoHmYgZgQAJMBTRbnQscgAAAAASUVORK5CYII=","magnifier-zoom-out":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACE0lEQVR42mNgwAOSWl5ppLS9mQvE94H4F5SeCxJnIAQiqu4HRtc+vN+04OmJrSff7rrz/MuJo1c+Hehd/vIUSBwkj1OzR9Z5DZ+8i/enbXy448iN14cevfl29snbb+dAGMSev/3JLl+gPEgdVgOsYg7Mze+9eGL3pRcHrj7+eAKmGYavPfl0omTCpVMgdVgN0PHbdH/utrvbz9x7d+Huyy8P0DFIfOme+3tA6rAaoOK2+tfO888PgBQD2f/R8cdvv58dvvb6GEgdVgOUXNbeX7D93m6QTSDFn779fo6MX3/8eWvVvoeHQOqwGqDuuWNudtv5s/uvvjp8/+XX0+hhAAzIc8XdFy+B1GE1wNwp08oo+PCLeZsfnL357DOKAc/ef7+4Yf+rU8YhJ+/rBRzDjAVra2t5Gxub4o7Je/5bRV541Tjj+aWTV76cfv7ux/VTV7+c6Zj78ppN3K375pHXMdMBUKOWm5t7zY4de/6Lioo1q1m12DkmP58LxPeB+BeUnmuf+ATTZltbW4vAwOC2I0fO/FdUVOphYWFRZSAW2NnZeSckpEy4ePHufz09g2lAzcYMpABzc/OSW7de/be3d54H1OzCQCLgEBUVdREREWkBas4G8vVBiRGIQf5UAWJ5IJYGYjEgFgRiHpAeIGYFYiaQASxQSSkglgRiCShfBIiFgFgAiPmAmBuIOYGYDaqHGYgZAVI8VtW3Z2FZAAAAAElFTkSuQmCC","picture--minus":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAByElEQVR42sWTP2tTURiHn3vum5ubc//l1sSSxBoaQYcKUTpVEAo6CLq4Ojn4PfwUUh0KXQXp5OjiYAfBDgoKJQgFRRclbbRp7j0n1+FmCIqCdfDdzg/eh+dwfgf+9zgP1nkErJ5w/5XYKau3tt6fCPD0bg8xFpRS3HnSRTlQcUFcyAwUBcQ1iH0QBb0GrLTATGGtsY+xINaC67r0z4AnkNSgEcDnQ6hVynMBDI/gYhv6HTjKwJ26WAuSWxAR2sELzreWSYM2RQEXFmExKkHjDHqnSpOJKaEyEXILYkwJeLa7yY6vuXH5Nusr1xBVGvUaMM5hQUNuy0xXwFrBmDmDvcEe9aTO49EWB6OPLDXP0lpY4nScUvN8cHS57JVXO85mBvnMYHLQ4cs34ftXj+3hG2r+gEAHhEFIGIZEYUQSxSw12yw3O1ztCLkByWaAXus6nudRrVbRWhNFIUkSkaYxaRqRJAFx7BMEFVRVIXJMZuYM5qcoCoyxjMcZSo1pP7yPv/+OXCkOHQfHUTzXBd1PdGU4Kp/x5ca93xZme2PAzSuXfsnfvt7VzprHZurQ/1Pjzhm6ukD/nH+AHQfwgDogf9lkAwz/+Tf+AI0siBbqAfEPAAAAAElFTkSuQmCC","smiley-twist":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACXUlEQVR42oWScUhTYRTFLyUBawBBiQZIRoJoQbDI1IjI/opYBRuQBIVgkECMWP9FUATKAixwxDOczLKNoHBCWG5vYhnmWjI0020sYxCpW+sxwdrYdvvOV8YmQh8cDvec37084BGJ5yJSHhMZ3ppJt/KUjEKKkE8o8NcxG9GDA0/Fz0EUHKmqCnvqKJjyHwpnvtzW8klnltPPC3DMyNGDA19yoFsEq5fOZn++t2icVJhXhBJO5uSjP45Z5OjBdRcfiPWRrqdWHBi7oK3NX+Vg/1FOTVu58M0u9EA6ZuTowYHHnjwQ6SXj1+HaSOHzFdamTBx+1sLerr38faqdg45m6ZiRowcHHnvywJydlNVpk5YPneZlXwvnchk2XFbk0rowI0cPDjz25IHQPfJlZs9nF57U89JIE8eHjnDc08RLL4/xD/8J6ZiRowcHHnvyQMBGgdyMudDXUcaD1/TsuVnBo53VJV+AGTl6cOCxJw9M3CHf2uSprNuq448fVI7FYuz1ejd19ODAY08e8N0gZflFozZuq+CZV52cz+c5Go1u6ujBgceePDBkIeNEV3kkMdzAnlt7OP5J5VAoxOl0usSRowcHHnvywGA76QbayL3gOJBYdB/m0bv1POa6zovz7/j1uF86ZuTowYHH3r+fqbeVavovlqlzDw2JlPcczzqb+c39/aza9knHjBw9OPC08VmOU43dTG6PtTIcc53UNH9r9tdkWwGOGTl6cBt3twqVC9Xt1FOj6SB12M7QQI+JVLEQgGNGLvoGwVUL6YsPbBHaLrRLaPd/VCm0Q2jb+vJvBcwQQD7QC78AAAAASUVORK5CYII=","tick-shield":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACW0lEQVR42pWSb0hTYRSH3+lgptvkbrvTNol1p66YRjWSGlFFluWMiTSpkiihgvpYEUAQAQUUBBBVUI5a+5fOoA1mVFEIpmW2KY5y1Fob7YILKj8NEU/nva5uqwl04OGee855fsDlErJY9bIm5HkeE/mv8mpUxK8JbZns+EqhPc7YxQUPHng0l4hbsxxpwL7P8mrHl/2pE7Dv83FoGt3J4+yhsKM39JY6v8ulHrZNdc3IfLpImV8ftY61TTs+HoWWyF6BPR+OgPVNWxb3UZlXF9k24ZihjhjgVA11fjo23/7+MNjfHRKkTS/tBVgHbbB9rBNaJw7A7tjBeeqIAbeYp7bJrrn1L3ZBMVaFNwOt20m38L71dcccdcSAG0yg+a0jZ3nSDObQRqBPKtUG1oHunhlSqRSk02ngeR5YZz2sCG7IUUcMuFp53Tpk+0HlXC4HNf5GULmMwDg5SCQSQkAmkxHembsc6HsbvqNzTQy4ojxtCjZlvPEAxGIxyGazwHj+kl0o3+dA01eHvSGDzikx4LKyhekxxA0Da4SAeDxeKPtQDi3Ahuuh7KY2Th0x4IK8UnJRMcwNrp1V9RsL5X4Un4moH9fOErylTuHPdL7inOKOPlk9uhKYILcg45MZEVGNGEHWwybp7b9/49lyNTkpe6T06nh2vA5UA/gRxzmRKAflbi1Pb4TbomWXLiPdpS7pmSUxeXDpN2YKRYT2pTijO+GmSJUgckRLqiQ1ZLWkmzgk4QofO02hvTCjO0Kq8rclfwZI8wszYhFQECuxkwekHaH9rzkhjUh13iE/AQ4sY0V2q+EfAAAAAElFTkSuQmCC","gnome-mime-image-bmp":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAA0CAYAAADMk7uRAAAN4ElEQVR4Xu2ayY8l2VXGf3eI6U05Zw09uKo9t2UBwgtjb/qPYAUbWCEQYsOChZeWNy3vEAtghWCDaHmBLXnBwljgBlkM7cbdXd0151RZWZn5xpjvwKurru6gn8tFJzJGwl/q6MY7cfXud+Kc78SNF8nPGb+AoguQgODjQwKCny1Eh5/vOvna1752bpbo+PwFF/BcHJvAOQFsAOOftoZe4hvf+MamDl4h5Ne//vUd/pfgvX/a8U7Ht7McnxyvjK+++uoUQEIIgFUE/wf280XgsjJ2a1fwfx2rFzrw1nwE3/vxIf1+xL0HM+4eFbzx1gHzShBHMEw0G0PN+jBiuLT+IKMpG7I4AuEp8oZIS5I0wVpH0xiqomB7a431YcpgkNLPYvqxRGqPEpBECiklzjm890+IBp9YmgSUlMEnsKxnKV2sBKCEJFOaQabpJZad9R7NcYNrDUa0KDTeQV1CPs8xraHfrxHe08tSRsOYNIlpGkvlPT5S4DxCSMAjnSWRgjTRxJEgUgqt9QdBGGOw1qKUCqSVlEQ6BAk4cPz0APJ8jsSSTytMURMph4wdHo0XLc7CZNZQtGUQlBMKzlt2RwmpThCtQicKEUlEJogijdYKayyilehYA+C8Q6BQAoJJAVIRKUnTGoy1SClQSn4oXicQCMA/PYDxrKasW8bz5dhCbRxSWBIJwyzFeMnZpGJePPZLiAxaO1Jp2RwJytbiijqQdh6kksSxIokF3rdL00gVBxFqrQNBKYPxBLEQKKdx7oPOE7JirCdWCt2Zqz8q4PG8ImvlciyZ5g7jFcMsJpWgJIyLksI4jBTgLbaVaK+YV5bTcUEca0SkcdZSLnKyLEVmmjhRZFotRx2Ix9FP7HAf1r4HZx3eWwgBOIq6RqVZNwAh+QiccUgXYytBGcrI0E8SRsMew96IUdonDlcN8JogRO0QSnByVnJ/f8pkkrNYVDg0SrmlWeI4Jk4S4p5Gpp449ijpQEAoRefg/b4v4IPSkjics5TOMWssxoU5T8/AxuYQ6Tz9QUqyqGiQOCuw3mJ8TjyI2IiGNGdzDJ5IaTItiIRHp4o2lGEVtPPC1R2iyKPfF6SUCuvAOYkzAq9Et4njATrkPIFs0IMxhro2+P4zRIx0aAVraxl50zI/nNFaSVkLysZQmZYoTclSTeEMfmmm8kRREmq8bj15GTPIVEg7gAtX2NO2Ld6CEgIVKYglAkLH6d5ppewIFxBA0IyK8J4u/EoG2taz1pcgHJujhMkkYu8kD4tZB9ZIXFWFtihVROUaagVxNUO032Pv/ru8+Pwr6Oe/RDkviIXGCk/VeNbSiDgWGG/x/RTvI0CghVmaRKEDUe/9B+a8ACGR0hApj6QLhOxGCjDqO0xVBWFGwrLWT5eWIRDUtaOqHG0TREWA0URtQ9M4EH1M8Tbnp9+jnN7k3s0fMJtPmM8Ns9mMsqqoqnZplnppTdMurcFYg32/TJxzwbz3H/rCWrx/3nazs6qBW7e+zb133+YrX/kNFtOWYe8q68MEW0iKqglfhnMgICyER7Y32R3MKKp3GUYpsa1J5HvU5YwHJynX175KlmiSOEFKEELhWZqXOO9wFly420Lo/0IAPAkg+BpnkVKubCdW9kLvvvM654vv81d/87v8+Z/9Ad/9zqt84ioMdYuzJa2yGAt1I6hqaC04m3Kw9xa37u5xsN8QlQWHt1+H9CqjzZeJBMRJTGtahPAgHbWvMNLj0BgvMBZaYzHW0S7NOI/1YIDaOerKhfNPhP2EswR8sADQzlJPwZSS2bTg/v7rvPatP1gS+i6Xh5pESqTy4ME7hxOW8ckBrd2msdcZJuvc3T/gjTdv8m///Pcc3XmH6TQH79FKAyKIVi4tZNCHcsEY0ymhVfPOhXLraNj/xC509+Yeaayo5pat7YzzyZzje7fI+2dcjxKS7Mu0bQTUCCTCJKRXv8z06Fs8Nzxh0TbsH5QMtnaw1RHCP0IqiY4isl4MmEDYGksrPDa00vBNSDz+A24ijGVZUJsW74LAEQSQpmn/C1/4wtpKCX3205/C0WKU4ey0oZo55mPL/v4xP/zBnzI/+g5K3ODRwR8zOXqN6fiH6ObHJOo+s8UdinoWrvBIp3z+c7/EcLDN1nAdLcEIR/izcmkKawW1a3nrvR9x4/YNZuWc0+kp94/vczI7ZVwu+MvX/oLf/8Pf4Z3bb6HUhwFA0OCqiO/cPuDSlescnd9k81LC4b0F6IRIaFIBt9/8ay59ZpP86BRrM7avWvI2QvoBo/VPMp7conKW47MZrVwe+4RPfupzFOUad/bfAmd4/vJLHD54j3/8p2/j5ZwHD/aJdLRsv1eZTiratuDFF3c4P605PMyZLSq+//rf0RrHlS/9Gj6Onty9V0uoKA3/8cYeL3zuCgfHe1y6pugPPShNfm5Z15JqMmE4SplNGpCCwhZQWs4fWspyTDTQzKdTonpBdfuQ1/72JtFI8fDkCIkliTKcFczOp5jaMlpLMHHE2++9gxQQacn+0aNQMum6Rq1Z3rzzHe4/+Ac+/+KfMLz2xSetdHUv5JXj4MGUN/7lDrNJi4w189owmTTEfUMyMkzPa6xruHzNMBxpaCQisszzMVJCPne0dc183PDgqGRv710m47tMHo5Jk5bZ+Iwb/3rEo72W0yNB25RkA8t84jjcy6lqy6Ozhv29OVIbbDtFihnj8SGLed4tIeRHhZznCzauSDavxniX8eiew5YRTSF4cN+h9ZDBRoxHk88k1cKClUiZhI7S1ILFzJMOQMaS1kry3HPj32foOA6tcDFzSBFhHUSZBG258eYYgM3dCETJYm5o2ojJ+RxnNVoH3eD86l5IdJ/+lSgYbLbEI0cx12xuSUYbhCueXNdEUc7GNjzYq6lLSZE1ZH3Bo+OG3iBm+rDBu5g49aHFbl3VxGnLxqUY7yzgA5mdKxl13aJSWA5INcD7lrYxLKaStY2IwzszZtMUJRouvxBj2gYpXeDazYCgg2w4YHYmaGrLYLtl8zlF01YspuCV4PieX2YlItIxZu6IhCCKPS+97GlNjRSStU1DlERIJ7hyvUVpxzBNaUvF2V7CyV2DzjxIz+LMUE4l/T5oHdHL1tneHYQ2+/KvXmE0kjSloiosyIim8QBPRCxWulA6smwnPfZvz8F7qvWKtolZnFnQEYuFYHxUkg0EmzsxTWt59I7hyrWEh3cKti4njDYj2mrB8y8JmtrR3/SoJIcziVKS4U5EXheMtjRtCW0tGW1akoEnipvQ851X4AWLacPGbg9rHf2RJk5kNwNo6GYBais4Pq7xRpH0JHUlKRegRMwgTdh+2dFLNG1pg07GD004frTX0E8TLn8ipixKvI15eNCQrW3TtDOa2jDa8fR6FeutYpaDMXpJzgKefC6Yjg1VWXD12oAsBSFLtnZTjDO0tefw7gLvRPeHMKGB7o6Us0MozyWLs+b9O6gle0x+q08UpUyPT5bEwdmEKCnYvbJGJBXeefKqDF3CGodMsmVwAt8a0B6PpDjzxDJsp0m0wAsTdGKNYr5oaM7h8tV1+plgetZwcjxmsB7R35RYD82pQQgP8HQNCAQ+GKSZRErNlc8M6G83HN8fU4wH7N+U3PxxzckBHB0uONifU7uG3Rc8vTWBQ9MfKBCesrCUuUKicLVYZgoevOfxtaYtW5rK0x+lOCMxrSPtebyTISilYrwVKDT1HLz11FUbRNy9D4huBrROqHNL0ktYW4+59lnLlU8HcdNLe5Szgp2dPuujNcaPHMXYYXPF4tHSziX9nmY4kJw+aHFG09QVi3FDNXksWEm7GHB66Ln3tkH4GK0Vs3FJmgg2tjI2NneQjJCkeKtZTATNPEE4WN8agucJ+WAakJ2IKM4b2upxB7hEslZS1Y6HD2d44+hvP9469DmbnOP7cP6uJVY29Pt8klOHX/AyirwAm2LrBp1qfGPJzx3WWrL1OVlPk6Y2PG8gFW3bsLYR0+SSN390h92r29RVw2JWIyCMo+c8ZycVxvxXDciPagDlef6zCtXPw81E2i2G+otsrW3xiWvbpLs1RelQCLZeSImyiCgOj5cUU8mtHy2YHkdgHgtxjfnEUOaWujZhTj6zNHXLcy+lTE9rpDAkEfR6AhueFxSeivHpAiEVox3BpeuGfmbJtEHpDldAAt0yYrihqSrY35syftSwvTli//4Nol6fo4c5tl5D2JhPfmbEr7yyG9qoc46qaHGtACsoZw3FfE4UCXr9mDiOsFZQ5A1V7vFE3HqrIh8nS01YFApTg9YNm7sJQsjQpp1t6W8o8qKm34u59mlJ2mOlC3U1wO/99h9xdnaC0AJnPJGWvPLLjkhq0jShKBv8488JpEnKV59fhADwAu8BPEKAlAqlCP3bubAAXoQRIQTOeyTg8WTrEmcETWmIYg0CVCSoC4PQHqwjSiVZlnD9uc8Hritt9Al+89d/66IvLFZ9T3+p8azzq3NW/av3gWfj4sGsjhcn3/V1AwipvThhLkJ8lfyzL0DXJzTAzyoDq8QvTj7oLIAVDVjAdbOwuijBf8GS6aJL5kLku/5uCfmOM5C9QKl8jHnPCHTl3Grw3d2ofoqofiY6WPXxLEE/NUvWWqEBB0Tf/OY3Gy6K/3mgF8m6stYaAewCVwAPtIC4wL8PCMCvfO76V48t4Ds+/THnR8A9DcwAB8jOoqy8P14518HqtsTxbHTJWCD6ePODlQKQgOK/i6dnxQGei8ED4mPODyP/z/EL/AL/CRMjAW6m+jLTAAAAAElFTkSuQmCC"},$s=[{desc:"聖誕表情圖示",html:{path:"faces/xmas",table:[[["[O:-)x]","angel"],["[xx(x]","dead"],["[:)x]","smile"],["[:o)x]","clown"],["[:o)jx]","clown_jesus"],["[:-(x]","frown"],["[:~(x]","cry"],["[;-)x]","wink"],["[:-[x]","angry"],["[:-]x]","devil"],["[:Dx]","biggrin"],["[:Ox]","oh"],["[:Px]","tongue"],["[^3^x]","kiss"],["[?_?x]","wonder"],["#yupx#","agree"],["#ngx#","donno"],["#hehex#","hehe"],["#lovex#","love"],["#ohx#","surprise"]],[["#assx#","ass"],["[sosadx]","sosad"],["#goodx#","good"],["#hohox#","hoho"],["#killx#","kill"],["#byex#","bye"],["[Z_Zx]","z"],["[@_@x]","@"],["#adorex#","adore"],["#adore2x#","adore2"],["[???x]","wonder2"],["[bangheadx]","banghead"],["[bouncerx]","bouncer"]],[["[censoredx]","censored"],["[flowerfacex]","flowerface"],["[shockingx]","shocking"],["[photox]","photo"],["[yipesx]","yipes"],["[yipes2x]","yipes2"],["[yipes3x]","yipes3"],["[yipes4x]","yipes4"],["[369x]","369"],["[bombx]","bomb"],["[slickx]","slick"],["[fuckx]","diu"],["#nox#","no"],["#kill2x#","kill2"]],[["#kill3x#","kill3"],["#cnx#","chicken"],["#cn2x#","chicken2"],["[bouncyx]","bouncy"],["[bouncy2x]","bouncy2"],["#firex#","fire"]]],span:[["[offtopicx]","offtopic"]]}},{desc:"綠帽表情圖示",html:{path:"faces/xmas/green",table:[[["[:)gx]","smile"],["[:o)gx]","clown"],["[:-(gx]","frown"],["[:~(gx]","cry"],["#yupgx#","agree"]],[["[sosadgx]","sosad"],["#goodgx#","good"],["#byegx#","bye"]],[["[369gx]","369"],["[fuckgx]","diu"]]]}},{desc:"新年表情圖示",html:{path:"faces/newyear",table:[[["[:o)n]","clown"],["[:o)2n]","clown2"],["[:o)3n]","clown3"]],[["[sosadn]","sosad"],["[sosad2n]","sosad2"],["[sosad3n]","sosad3"],["[bangheadn]","banghead"],["[banghead2n]","banghead2"],["[bouncern]","bouncer"]],[["[yipesn]","yipes"],["[369n]","369"],["[3692n]","3692"],["[fuckn]","diu"]]],span:[["#assn#","ass"],["[offtopicn]","offtopic"],["[offtopic2n]","offtopic2"]]}},{desc:"腦魔表情圖示",html:{path:"faces/lomore",table:[[["[:-[lm]","angry"],["[:Dlm]","biggrin"],["[:Olm]","oh"],["[:Plm]","tongue"],["#lovelm#","love"],["#goodlm#","good"],["#hoholm#","hoho"],["#killlm#","kill"],["[???lm]","wonder2"],["[flowerfacelm]","flowerface"],["[shockinglm]","shocking"],["[yipeslm]","yipes"],["[offtopiclm]","offtopic"]],[["[369lm]","369"],["[@_@lm]","@"],["#hehelm#","hehe"],["[fucklm]","diu"],["[bouncerlm]","bouncer"],["[sosadlm]","sosad"]]]}},{desc:"SARS表情圖示",html:{path:"faces/sick",table:[[["[O:-)sk]","angel"],["[:o)sk]","clown"],["[:-[sk]","angry"],["[:-]sk]","devil"],["#yupsk#","agree"],["#ngsk#","donno"],["#cnsk#","chicken"]],[["#asssk#","ass"],["[sosadsk]","sosad"],["#hohosk#","hoho"],["#hoho2sk#","hoho2"],["#killsk#","kill"],["#byesk#","bye"],["[@_@sk]","@"],["#adoresk# ","adore"],["[bangheadsk]","banghead"]],[["[flowerfacesk]","flowerface"],["[shockingsk]","shocking"],["[photosk]","photo"],["#firesk#","fire"],["[369sk]","369"],["[fucksk]","diu"]]]}},{desc:"特殊圖示",html:{path:"faces",table:[[["#good2#","ThumbUp"],["#bad#","ThumbDown"],["[img]/faces/surprise2.gif[/img]","surprise2"],["[img]/faces/beer.gif[/img]","beer"]]]}}];if(window.opera&&window.opera.version&&window.opera.version()<10&&arguments.length==0){return(function(callee){window.opera.addEventListener("AfterScript",function(){window.opera.removeEventListener("AfterScript",arguments.callee,false);callee.call(window,null)},false)})(arguments.callee)}if(window.opera&&window.opera.addEventListener){var blockScripts=function(event){if(event.element.src?/pagead|imrworldwide/.test(event.element.src):/pixelinteractivemedia|imrworldwide|google-analytics|_getTracker|\(ads|InlineAd|PageAd|GoogleAd|google_ad/.test(event.element.text)){event.preventDefault()}};window.opera.addEventListener("BeforeScript",blockScripts,false);window.addEventListener("DOMContentLoaded",function(){window.opera.removeEventListener("BeforeScript",blockScripts,false)},false);
/*
 * jQuery JavaScript Library v1.4
 * http://jquery.com/
 *
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://docs.jquery.com/License
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2010, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Jan 13 15:23:05 2010 -0500
 */
}(function(window,undefined){var jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},_jQuery=window.jQuery,_$=window.$,document=window.document,rootjQuery,quickExpr=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,isSimple=/^.[^:#\[\.,]*$/,rnotwhite=/\S/,rtrim=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,userAgent=navigator.userAgent,browserMatch,readyBound=false,readyList=[],DOMContentLoaded,toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,push=Array.prototype.push,slice=Array.prototype.slice,indexOf=Array.prototype.indexOf;jQuery.fn=jQuery.prototype={init:function(selector,context){var match,elem,ret,doc;if(!selector){return this}if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}if(typeof selector==="string"){match=quickExpr.exec(selector);if(match&&(match[1]||!context)){if(match[1]){doc=(context?context.ownerDocument||context:document);ret=rsingleTag.exec(selector);if(ret){if(jQuery.isPlainObject(context)){selector=[document.createElement(ret[1])];jQuery.fn.attr.call(selector,context,true)}else{selector=[doc.createElement(ret[1])]}}else{ret=buildFragment([match[1]],[doc]);selector=(ret.cacheable?ret.fragment.cloneNode(true):ret.fragment).childNodes}}else{elem=document.getElementById(match[2]);if(elem){if(elem.id!==match[2]){return rootjQuery.find(selector)}this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else{if(!context&&/^\w+$/.test(selector)){this.selector=selector;this.context=document;selector=document.getElementsByTagName(selector)}else{if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return jQuery(context).find(selector)}}}}else{if(jQuery.isFunction(selector)){return rootjQuery.ready(selector)}}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.isArray(selector)?this.setArray(selector):jQuery.makeArray(selector,this)},selector:"",jquery:"1.4",length:0,size:function(){return this.length},toArray:function(){return slice.call(this,0)},get:function(num){return num==null?this.toArray():(num<0?this.slice(num)[0]:this[num])},pushStack:function(elems,name,selector){var ret=jQuery(elems||null);ret.prevObject=this;ret.context=this.context;if(name==="find"){ret.selector=this.selector+(this.selector?" ":"")+selector}else{if(name){ret.selector=this.selector+"."+name+"("+selector+")"}}return ret},setArray:function(elems){this.length=0;push.apply(this,elems);return this},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){jQuery.bindReady();if(jQuery.isReady){fn.call(document,jQuery)}else{if(readyList){readyList.push(fn)}}return this},eq:function(i){return i===-1?this.slice(i):this.slice(i,+i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(slice.apply(this,arguments),"slice",slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||jQuery(null)},push:push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var target=arguments[0]||{},i=1,length=arguments.length,deep=false,options,name,src,copy;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(length===i){target=this;--i}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||jQuery.isArray(copy))){var clone=src&&(jQuery.isPlainObject(src)||jQuery.isArray(src))?src:jQuery.isArray(copy)?[]:{};target[name]=jQuery.extend(deep,clone,copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target};jQuery.extend({noConflict:function(deep){window.$=_$;if(deep){window.jQuery=_jQuery}return jQuery},isReady:false,ready:function(){if(!jQuery.isReady){if(!document.body){return setTimeout(jQuery.ready,13)}jQuery.isReady=true;if(readyList){var fn,i=0;while((fn=readyList[i++])){fn.call(document,jQuery)}readyList=null}if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler("ready")}}},bindReady:function(){if(readyBound){return}readyBound=true;if(document.readyState==="complete"){return jQuery.ready()}if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);window.addEventListener("load",jQuery.ready,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",jQuery.ready);var toplevel=false;try{toplevel=window.frameElement==null}catch(e){}if(document.documentElement.doScroll&&toplevel){doScrollCheck()}}}},isFunction:function(obj){return toString.call(obj)==="[object Function]"},isArray:function(obj){return toString.call(obj)==="[object Array]"},isPlainObject:function(obj){if(!obj||toString.call(obj)!=="[object Object]"||obj.nodeType||obj.setInterval){return false}if(obj.constructor&&!hasOwnProperty.call(obj,"constructor")&&!hasOwnProperty.call(obj.constructor.prototype,"isPrototypeOf")){return false}var key;for(key in obj){}return key===undefined||hasOwnProperty.call(obj,key)},isEmptyObject:function(obj){for(var name in obj){return false}return true},noop:function(){},globalEval:function(data){if(data&&rnotwhite.test(data)){var head=document.getElementsByTagName("head")[0]||document.documentElement,script=document.createElement("script");script.type="text/javascript";if(jQuery.support.scriptEval){script.appendChild(document.createTextNode(data))}else{script.text=data}head.insertBefore(script,head.firstChild);head.removeChild(script)}},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase()},each:function(object,callback,args){var name,i=0,length=object.length,isObj=length===undefined||jQuery.isFunction(object);if(args){if(isObj){for(name in object){if(callback.apply(object[name],args)===false){break}}}else{for(;i<length;){if(callback.apply(object[i++],args)===false){break}}}}else{if(isObj){for(name in object){if(callback.call(object[name],name,object[name])===false){break}}}else{for(var value=object[0];i<length&&callback.call(value,i,value)!==false;value=object[++i]){}}}return object},trim:function(text){return(text||"").replace(rtrim,"")},makeArray:function(array,results){var ret=results||[];if(array!=null){if(array.length==null||typeof array==="string"||jQuery.isFunction(array)||(typeof array!=="function"&&array.setInterval)){push.call(ret,array)}else{jQuery.merge(ret,array)}}return ret},inArray:function(elem,array){if(array.indexOf){return array.indexOf(elem)}for(var i=0,length=array.length;i<length;i++){if(array[i]===elem){return i}}return -1},merge:function(first,second){var i=first.length,j=0;if(typeof second.length==="number"){for(var l=second.length;j<l;j++){first[i++]=second[j]}}else{while(second[j]!==undefined){first[i++]=second[j++]}}first.length=i;return first},grep:function(elems,callback,inv){var ret=[];for(var i=0,length=elems.length;i<length;i++){if(!inv!==!callback(elems[i],i)){ret.push(elems[i])}}return ret},map:function(elems,callback,arg){var ret=[],value;for(var i=0,length=elems.length;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value}}return ret.concat.apply([],ret)},guid:1,proxy:function(fn,proxy,thisObject){if(arguments.length===2){if(typeof proxy==="string"){thisObject=fn;fn=thisObject[proxy];proxy=undefined}else{if(proxy&&!jQuery.isFunction(proxy)){thisObject=proxy;proxy=undefined}}}if(!proxy&&fn){proxy=function(){return fn.apply(thisObject||this,arguments)}}if(fn){proxy.guid=fn.guid=fn.guid||proxy.guid||jQuery.guid++}return proxy},uaMatch:function(ua){var ret={browser:""};ua=ua.toLowerCase();if(/webkit/.test(ua)){ret={browser:"webkit",version:/webkit[\/ ]([\w.]+)/}}else{if(/opera/.test(ua)){ret={browser:"opera",version:/version/.test(ua)?/version[\/ ]([\w.]+)/:/opera[\/ ]([\w.]+)/}}else{if(/msie/.test(ua)){ret={browser:"msie",version:/msie ([\w.]+)/}}else{if(/mozilla/.test(ua)&&!/compatible/.test(ua)){ret={browser:"mozilla",version:/rv:([\w.]+)/}}}}}ret.version=(ret.version&&ret.version.exec(ua)||[0,"0"])[1];return ret},browser:{}});browserMatch=jQuery.uaMatch(userAgent);if(browserMatch.browser){jQuery.browser[browserMatch.browser]=true;jQuery.browser.version=browserMatch.version}if(jQuery.browser.webkit){jQuery.browser.safari=true}if(indexOf){jQuery.inArray=function(elem,array){return indexOf.call(array,elem)}}rootjQuery=jQuery(document);if(document.addEventListener){DOMContentLoaded=function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);jQuery.ready()}}else{if(document.attachEvent){DOMContentLoaded=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);jQuery.ready()}}}}function doScrollCheck(){if(jQuery.isReady){return}try{document.documentElement.doScroll("left")}catch(error){setTimeout(doScrollCheck,1);return}jQuery.ready()}if(indexOf){jQuery.inArray=function(elem,array){return indexOf.call(array,elem)}}function evalScript(i,elem){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:"script"})}else{jQuery.globalEval(elem.text||elem.textContent||elem.innerHTML||"")}if(elem.parentNode){elem.parentNode.removeChild(elem)}}function access(elems,key,value,exec,fn,pass){var length=elems.length;if(typeof key==="object"){for(var k in key){access(elems,k,key[k],exec,fn,value)}return elems}if(value!==undefined){exec=!pass&&exec&&jQuery.isFunction(value);for(var i=0;i<length;i++){fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass)}return elems}return length?fn(elems[0],key):null}function now(){return(new Date).getTime()}(function(){jQuery.support={};var root=document.documentElement,script=document.createElement("script"),div=document.createElement("div"),id="script"+now();div.style.display="none";div.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var all=div.getElementsByTagName("*"),a=div.getElementsByTagName("a")[0];if(!all||!all.length||!a){return}jQuery.support={leadingWhitespace:div.firstChild.nodeType===3,tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/red/.test(a.getAttribute("style")),hrefNormalized:a.getAttribute("href")==="/a",opacity:/^0.55$/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:div.getElementsByTagName("input")[0].value==="on",optSelected:document.createElement("select").appendChild(document.createElement("option")).selected,scriptEval:false,noCloneEvent:true,boxModel:null};script.type="text/javascript";try{script.appendChild(document.createTextNode("window."+id+"=1;"))}catch(e){}root.insertBefore(script,root.firstChild);if(window[id]){jQuery.support.scriptEval=true;delete window[id]}root.removeChild(script);if(div.attachEvent&&div.fireEvent){div.attachEvent("onclick",function click(){jQuery.support.noCloneEvent=false;div.detachEvent("onclick",click)});div.cloneNode(true).fireEvent("onclick")}jQuery(function(){var div=document.createElement("div");div.style.width=div.style.paddingLeft="1px";document.body.appendChild(div);jQuery.boxModel=jQuery.support.boxModel=div.offsetWidth===2;document.body.removeChild(div).style.display="none";div=null});var eventSupported=function(eventName){var el=document.createElement("div");eventName="on"+eventName;var isSupported=(eventName in el);if(!isSupported){el.setAttribute(eventName,"return;");isSupported=typeof el[eventName]==="function"}el=null;return isSupported};jQuery.support.submitBubbles=eventSupported("submit");jQuery.support.changeBubbles=eventSupported("change");root=script=div=all=a=null})();jQuery.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var expando="jQuery"+now(),uuid=0,windowData={};var emptyObject={};jQuery.extend({cache:{},expando:expando,noData:{embed:true,object:true,applet:true},data:function(elem,name,data){if(elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()]){return}elem=elem==window?windowData:elem;var id=elem[expando],cache=jQuery.cache,thisCache;if(!name&&!id){return null}if(!id){id=++uuid}if(typeof name==="object"){elem[expando]=id;thisCache=cache[id]=jQuery.extend(true,{},name)}else{if(cache[id]){thisCache=cache[id]}else{if(typeof data==="undefined"){thisCache=emptyObject}else{thisCache=cache[id]={}}}}if(data!==undefined){elem[expando]=id;thisCache[name]=data}return typeof name==="string"?thisCache[name]:thisCache},removeData:function(elem,name){if(elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()]){return}elem=elem==window?windowData:elem;var id=elem[expando],cache=jQuery.cache,thisCache=cache[id];if(name){if(thisCache){delete thisCache[name];if(jQuery.isEmptyObject(thisCache)){jQuery.removeData(elem)}}}else{try{delete elem[expando]}catch(e){if(elem.removeAttribute){elem.removeAttribute(expando)}}delete cache[id]}}});jQuery.fn.extend({data:function(key,value){if(typeof key==="undefined"&&this.length){return jQuery.data(this[0])}else{if(typeof key==="object"){return this.each(function(){jQuery.data(this,key)})}}var parts=key.split(".");parts[1]=parts[1]?"."+parts[1]:"";if(value===undefined){var data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]);if(data===undefined&&this.length){data=jQuery.data(this[0],key)}return data===undefined&&parts[1]?this.data(parts[0]):data}else{return this.trigger("setData"+parts[1]+"!",[parts[0],value]).each(function(){jQuery.data(this,key,value)})}},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}});jQuery.extend({queue:function(elem,type,data){if(!elem){return}type=(type||"fx")+"queue";var q=jQuery.data(elem,type);if(!data){return q||[]}if(!q||jQuery.isArray(data)){q=jQuery.data(elem,type,jQuery.makeArray(data))}else{q.push(data)}return q},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),fn=queue.shift();if(fn==="inprogress"){fn=queue.shift()}if(fn){if(type==="fx"){queue.unshift("inprogress")}fn.call(elem,function(){jQuery.dequeue(elem,type)})}}});jQuery.fn.extend({queue:function(type,data){if(typeof type!=="string"){data=type;type="fx"}if(data===undefined){return jQuery.queue(this[0],type)}return this.each(function(i,elem){var queue=jQuery.queue(this,type,data);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(){var elem=this;setTimeout(function(){jQuery.dequeue(elem,type)},time)})},clearQueue:function(type){return this.queue(type||"fx",[])}});var rclass=/[\n\t]/g,rspace=/\s+/,rreturn=/\r/g,rspecialurl=/href|src|style/,rtype=/(button|input)/i,rfocusable=/(button|input|object|select|textarea)/i,rclickable=/^(a|area)$/i,rradiocheck=/radio|checkbox/;jQuery.fn.extend({attr:function(name,value){return access(this,name,value,true,jQuery.attr)},removeAttr:function(name,fn){return this.each(function(){jQuery.attr(this,name,"");if(this.nodeType===1){this.removeAttribute(name)}})},addClass:function(value){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);self.addClass(value.call(this,i,self.attr("class")))})}if(value&&typeof value==="string"){var classNames=(value||"").split(rspace);for(var i=0,l=this.length;i<l;i++){var elem=this[i];if(elem.nodeType===1){if(!elem.className){elem.className=value}else{var className=" "+elem.className+" ";for(var c=0,cl=classNames.length;c<cl;c++){if(className.indexOf(" "+classNames[c]+" ")<0){elem.className+=" "+classNames[c]}}}}}}return this},removeClass:function(value){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);self.removeClass(value.call(this,i,self.attr("class")))})}if((value&&typeof value==="string")||value===undefined){var classNames=(value||"").split(rspace);for(var i=0,l=this.length;i<l;i++){var elem=this[i];if(elem.nodeType===1&&elem.className){if(value){var className=(" "+elem.className+" ").replace(rclass," ");for(var c=0,cl=classNames.length;c<cl;c++){className=className.replace(" "+classNames[c]+" "," ")}elem.className=className.substring(1,className.length-1)}else{elem.className=""}}}}return this},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal==="boolean";if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);self.toggleClass(value.call(this,i,self.attr("class"),stateVal),stateVal)})}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(rspace);while((className=classNames[i++])){state=isBool?state:!self.hasClass(className);self[state?"addClass":"removeClass"](className)}}else{if(type==="undefined"||type==="boolean"){if(this.className){jQuery.data(this,"__className__",this.className)}this.className=this.className||value===false?"":jQuery.data(this,"__className__")||""}}})},hasClass:function(selector){var className=" "+selector+" ";for(var i=0,l=this.length;i<l;i++){if((" "+this[i].className+" ").replace(rclass," ").indexOf(className)>-1){return true}}return false},val:function(value){if(value===undefined){var elem=this[0];if(elem){if(jQuery.nodeName(elem,"option")){return(elem.attributes.value||{}).specified?elem.value:elem.text}if(jQuery.nodeName(elem,"select")){var index=elem.selectedIndex,values=[],options=elem.options,one=elem.type==="select-one";if(index<0){return null}for(var i=one?index:0,max=one?index+1:options.length;i<max;i++){var option=options[i];if(option.selected){value=jQuery(option).val();if(one){return value}values.push(value)}}return values}if(rradiocheck.test(elem.type)&&!jQuery.support.checkOn){return elem.getAttribute("value")===null?"on":elem.value}return(elem.value||"").replace(rreturn,"")}return undefined}var isFunction=jQuery.isFunction(value);return this.each(function(i){var self=jQuery(this),val=value;if(this.nodeType!==1){return}if(isFunction){val=value.call(this,i,self.val())}if(typeof val==="number"){val+=""}if(jQuery.isArray(val)&&rradiocheck.test(this.type)){this.checked=jQuery.inArray(self.val(),val)>=0}else{if(jQuery.nodeName(this,"select")){var values=jQuery.makeArray(val);jQuery("option",this).each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0});if(!values.length){this.selectedIndex=-1}}else{this.value=val}}})}});jQuery.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(elem,name,value,pass){if(!elem||elem.nodeType===3||elem.nodeType===8){return undefined}if(pass&&name in jQuery.attrFn){return jQuery(elem)[name](value)}var notxml=elem.nodeType!==1||!jQuery.isXMLDoc(elem),set=value!==undefined;name=notxml&&jQuery.props[name]||name;if(elem.nodeType===1){var special=rspecialurl.test(name);if(name==="selected"&&!jQuery.support.optSelected){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex}}}if(name in elem&&notxml&&!special){if(set){if(name==="type"&&rtype.test(elem.nodeName)&&elem.parentNode){throw"type property can't be changed"}elem[name]=value}if(jQuery.nodeName(elem,"form")&&elem.getAttributeNode(name)){return elem.getAttributeNode(name).nodeValue}if(name==="tabIndex"){var attributeNode=elem.getAttributeNode("tabIndex");return attributeNode&&attributeNode.specified?attributeNode.value:rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}return elem[name]}if(!jQuery.support.style&&notxml&&name==="style"){if(set){elem.style.cssText=""+value}return elem.style.cssText}if(set){elem.setAttribute(name,""+value)}var attr=!jQuery.support.hrefNormalized&&notxml&&special?elem.getAttribute(name,2):elem.getAttribute(name);return attr===null?undefined:attr}return jQuery.style(elem,name,value)}});var fcleanup=function(nm){return nm.replace(/[^\w\s\.\|`]/g,function(ch){return"\\"+ch})};jQuery.event={add:function(elem,types,handler,data){if(elem.nodeType===3||elem.nodeType===8){return}if(elem.setInterval&&(elem!==window&&!elem.frameElement)){elem=window}if(!handler.guid){handler.guid=jQuery.guid++}if(data!==undefined){var fn=handler;handler=jQuery.proxy(fn);handler.data=data}var events=jQuery.data(elem,"events")||jQuery.data(elem,"events",{}),handle=jQuery.data(elem,"handle"),eventHandle;if(!handle){eventHandle=function(){return typeof jQuery!=="undefined"&&!jQuery.event.triggered?jQuery.event.handle.apply(eventHandle.elem,arguments):undefined};handle=jQuery.data(elem,"handle",eventHandle)}if(!handle){return}handle.elem=elem;types=types.split(/\s+/);var type,i=0;while((type=types[i++])){var namespaces=type.split(".");type=namespaces.shift();handler.type=namespaces.slice(0).sort().join(".");var handlers=events[type],special=this.special[type]||{};if(!handlers){handlers=events[type]={};if(!special.setup||special.setup.call(elem,data,namespaces,handler)===false){if(elem.addEventListener){elem.addEventListener(type,handle,false)}else{if(elem.attachEvent){elem.attachEvent("on"+type,handle)}}}}if(special.add){var modifiedHandler=special.add.call(elem,handler,data,namespaces,handlers);if(modifiedHandler&&jQuery.isFunction(modifiedHandler)){modifiedHandler.guid=modifiedHandler.guid||handler.guid;handler=modifiedHandler}}handlers[handler.guid]=handler;this.global[type]=true}elem=null},global:{},remove:function(elem,types,handler){if(elem.nodeType===3||elem.nodeType===8){return}var events=jQuery.data(elem,"events"),ret,type,fn;if(events){if(types===undefined||(typeof types==="string"&&types.charAt(0)===".")){for(type in events){this.remove(elem,type+(types||""))}}else{if(types.type){handler=types.handler;types=types.type}types=types.split(/\s+/);var i=0;while((type=types[i++])){var namespaces=type.split(".");type=namespaces.shift();var all=!namespaces.length,cleaned=jQuery.map(namespaces.slice(0).sort(),fcleanup),namespace=new RegExp("(^|\\.)"+cleaned.join("\\.(?:.*\\.)?")+"(\\.|$)"),special=this.special[type]||{};if(events[type]){if(handler){fn=events[type][handler.guid];delete events[type][handler.guid]}else{for(var handle in events[type]){if(all||namespace.test(events[type][handle].type)){delete events[type][handle]}}}if(special.remove){special.remove.call(elem,namespaces,fn)}for(ret in events[type]){break}if(!ret){if(!special.teardown||special.teardown.call(elem,namespaces)===false){if(elem.removeEventListener){elem.removeEventListener(type,jQuery.data(elem,"handle"),false)}else{if(elem.detachEvent){elem.detachEvent("on"+type,jQuery.data(elem,"handle"))}}}ret=null;delete events[type]}}}}for(ret in events){break}if(!ret){var handle=jQuery.data(elem,"handle");if(handle){handle.elem=null}jQuery.removeData(elem,"events");jQuery.removeData(elem,"handle")}}},trigger:function(event,data,elem){var type=event.type||event,bubbling=arguments[3];if(!bubbling){event=typeof event==="object"?event[expando]?event:jQuery.extend(jQuery.Event(type),event):jQuery.Event(type);if(type.indexOf("!")>=0){event.type=type=type.slice(0,-1);event.exclusive=true}if(!elem){event.stopPropagation();if(this.global[type]){jQuery.each(jQuery.cache,function(){if(this.events&&this.events[type]){jQuery.event.trigger(event,data,this.handle.elem)}})}}if(!elem||elem.nodeType===3||elem.nodeType===8){return undefined}event.result=undefined;event.target=elem;data=jQuery.makeArray(data);data.unshift(event)}event.currentTarget=elem;var handle=jQuery.data(elem,"handle");if(handle){handle.apply(elem,data)}var nativeFn,nativeHandler;try{if(!(elem&&elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()])){nativeFn=elem[type];nativeHandler=elem["on"+type]}}catch(e){}var isClick=jQuery.nodeName(elem,"a")&&type==="click";if(!bubbling&&nativeFn&&!event.isDefaultPrevented()&&!isClick){this.triggered=true;try{elem[type]()}catch(e){}}else{if(nativeHandler&&elem["on"+type].apply(elem,data)===false){event.result=false}}this.triggered=false;if(!event.isPropagationStopped()){var parent=elem.parentNode||elem.ownerDocument;if(parent){jQuery.event.trigger(event,data,parent,true)}}},handle:function(event){var all,handlers;event=arguments[0]=jQuery.event.fix(event||window.event);event.currentTarget=this;var namespaces=event.type.split(".");event.type=namespaces.shift();all=!namespaces.length&&!event.exclusive;var namespace=new RegExp("(^|\\.)"+namespaces.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)");handlers=(jQuery.data(this,"events")||{})[event.type];for(var j in handlers){var handler=handlers[j];if(all||namespace.test(handler.type)){event.handler=handler;event.data=handler.data;var ret=handler.apply(this,arguments);if(ret!==undefined){event.result=ret;if(ret===false){event.preventDefault();event.stopPropagation()}}if(event.isImmediatePropagationStopped()){break}}}return event.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(event){if(event[expando]){return event}var originalEvent=event;event=jQuery.Event(originalEvent);for(var i=this.props.length,prop;i;){prop=this.props[--i];event[prop]=originalEvent[prop]}if(!event.target){event.target=event.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement}if(event.pageX==null&&event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.which&&((event.charCode||event.charCode===0)?event.charCode:event.keyCode)){event.which=event.charCode||event.keyCode}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey}if(!event.which&&event.button!==undefined){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)))}return event},guid:100000000,proxy:jQuery.proxy,special:{ready:{setup:jQuery.bindReady,teardown:jQuery.noop},live:{add:function(proxy,data,namespaces,live){jQuery.extend(proxy,data||{});proxy.guid+=data.selector+data.live;jQuery.event.add(this,data.live,liveHandler,data)},remove:function(namespaces){if(namespaces.length){var remove=0,name=new RegExp("(^|\\.)"+namespaces[0]+"(\\.|$)");jQuery.each((jQuery.data(this,"events").live||{}),function(){if(name.test(this.type)){remove++}});if(remove<1){jQuery.event.remove(this,namespaces[0],liveHandler)}}},special:{}},beforeunload:{setup:function(data,namespaces,fn){if(this.setInterval){this.onbeforeunload=fn}return false},teardown:function(namespaces,fn){if(this.onbeforeunload===fn){this.onbeforeunload=null}}}}};jQuery.Event=function(src){if(!this.preventDefault){return new jQuery.Event(src)}if(src&&src.type){this.originalEvent=src;this.type=src.type}else{this.type=src}this.timeStamp=now();this[expando]=true};function returnFalse(){return false}function returnTrue(){return true}jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return}if(e.preventDefault){e.preventDefault()}e.returnValue=false},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};var withinElement=function(event){var parent=event.relatedTarget;while(parent&&parent!==this){try{parent=parent.parentNode}catch(e){break}}if(parent!==this){event.type=event.data;jQuery.event.handle.apply(this,arguments)}},delegate=function(event){event.type=event.data;jQuery.event.handle.apply(this,arguments)};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={setup:function(data){jQuery.event.add(this,fix,data&&data.selector?delegate:withinElement,orig)},teardown:function(data){jQuery.event.remove(this,fix,data&&data.selector?delegate:withinElement)}}});if(!jQuery.support.submitBubbles){jQuery.event.special.submit={setup:function(data,namespaces,fn){if(this.nodeName.toLowerCase()!=="form"){jQuery.event.add(this,"click.specialSubmit."+fn.guid,function(e){var elem=e.target,type=elem.type;if((type==="submit"||type==="image")&&jQuery(elem).closest("form").length){return trigger("submit",this,arguments)}});jQuery.event.add(this,"keypress.specialSubmit."+fn.guid,function(e){var elem=e.target,type=elem.type;if((type==="text"||type==="password")&&jQuery(elem).closest("form").length&&e.keyCode===13){return trigger("submit",this,arguments)}})}else{return false}},remove:function(namespaces,fn){jQuery.event.remove(this,"click.specialSubmit"+(fn?"."+fn.guid:""));jQuery.event.remove(this,"keypress.specialSubmit"+(fn?"."+fn.guid:""))}}}if(!jQuery.support.changeBubbles){var formElems=/textarea|input|select/i;function getVal(elem){var type=elem.type,val=elem.value;if(type==="radio"||type==="checkbox"){val=elem.checked}else{if(type==="select-multiple"){val=elem.selectedIndex>-1?jQuery.map(elem.options,function(elem){return elem.selected}).join("-"):""}else{if(elem.nodeName.toLowerCase()==="select"){val=elem.selectedIndex}}}return val}function testChange(e){var elem=e.target,data,val;if(!formElems.test(elem.nodeName)||elem.readOnly){return}data=jQuery.data(elem,"_change_data");val=getVal(elem);if(val===data){return}if(e.type!=="focusout"||elem.type!=="radio"){jQuery.data(elem,"_change_data",val)}if(elem.type!=="select"&&(data!=null||val)){e.type="change";return jQuery.event.trigger(e,arguments[1],this)}}jQuery.event.special.change={filters:{focusout:testChange,click:function(e){var elem=e.target,type=elem.type;if(type==="radio"||type==="checkbox"||elem.nodeName.toLowerCase()==="select"){return testChange.call(this,e)}},keydown:function(e){var elem=e.target,type=elem.type;if((e.keyCode===13&&elem.nodeName.toLowerCase()!=="textarea")||(e.keyCode===32&&(type==="checkbox"||type==="radio"))||type==="select-multiple"){return testChange.call(this,e)}},beforeactivate:function(e){var elem=e.target;if(elem.nodeName.toLowerCase()==="input"&&elem.type==="radio"){jQuery.data(elem,"_change_data",getVal(elem))}}},setup:function(data,namespaces,fn){for(var type in changeFilters){jQuery.event.add(this,type+".specialChange."+fn.guid,changeFilters[type])}return formElems.test(this.nodeName)},remove:function(namespaces,fn){for(var type in changeFilters){jQuery.event.remove(this,type+".specialChange"+(fn?"."+fn.guid:""),changeFilters[type])}return formElems.test(this.nodeName)}};var changeFilters=jQuery.event.special.change.filters}function trigger(type,elem,args){args[0].type=type;return jQuery.event.handle.apply(elem,args)}if(document.addEventListener){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){jQuery.event.special[fix]={setup:function(){this.addEventListener(orig,handler,true)},teardown:function(){this.removeEventListener(orig,handler,true)}};function handler(e){e=jQuery.event.fix(e);e.type=fix;return jQuery.event.handle.call(this,e)}})}jQuery.each(["bind","one"],function(i,name){jQuery.fn[name]=function(type,data,fn){if(typeof type==="object"){for(var key in type){this[name](key,data,type[key],fn)}return this}if(jQuery.isFunction(data)){thisObject=fn;fn=data;data=undefined}var handler=name==="one"?jQuery.proxy(fn,function(event){jQuery(this).unbind(event,handler);return fn.apply(this,arguments)}):fn;return type==="unload"&&name!=="one"?this.one(type,data,fn,thisObject):this.each(function(){jQuery.event.add(this,type,handler,data)})}});jQuery.fn.extend({unbind:function(type,fn){if(typeof type==="object"&&!type.preventDefault){for(var key in type){this.unbind(key,type[key])}return this}return this.each(function(){jQuery.event.remove(this,type,fn)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){if(this[0]){var event=jQuery.Event(type);event.preventDefault();event.stopPropagation();jQuery.event.trigger(event,data,this[0]);return event.result}},toggle:function(fn){var args=arguments,i=1;while(i<args.length){jQuery.proxy(fn,args[i++])}return this.click(jQuery.proxy(fn,function(event){var lastToggle=(jQuery.data(this,"lastToggle"+fn.guid)||0)%i;jQuery.data(this,"lastToggle"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false}))},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},live:function(type,data,fn){if(jQuery.isFunction(data)){fn=data;data=undefined}jQuery(this.context).bind(liveConvert(type,this.selector),{data:data,selector:this.selector,live:type},fn);return this},die:function(type,fn){jQuery(this.context).unbind(liveConvert(type,this.selector),fn?{guid:fn.guid+this.selector+type}:null);return this}});function liveHandler(event){var stop=true,elems=[],selectors=[],args=arguments,related,match,fn,elem,j,i,data,live=jQuery.extend({},jQuery.data(this,"events").live);for(j in live){fn=live[j];if(fn.live===event.type||fn.altLive&&jQuery.inArray(event.type,fn.altLive)>-1){data=fn.data;if(!(data.beforeFilter&&data.beforeFilter[event.type]&&!data.beforeFilter[event.type](event))){selectors.push(fn.selector)}}else{delete live[j]}}match=jQuery(event.target).closest(selectors,event.currentTarget);for(i=0,l=match.length;i<l;i++){for(j in live){fn=live[j];elem=match[i].elem;related=null;if(match[i].selector===fn.selector){if(fn.live==="mouseenter"||fn.live==="mouseleave"){related=jQuery(event.relatedTarget).closest(fn.selector)[0]}if(!related||related!==elem){elems.push({elem:elem,fn:fn})}}}}for(i=0,l=elems.length;i<l;i++){match=elems[i];event.currentTarget=match.elem;event.data=match.fn.data;if(match.fn.apply(match.elem,args)===false){stop=false;break}}return stop}function liveConvert(type,selector){return["live",type,selector.replace(/\./g,"`").replace(/ /g,"&")].join(".")}jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(i,name){jQuery.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name)};if(jQuery.attrFn){jQuery.attrFn[name]=true}});if(window.attachEvent&&!window.addEventListener){window.attachEvent("onunload",function(){for(var id in jQuery.cache){if(jQuery.cache[id].handle){try{jQuery.event.remove(jQuery.cache[id].handle.elem)}catch(e){}}}});
/*
 * Sizzle CSS Selector Engine - v1.0
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
}(function(){var chunker=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,done=0,toString=Object.prototype.toString,hasDuplicate=false,baseHasDuplicate=true;[0,0].sort(function(){baseHasDuplicate=false;return 0});var Sizzle=function(selector,context,results,seed){results=results||[];var origContext=context=context||document;if(context.nodeType!==1&&context.nodeType!==9){return[]}if(!selector||typeof selector!=="string"){return results}var parts=[],m,set,checkSet,extra,prune=true,contextXML=isXML(context),soFar=selector;while((chunker.exec(""),m=chunker.exec(soFar))!==null){soFar=m[3];parts.push(m[1]);if(m[2]){extra=m[3];break}}if(parts.length>1&&origPOS.exec(selector)){if(parts.length===2&&Expr.relative[parts[0]]){set=posProcess(parts[0]+parts[1],context)}else{set=Expr.relative[parts[0]]?[context]:Sizzle(parts.shift(),context);while(parts.length){selector=parts.shift();if(Expr.relative[selector]){selector+=parts.shift()}set=posProcess(selector,set)}}}else{if(!seed&&parts.length>1&&context.nodeType===9&&!contextXML&&Expr.match.ID.test(parts[0])&&!Expr.match.ID.test(parts[parts.length-1])){var ret=Sizzle.find(parts.shift(),context,contextXML);context=ret.expr?Sizzle.filter(ret.expr,ret.set)[0]:ret.set[0]}if(context){var ret=seed?{expr:parts.pop(),set:makeArray(seed)}:Sizzle.find(parts.pop(),parts.length===1&&(parts[0]==="~"||parts[0]==="+")&&context.parentNode?context.parentNode:context,contextXML);set=ret.expr?Sizzle.filter(ret.expr,ret.set):ret.set;if(parts.length>0){checkSet=makeArray(set)}else{prune=false}while(parts.length){var cur=parts.pop(),pop=cur;if(!Expr.relative[cur]){cur=""}else{pop=parts.pop()}if(pop==null){pop=context}Expr.relative[cur](checkSet,pop,contextXML)}}else{checkSet=parts=[]}}if(!checkSet){checkSet=set}if(!checkSet){throw"Syntax error, unrecognized expression: "+(cur||selector)}if(toString.call(checkSet)==="[object Array]"){if(!prune){results.push.apply(results,checkSet)}else{if(context&&context.nodeType===1){for(var i=0;checkSet[i]!=null;i++){if(checkSet[i]&&(checkSet[i]===true||checkSet[i].nodeType===1&&contains(context,checkSet[i]))){results.push(set[i])}}}else{for(var i=0;checkSet[i]!=null;i++){if(checkSet[i]&&checkSet[i].nodeType===1){results.push(set[i])}}}}}else{makeArray(checkSet,results)}if(extra){Sizzle(extra,origContext,results,seed);Sizzle.uniqueSort(results)}return results};Sizzle.uniqueSort=function(results){if(sortOrder){hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate){for(var i=1;i<results.length;i++){if(results[i]===results[i-1]){results.splice(i--,1)}}}}return results};Sizzle.matches=function(expr,set){return Sizzle(expr,null,null,set)};Sizzle.find=function(expr,context,isXML){var set,match;if(!expr){return[]}for(var i=0,l=Expr.order.length;i<l;i++){var type=Expr.order[i],match;if((match=Expr.leftMatch[type].exec(expr))){var left=match[1];match.splice(1,1);if(left.substr(left.length-1)!=="\\"){match[1]=(match[1]||"").replace(/\\/g,"");set=Expr.find[type](match,context,isXML);if(set!=null){expr=expr.replace(Expr.match[type],"");break}}}}if(!set){set=context.getElementsByTagName("*")}return{set:set,expr:expr}};Sizzle.filter=function(expr,set,inplace,not){var old=expr,result=[],curLoop=set,match,anyFound,isXMLFilter=set&&set[0]&&isXML(set[0]);while(expr&&set.length){for(var type in Expr.filter){if((match=Expr.leftMatch[type].exec(expr))!=null&&match[2]){var filter=Expr.filter[type],found,item,left=match[1];anyFound=false;match.splice(1,1);if(left.substr(left.length-1)==="\\"){continue}if(curLoop===result){result=[]}if(Expr.preFilter[type]){match=Expr.preFilter[type](match,curLoop,inplace,result,not,isXMLFilter);if(!match){anyFound=found=true}else{if(match===true){continue}}}if(match){for(var i=0;(item=curLoop[i])!=null;i++){if(item){found=filter(item,match,i,curLoop);var pass=not^!!found;if(inplace&&found!=null){if(pass){anyFound=true}else{curLoop[i]=false}}else{if(pass){result.push(item);anyFound=true}}}}}if(found!==undefined){if(!inplace){curLoop=result}expr=expr.replace(Expr.match[type],"");if(!anyFound){return[]}break}}}if(expr===old){if(anyFound==null){throw"Syntax error, unrecognized expression: "+expr}else{break}}old=expr}return curLoop};var Expr=Sizzle.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(elem){return elem.getAttribute("href")}},relative:{"+":function(checkSet,part){var isPartStr=typeof part==="string",isTag=isPartStr&&!/\W/.test(part),isPartStrNotTag=isPartStr&&!isTag;if(isTag){part=part.toLowerCase()}for(var i=0,l=checkSet.length,elem;i<l;i++){if((elem=checkSet[i])){while((elem=elem.previousSibling)&&elem.nodeType!==1){}checkSet[i]=isPartStrNotTag||elem&&elem.nodeName.toLowerCase()===part?elem||false:elem===part}}if(isPartStrNotTag){Sizzle.filter(part,checkSet,true)}},">":function(checkSet,part){var isPartStr=typeof part==="string";if(isPartStr&&!/\W/.test(part)){part=part.toLowerCase();for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var parent=elem.parentNode;checkSet[i]=parent.nodeName.toLowerCase()===part?parent:false}}}else{for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){checkSet[i]=isPartStr?elem.parentNode:elem.parentNode===part}}if(isPartStr){Sizzle.filter(part,checkSet,true)}}},"":function(checkSet,part,isXML){var doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!/\W/.test(part)){var nodeCheck=part=part.toLowerCase();checkFn=dirNodeCheck}checkFn("parentNode",part,doneName,checkSet,nodeCheck,isXML)},"~":function(checkSet,part,isXML){var doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!/\W/.test(part)){var nodeCheck=part=part.toLowerCase();checkFn=dirNodeCheck}checkFn("previousSibling",part,doneName,checkSet,nodeCheck,isXML)}},find:{ID:function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m?[m]:[]}},NAME:function(match,context){if(typeof context.getElementsByName!=="undefined"){var ret=[],results=context.getElementsByName(match[1]);for(var i=0,l=results.length;i<l;i++){if(results[i].getAttribute("name")===match[1]){ret.push(results[i])}}return ret.length===0?null:ret}},TAG:function(match,context){return context.getElementsByTagName(match[1])}},preFilter:{CLASS:function(match,curLoop,inplace,result,not,isXML){match=" "+match[1].replace(/\\/g,"")+" ";if(isXML){return match}for(var i=0,elem;(elem=curLoop[i])!=null;i++){if(elem){if(not^(elem.className&&(" "+elem.className+" ").replace(/[\t\n]/g," ").indexOf(match)>=0)){if(!inplace){result.push(elem)}}else{if(inplace){curLoop[i]=false}}}}return false},ID:function(match){return match[1].replace(/\\/g,"")},TAG:function(match,curLoop){return match[1].toLowerCase()},CHILD:function(match){if(match[1]==="nth"){var test=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(match[2]==="even"&&"2n"||match[2]==="odd"&&"2n+1"||!/\D/.test(match[2])&&"0n+"+match[2]||match[2]);match[2]=(test[1]+(test[2]||1))-0;match[3]=test[3]-0}match[0]=done++;return match},ATTR:function(match,curLoop,inplace,result,not,isXML){var name=match[1].replace(/\\/g,"");if(!isXML&&Expr.attrMap[name]){match[1]=Expr.attrMap[name]}if(match[2]==="~="){match[4]=" "+match[4]+" "}return match},PSEUDO:function(match,curLoop,inplace,result,not){if(match[1]==="not"){if((chunker.exec(match[3])||"").length>1||/^\w/.test(match[3])){match[3]=Sizzle(match[3],null,null,curLoop)}else{var ret=Sizzle.filter(match[3],curLoop,inplace,true^not);if(!inplace){result.push.apply(result,ret)}return false}}else{if(Expr.match.POS.test(match[0])||Expr.match.CHILD.test(match[0])){return true}}return match},POS:function(match){match.unshift(true);return match}},filters:{enabled:function(elem){return elem.disabled===false&&elem.type!=="hidden"},disabled:function(elem){return elem.disabled===true},checked:function(elem){return elem.checked===true},selected:function(elem){elem.parentNode.selectedIndex;return elem.selected===true},parent:function(elem){return !!elem.firstChild},empty:function(elem){return !elem.firstChild},has:function(elem,i,match){return !!Sizzle(match[3],elem).length},header:function(elem){return/h\d/i.test(elem.nodeName)},text:function(elem){return"text"===elem.type},radio:function(elem){return"radio"===elem.type},checkbox:function(elem){return"checkbox"===elem.type},file:function(elem){return"file"===elem.type},password:function(elem){return"password"===elem.type},submit:function(elem){return"submit"===elem.type},image:function(elem){return"image"===elem.type},reset:function(elem){return"reset"===elem.type},button:function(elem){return"button"===elem.type||elem.nodeName.toLowerCase()==="button"},input:function(elem){return/input|select|textarea|button/i.test(elem.nodeName)}},setFilters:{first:function(elem,i){return i===0},last:function(elem,i,match,array){return i===array.length-1},even:function(elem,i){return i%2===0},odd:function(elem,i){return i%2===1},lt:function(elem,i,match){return i<match[3]-0},gt:function(elem,i,match){return i>match[3]-0},nth:function(elem,i,match){return match[3]-0===i},eq:function(elem,i,match){return match[3]-0===i}},filter:{PSEUDO:function(elem,match,i,array){var name=match[1],filter=Expr.filters[name];if(filter){return filter(elem,i,match,array)}else{if(name==="contains"){return(elem.textContent||elem.innerText||getText([elem])||"").indexOf(match[3])>=0}else{if(name==="not"){var not=match[3];for(var i=0,l=not.length;i<l;i++){if(not[i]===elem){return false}}return true}else{throw"Syntax error, unrecognized expression: "+name}}}},CHILD:function(elem,match){var type=match[1],node=elem;switch(type){case"only":case"first":while((node=node.previousSibling)){if(node.nodeType===1){return false}}if(type==="first"){return true}node=elem;case"last":while((node=node.nextSibling)){if(node.nodeType===1){return false}}return true;case"nth":var first=match[2],last=match[3];if(first===1&&last===0){return true}var doneName=match[0],parent=elem.parentNode;if(parent&&(parent.sizcache!==doneName||!elem.nodeIndex)){var count=0;for(node=parent.firstChild;node;node=node.nextSibling){if(node.nodeType===1){node.nodeIndex=++count}}parent.sizcache=doneName}var diff=elem.nodeIndex-last;if(first===0){return diff===0}else{return(diff%first===0&&diff/first>=0)}}},ID:function(elem,match){return elem.nodeType===1&&elem.getAttribute("id")===match},TAG:function(elem,match){return(match==="*"&&elem.nodeType===1)||elem.nodeName.toLowerCase()===match},CLASS:function(elem,match){return(" "+(elem.className||elem.getAttribute("class"))+" ").indexOf(match)>-1},ATTR:function(elem,match){var name=match[1],result=Expr.attrHandle[name]?Expr.attrHandle[name](elem):elem[name]!=null?elem[name]:elem.getAttribute(name),value=result+"",type=match[2],check=match[4];return result==null?type==="!=":type==="="?value===check:type==="*="?value.indexOf(check)>=0:type==="~="?(" "+value+" ").indexOf(check)>=0:!check?value&&result!==false:type==="!="?value!==check:type==="^="?value.indexOf(check)===0:type==="$="?value.substr(value.length-check.length)===check:type==="|="?value===check||value.substr(0,check.length+1)===check+"-":false},POS:function(elem,match,i,array){var name=match[2],filter=Expr.setFilters[name];if(filter){return filter(elem,i,match,array)}}}};var origPOS=Expr.match.POS;for(var type in Expr.match){Expr.match[type]=new RegExp(Expr.match[type].source+/(?![^\[]*\])(?![^\(]*\))/.source);Expr.leftMatch[type]=new RegExp(/(^(?:.|\r|\n)*?)/.source+Expr.match[type].source.replace(/\\(\d+)/g,function(all,num){return"\\"+(num-0+1)}))}var makeArray=function(array,results){array=Array.prototype.slice.call(array,0);if(results){results.push.apply(results,array);return results}return array};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(e){makeArray=function(array,results){var ret=results||[];if(toString.call(array)==="[object Array]"){Array.prototype.push.apply(ret,array)}else{if(typeof array.length==="number"){for(var i=0,l=array.length;i<l;i++){ret.push(array[i])}}else{for(var i=0;array[i];i++){ret.push(array[i])}}}return ret}}var sortOrder;if(document.documentElement.compareDocumentPosition){sortOrder=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b){hasDuplicate=true}return a.compareDocumentPosition?-1:1}var ret=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(ret===0){hasDuplicate=true}return ret}}else{if("sourceIndex" in document.documentElement){sortOrder=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b){hasDuplicate=true}return a.sourceIndex?-1:1}var ret=a.sourceIndex-b.sourceIndex;if(ret===0){hasDuplicate=true}return ret}}else{if(document.createRange){sortOrder=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b){hasDuplicate=true}return a.ownerDocument?-1:1}var aRange=a.ownerDocument.createRange(),bRange=b.ownerDocument.createRange();aRange.setStart(a,0);aRange.setEnd(a,0);bRange.setStart(b,0);bRange.setEnd(b,0);var ret=aRange.compareBoundaryPoints(Range.START_TO_END,bRange);if(ret===0){hasDuplicate=true}return ret}}}}function getText(elems){var ret="",elem;for(var i=0;elems[i];i++){elem=elems[i];if(elem.nodeType===3||elem.nodeType===4){ret+=elem.nodeValue}else{if(elem.nodeType!==8){ret+=getText(elem.childNodes)}}}return ret}(function(){var form=document.createElement("div"),id="script"+(new Date).getTime();form.innerHTML="<a name='"+id+"'/>";var root=document.documentElement;root.insertBefore(form,root.firstChild);if(document.getElementById(id)){Expr.find.ID=function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m?m.id===match[1]||typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id").nodeValue===match[1]?[m]:undefined:[]}};Expr.filter.ID=function(elem,match){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return elem.nodeType===1&&node&&node.nodeValue===match}}root.removeChild(form);root=form=null})();(function(){var div=document.createElement("div");div.appendChild(document.createComment(""));if(div.getElementsByTagName("*").length>0){Expr.find.TAG=function(match,context){var results=context.getElementsByTagName(match[1]);if(match[1]==="*"){var tmp=[];for(var i=0;results[i];i++){if(results[i].nodeType===1){tmp.push(results[i])}}results=tmp}return results}}div.innerHTML="<a href='#'></a>";if(div.firstChild&&typeof div.firstChild.getAttribute!=="undefined"&&div.firstChild.getAttribute("href")!=="#"){Expr.attrHandle.href=function(elem){return elem.getAttribute("href",2)}}div=null})();if(document.querySelectorAll){(function(){var oldSizzle=Sizzle,div=document.createElement("div");div.innerHTML="<p class='TEST'></p>";if(div.querySelectorAll&&div.querySelectorAll(".TEST").length===0){return}Sizzle=function(query,context,extra,seed){context=context||document;if(!seed&&context.nodeType===9&&!isXML(context)){try{return makeArray(context.querySelectorAll(query),extra)}catch(e){}}return oldSizzle(query,context,extra,seed)};for(var prop in oldSizzle){Sizzle[prop]=oldSizzle[prop]}div=null})()}(function(){var div=document.createElement("div");div.innerHTML="<div class='test e'></div><div class='test'></div>";if(!div.getElementsByClassName||div.getElementsByClassName("e").length===0){return}div.lastChild.className="e";if(div.getElementsByClassName("e").length===1){return}Expr.order.splice(1,0,"CLASS");Expr.find.CLASS=function(match,context,isXML){if(typeof context.getElementsByClassName!=="undefined"&&!isXML){return context.getElementsByClassName(match[1])}};div=null})();function dirNodeCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){elem=elem[dir];var match=false;while(elem){if(elem.sizcache===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1&&!isXML){elem.sizcache=doneName;elem.sizset=i}if(elem.nodeName.toLowerCase()===cur){match=elem;break}elem=elem[dir]}checkSet[i]=match}}}function dirCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){elem=elem[dir];var match=false;while(elem){if(elem.sizcache===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1){if(!isXML){elem.sizcache=doneName;elem.sizset=i}if(typeof cur!=="string"){if(elem===cur){match=true;break}}else{if(Sizzle.filter(cur,[elem]).length>0){match=elem;break}}}elem=elem[dir]}checkSet[i]=match}}}var contains=document.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)&16}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};var isXML=function(elem){var documentElement=(elem?elem.ownerDocument||elem:0).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};var posProcess=function(selector,context){var tmpSet=[],later="",match,root=context.nodeType?[context]:context;while((match=Expr.match.PSEUDO.exec(selector))){later+=match[0];selector=selector.replace(Expr.match.PSEUDO,"")}selector=Expr.relative[selector]?selector+"*":selector;for(var i=0,l=root.length;i<l;i++){Sizzle(selector,root[i],tmpSet)}return Sizzle.filter(later,tmpSet)};jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.filters;jQuery.unique=Sizzle.uniqueSort;jQuery.getText=getText;jQuery.isXMLDoc=isXML;jQuery.contains=contains;return;window.Sizzle=Sizzle})();var runtil=/Until$/,rparentsprev=/^(?:parents|prevUntil|prevAll)/,rmultiselector=/,/,slice=Array.prototype.slice;var winnow=function(elements,qualifier,keep){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return !!qualifier.call(elem,i,elem)===keep})}else{if(qualifier.nodeType){return jQuery.grep(elements,function(elem,i){return(elem===qualifier)===keep})}else{if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep)}else{qualifier=jQuery.filter(qualifier,elements)}}}}return jQuery.grep(elements,function(elem,i){return(jQuery.inArray(elem,qualifier)>=0)===keep})};jQuery.fn.extend({find:function(selector){var ret=this.pushStack("","find",selector),length=0;for(var i=0,l=this.length;i<l;i++){length=ret.length;jQuery.find(selector,this[i],ret);if(i>0){for(var n=length;n<ret.length;n++){for(var r=0;r<length;r++){if(ret[r]===ret[n]){ret.splice(n--,1);break}}}}}return ret},has:function(target){var targets=jQuery(target);return this.filter(function(){for(var i=0,l=targets.length;i<l;i++){if(jQuery.contains(this,targets[i])){return true}}})},not:function(selector){return this.pushStack(winnow(this,selector,false),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,true),"filter",selector)},is:function(selector){return !!selector&&jQuery.filter(selector,this).length>0},closest:function(selectors,context){if(jQuery.isArray(selectors)){var ret=[],cur=this[0],match,matches={},selector;if(cur&&selectors.length){for(var i=0,l=selectors.length;i<l;i++){selector=selectors[i];if(!matches[selector]){matches[selector]=jQuery.expr.match.POS.test(selector)?jQuery(selector,context||this.context):selector}}while(cur&&cur.ownerDocument&&cur!==context){for(selector in matches){match=matches[selector];if(match.jquery?match.index(cur)>-1:jQuery(cur).is(match)){ret.push({selector:selector,elem:cur});delete matches[selector]}}cur=cur.parentNode}}return ret}var pos=jQuery.expr.match.POS.test(selectors)?jQuery(selectors,context||this.context):null;return this.map(function(i,cur){while(cur&&cur.ownerDocument&&cur!==context){if(pos?pos.index(cur)>-1:jQuery(cur).is(selectors)){return cur}cur=cur.parentNode}return null})},index:function(elem){if(!elem||typeof elem==="string"){return jQuery.inArray(this[0],elem?jQuery(elem):this.parent().children())}return jQuery.inArray(elem.jquery?elem[0]:elem,this)},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context||this.context):jQuery.makeArray(selector),all=jQuery.merge(this.get(),set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all))},andSelf:function(){return this.add(this.prevObject)}});function isDisconnected(node){return !node||!node.parentNode||node.parentNode.nodeType===11}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return jQuery.nth(elem,2,"nextSibling")},prev:function(elem){return jQuery.nth(elem,2,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name)){selector=until}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret)}ret=this.length>1?jQuery.unique(ret):ret;if((this.length>1||rmultiselector.test(selector))&&rparentsprev.test(name)){ret=ret.reverse()}return this.pushStack(ret,name,slice.call(arguments).join(","))}});jQuery.extend({filter:function(expr,elems,not){if(not){expr=":not("+expr+")"}return jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur)}cur=cur[dir]}return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType===1&&++num===result){break}}return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n)}}return r}});var rinlinejQuery=/ jQuery\d+="(?:\d+|null)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/(<([\w:]+)[^>]*?)\/>/g,rselfClosing=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&\w+;/,fcloseTag=function(all,front,tag){return rselfClosing.test(tag)?all:front+"></"+tag+">"},wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!jQuery.support.htmlSerialize){wrapMap._default=[1,"div<div>","</div>"]}jQuery.fn.extend({text:function(text){if(jQuery.isFunction(text)){return this.each(function(i){var self=jQuery(this);return self.text(text.call(this,i,self.text()))})}if(typeof text!=="object"&&text!==undefined){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(text))}return jQuery.getText(this)},wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){return this.each(function(){jQuery(this).wrapAll(html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.insertBefore(elem,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this)})}else{if(arguments.length){var set=jQuery(arguments[0]);set.push.apply(set,this.toArray());return this.pushStack(set,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})}else{if(arguments.length){var set=this.pushStack(this,"after",arguments);set.push.apply(set,jQuery(arguments[0]).toArray());return set}}},clone:function(events){var ret=this.map(function(){if(!jQuery.support.noCloneEvent&&!jQuery.isXMLDoc(this)){var html=this.outerHTML,ownerDocument=this.ownerDocument;if(!html){var div=ownerDocument.createElement("div");div.appendChild(this.cloneNode(true));html=div.innerHTML}return jQuery.clean([html.replace(rinlinejQuery,"").replace(rleadingWhitespace,"")],ownerDocument)[0]}else{return this.cloneNode(true)}});if(events===true){cloneCopyEvent(this,ret);cloneCopyEvent(this.find("*"),ret.find("*"))}return ret},html:function(value){if(value===undefined){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(rinlinejQuery,""):null}else{if(typeof value==="string"&&!/<script/i.test(value)&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){try{for(var i=0,l=this.length;i<l;i++){if(this[i].nodeType===1){cleanData(this[i].getElementsByTagName("*"));this[i].innerHTML=value}}}catch(e){this.empty().append(value)}}else{if(jQuery.isFunction(value)){this.each(function(i){var self=jQuery(this),old=self.html();self.empty().append(function(){return value.call(this,i,old)})})}else{this.empty().append(value)}}}return this},replaceWith:function(value){if(this[0]&&this[0].parentNode){if(!jQuery.isFunction(value)){value=jQuery(value).detach()}return this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove();if(next){jQuery(next).before(value)}else{jQuery(parent).append(value)}})}else{return this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value)}},detach:function(selector){return this.remove(selector,true)},domManip:function(args,table,callback){var results,first,value=args[0],scripts=[];if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined);return self.domManip(args,table,callback)})}if(this[0]){if(args[0]&&args[0].parentNode&&args[0].parentNode.nodeType===11){results={fragment:args[0].parentNode}}else{results=buildFragment(args,this,scripts)}first=results.fragment.firstChild;if(first){table=table&&jQuery.nodeName(first,"tr");for(var i=0,l=this.length;i<l;i++){callback.call(table?root(this[i],first):this[i],results.cacheable||this.length>1||i>0?results.fragment.cloneNode(true):results.fragment)}}if(scripts){jQuery.each(scripts,evalScript)}}return this;function root(elem,cur){return jQuery.nodeName(elem,"table")?(elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody"))):elem}}});function cloneCopyEvent(orig,ret){var i=0;ret.each(function(){if(this.nodeName!==(orig[i]&&orig[i].nodeName)){return}var oldData=jQuery.data(orig[i++]),curData=jQuery.data(this,oldData),events=oldData&&oldData.events;if(events){delete curData.handle;curData.events={};for(var type in events){for(var handler in events[type]){jQuery.event.add(this,type,events[type][handler],events[type][handler].data)}}}})}function buildFragment(args,nodes,scripts){var fragment,cacheable,cached,cacheresults,doc;if(args.length===1&&typeof args[0]==="string"&&args[0].length<512&&args[0].indexOf("<option")<0){cacheable=true;cacheresults=jQuery.fragments[args[0]];if(cacheresults){if(cacheresults!==1){fragment=cacheresults}cached=true}}if(!fragment){doc=(nodes&&nodes[0]?nodes[0].ownerDocument||nodes[0]:document);fragment=doc.createDocumentFragment();jQuery.clean(args,doc,fragment,scripts)}if(cacheable){jQuery.fragments[args[0]]=cacheresults?fragment:1}return{fragment:fragment,cacheable:cacheable}}jQuery.fragments={};jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var ret=[],insert=jQuery(selector);for(var i=0,l=insert.length;i<l;i++){var elems=(i>0?this.clone(true):this).get();jQuery.fn[original].apply(jQuery(insert[i]),elems);ret=ret.concat(elems)}return this.pushStack(ret,name,insert.selector)}});jQuery.each({remove:function(selector,keepData){if(!selector||jQuery.filter(selector,[this]).length){if(!keepData&&this.nodeType===1){cleanData(this.getElementsByTagName("*"));cleanData([this])}if(this.parentNode){this.parentNode.removeChild(this)}}},empty:function(){if(this.nodeType===1){cleanData(this.getElementsByTagName("*"))}while(this.firstChild){this.removeChild(this.firstChild)}}},function(name,fn){jQuery.fn[name]=function(){return this.each(fn,arguments)}});jQuery.extend({clean:function(elems,context,fragment,scripts){context=context||document;if(typeof context.createElement==="undefined"){context=context.ownerDocument||context[0]&&context[0].ownerDocument||document}var ret=[];jQuery.each(elems,function(i,elem){if(typeof elem==="number"){elem+=""}if(!elem){return}if(typeof elem==="string"&&!rhtml.test(elem)){elem=context.createTextNode(elem)}else{if(typeof elem==="string"){elem=elem.replace(rxhtmlTag,fcloseTag);var tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,depth=wrap[0],div=context.createElement("div");div.innerHTML=wrap[1]+elem+wrap[2];while(depth--){div=div.lastChild}if(!jQuery.support.tbody){var hasBody=rtbody.test(elem),tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]==="<table>"&&!hasBody?div.childNodes:[];for(var j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j])}}}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild)}elem=jQuery.makeArray(div.childNodes)}}if(elem.nodeType){ret.push(elem)}else{ret=jQuery.merge(ret,elem)}});if(fragment){for(var i=0;ret[i];i++){if(scripts&&jQuery.nodeName(ret[i],"script")&&(!ret[i].type||ret[i].type.toLowerCase()==="text/javascript")){scripts.push(ret[i].parentNode?ret[i].parentNode.removeChild(ret[i]):ret[i])}else{if(ret[i].nodeType===1){ret.splice.apply(ret,[i+1,0].concat(jQuery.makeArray(ret[i].getElementsByTagName("script"))))}fragment.appendChild(ret[i])}}}return ret}});function cleanData(elems){for(var i=0,elem,id;(elem=elems[i])!=null;i++){if(!jQuery.noData[elem.nodeName.toLowerCase()]&&(id=elem[expando])){delete jQuery.cache[id]}}}var rexclude=/z-?index|font-?weight|opacity|zoom|line-?height/i,ralpha=/alpha\([^)]*\)/,ropacity=/opacity=([^)]*)/,rfloat=/float/i,rdashAlpha=/-([a-z])/ig,rupper=/([A-Z])/g,rnumpx=/^-?\d+(?:px)?$/i,rnum=/^-?\d/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssWidth=["Left","Right"],cssHeight=["Top","Bottom"],getComputedStyle=document.defaultView&&document.defaultView.getComputedStyle,styleFloat=jQuery.support.cssFloat?"cssFloat":"styleFloat",fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn.css=function(name,value){return access(this,name,value,true,function(elem,name,value){if(value===undefined){return jQuery.curCSS(elem,name)}if(typeof value==="number"&&!rexclude.test(name)){value+="px"}jQuery.style(elem,name,value)})};jQuery.extend({style:function(elem,name,value){if(!elem||elem.nodeType===3||elem.nodeType===8){return undefined}if((name==="width"||name==="height")&&parseFloat(value)<0){value=undefined}var style=elem.style||elem,set=value!==undefined;if(!jQuery.support.opacity&&name==="opacity"){if(set){style.zoom=1;var opacity=parseInt(value,10)+""==="NaN"?"":"alpha(opacity="+value*100+")";var filter=style.filter||jQuery.curCSS(elem,"filter")||"";style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):opacity}return style.filter&&style.filter.indexOf("opacity=")>=0?(parseFloat(ropacity.exec(style.filter)[1])/100)+"":""}if(rfloat.test(name)){name=styleFloat}name=name.replace(rdashAlpha,fcamelCase);if(set){style[name]=value}return style[name]},css:function(elem,name,force,extra){if(name==="width"||name==="height"){var val,props=cssShow,which=name==="width"?cssWidth:cssHeight;function getWH(){val=name==="width"?elem.offsetWidth:elem.offsetHeight;if(extra==="border"){return}jQuery.each(which,function(){if(!extra){val-=parseFloat(jQuery.curCSS(elem,"padding"+this,true))||0}if(extra==="margin"){val+=parseFloat(jQuery.curCSS(elem,"margin"+this,true))||0}else{val-=parseFloat(jQuery.curCSS(elem,"border"+this+"Width",true))||0}})}if(elem.offsetWidth!==0){getWH()}else{jQuery.swap(elem,props,getWH)}return Math.max(0,Math.round(val))}return jQuery.curCSS(elem,name,force)},curCSS:function(elem,name,force){var ret,style=elem.style,filter;if(!jQuery.support.opacity&&name==="opacity"&&elem.currentStyle){ret=ropacity.test(elem.currentStyle.filter||"")?(parseFloat(RegExp.$1)/100)+"":"";return ret===""?"1":ret}if(rfloat.test(name)){name=styleFloat}if(!force&&style&&style[name]){ret=style[name]}else{if(getComputedStyle){if(rfloat.test(name)){name="float"}name=name.replace(rupper,"-$1").toLowerCase();var defaultView=elem.ownerDocument.defaultView;if(!defaultView){return null}var computedStyle=defaultView.getComputedStyle(elem,null);if(computedStyle){ret=computedStyle.getPropertyValue(name)}if(name==="opacity"&&ret===""){ret="1"}}else{if(elem.currentStyle){var camelCase=name.replace(rdashAlpha,fcamelCase);ret=elem.currentStyle[name]||elem.currentStyle[camelCase];if(!rnumpx.test(ret)&&rnum.test(ret)){var left=style.left,rsLeft=elem.runtimeStyle.left;elem.runtimeStyle.left=elem.currentStyle.left;style.left=camelCase==="fontSize"?"1em":(ret||0);ret=style.pixelLeft+"px";style.left=left;elem.runtimeStyle.left=rsLeft}}}}return ret},swap:function(elem,options,callback){var old={};for(var name in options){old[name]=elem.style[name];elem.style[name]=options[name]}callback.call(elem);for(var name in options){elem.style[name]=old[name]}}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){var width=elem.offsetWidth,height=elem.offsetHeight,skip=elem.nodeName.toLowerCase()==="tr";return width===0&&height===0&&!skip?true:width>0&&height>0&&!skip?false:jQuery.curCSS(elem,"display")==="none"};jQuery.expr.filters.visible=function(elem){return !jQuery.expr.filters.hidden(elem)}}var jsc=now(),rscript=/<script(.|\s)*?\/script>/gi,rselectTextarea=/select|textarea/i,rinput=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,jsre=/=\?(&|$)/,rquery=/\?/,rts=/(\?|&)_=.*?(&|$)/,rurl=/^(\w+:)?\/\/([^\/?#]+)/,r20=/%20/g;jQuery.fn.extend({_load:jQuery.fn.load,load:function(url,params,callback){if(typeof url!=="string"){return this._load(url)}else{if(!this.length){return this}}var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=null}else{if(typeof params==="object"){params=jQuery.param(params,jQuery.ajaxSettings.traditional);type="POST"}}}jQuery.ajax({url:url,type:type,dataType:"html",data:params,context:this,complete:function(res,status){if(status==="success"||status==="notmodified"){this.html(selector?jQuery("<div />").append(res.responseText.replace(rscript,"")).find(selector):res.responseText)}if(callback){this.each(callback,[res.responseText,status,res])}}});return this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val}}):{name:elem.name,value:val}}).get()}});jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f)}});jQuery.extend({get:function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=null}return jQuery.ajax({type:"GET",url:url,data:data,success:callback,dataType:type})},getScript:function(url,callback){return jQuery.get(url,null,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},post:function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data={}}return jQuery.ajax({type:"POST",url:url,data:data,success:callback,dataType:type})},ajaxSetup:function(settings){jQuery.extend(jQuery.ajaxSettings,settings)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:window.XMLHttpRequest&&(window.location.protocol!=="file:"||!window.ActiveXObject)?function(){return new window.XMLHttpRequest()}:function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(origSettings){var s=jQuery.extend(true,{},jQuery.ajaxSettings,origSettings);var jsonp,status,data,callbackContext=s.context||s,type=s.type.toUpperCase();if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}if(s.dataType==="jsonp"){if(type==="GET"){if(!jsre.test(s.url)){s.url+=(rquery.test(s.url)?"&":"?")+(s.jsonp||"callback")+"=?"}}else{if(!s.data||!jsre.test(s.data)){s.data=(s.data?s.data+"&":"")+(s.jsonp||"callback")+"=?"}}s.dataType="json"}if(s.dataType==="json"&&(s.data&&jsre.test(s.data)||jsre.test(s.url))){jsonp=s.jsonpCallback||("jsonp"+jsc++);if(s.data){s.data=(s.data+"").replace(jsre,"="+jsonp+"$1")}s.url=s.url.replace(jsre,"="+jsonp+"$1");s.dataType="script";window[jsonp]=window[jsonp]||function(tmp){data=tmp;success();complete();window[jsonp]=undefined;try{delete window[jsonp]}catch(e){}if(head){head.removeChild(script)}}}if(s.dataType==="script"&&s.cache===null){s.cache=false}if(s.cache===false&&type==="GET"){var ts=now();var ret=s.url.replace(rts,"$1_="+ts+"$2");s.url=ret+((ret===s.url)?(rquery.test(s.url)?"&":"?")+"_="+ts:"")}if(s.data&&type==="GET"){s.url+=(rquery.test(s.url)?"&":"?")+s.data}if(s.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var parts=rurl.exec(s.url),remote=parts&&(parts[1]&&parts[1]!==location.protocol||parts[2]!==location.host);if(s.dataType==="script"&&type==="GET"&&remote){var head=document.getElementsByTagName("head")[0]||document.documentElement;var script=document.createElement("script");script.src=s.url;if(s.scriptCharset){script.charset=s.scriptCharset}if(!jsonp){var done=false;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){done=true;success();complete();script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script)}}}}head.insertBefore(script,head.firstChild);return undefined}var requestDone=false;var xhr=s.xhr();if(!xhr){return}if(s.username){xhr.open(type,s.url,s.async,s.username,s.password)}else{xhr.open(type,s.url,s.async)}try{if(s.data||origSettings&&origSettings.contentType){xhr.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){if(jQuery.lastModified[s.url]){xhr.setRequestHeader("If-Modified-Since",jQuery.lastModified[s.url])}if(jQuery.etag[s.url]){xhr.setRequestHeader("If-None-Match",jQuery.etag[s.url])}}if(!remote){xhr.setRequestHeader("X-Requested-With","XMLHttpRequest")}xhr.setRequestHeader("Accept",s.dataType&&s.accepts[s.dataType]?s.accepts[s.dataType]+", */*":s.accepts._default)}catch(e){}if(s.beforeSend&&s.beforeSend.call(callbackContext,xhr,s)===false){if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}xhr.abort();return false}if(s.global){trigger("ajaxSend",[xhr,s])}var onreadystatechange=xhr.onreadystatechange=function(isTimeout){if(!xhr||xhr.readyState===0){if(!requestDone){complete()}requestDone=true;if(xhr){xhr.onreadystatechange=jQuery.noop}}else{if(!requestDone&&xhr&&(xhr.readyState===4||isTimeout==="timeout")){requestDone=true;xhr.onreadystatechange=jQuery.noop;status=isTimeout==="timeout"?"timeout":!jQuery.httpSuccess(xhr)?"error":s.ifModified&&jQuery.httpNotModified(xhr,s.url)?"notmodified":"success";if(status==="success"){try{data=jQuery.httpData(xhr,s.dataType,s)}catch(e){status="parsererror"}}if(status==="success"||status==="notmodified"){if(!jsonp){success()}}else{jQuery.handleError(s,xhr,status)}complete();if(isTimeout==="timeout"){xhr.abort()}if(s.async){xhr=null}}}};try{var oldAbort=xhr.abort;xhr.abort=function(){if(xhr){oldAbort.call(xhr);if(xhr){xhr.readyState=0}}onreadystatechange()}}catch(e){}if(s.async&&s.timeout>0){setTimeout(function(){if(xhr&&!requestDone){onreadystatechange("timeout")}},s.timeout)}try{xhr.send(type==="POST"||type==="PUT"||type==="DELETE"?s.data:null)}catch(e){jQuery.handleError(s,xhr,null,e);complete()}if(!s.async){onreadystatechange()}function success(){if(s.success){s.success.call(callbackContext,data,status,xhr)}if(s.global){trigger("ajaxSuccess",[xhr,s])}}function complete(){if(s.complete){s.complete.call(callbackContext,xhr,status)}if(s.global){trigger("ajaxComplete",[xhr,s])}if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}}function trigger(type,args){(s.context?jQuery(s.context):jQuery.event).trigger(type,args)}return xhr},handleError:function(s,xhr,status,e){if(s.error){s.error.call(s.context||window,xhr,status,e)}if(s.global){(s.context?jQuery(s.context):jQuery.event).trigger("ajaxError",[xhr,s,e])}},active:0,httpSuccess:function(xhr){try{return !xhr.status&&location.protocol==="file:"||(xhr.status>=200&&xhr.status<300)||xhr.status===304||xhr.status===1223||xhr.status===0}catch(e){}return false},httpNotModified:function(xhr,url){var lastModified=xhr.getResponseHeader("Last-Modified"),etag=xhr.getResponseHeader("Etag");if(lastModified){jQuery.lastModified[url]=lastModified}if(etag){jQuery.etag[url]=etag}return xhr.status===304||xhr.status===0},httpData:function(xhr,type,s){var ct=xhr.getResponseHeader("content-type")||"",xml=type==="xml"||!type&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.nodeName==="parsererror"){throw"parsererror"}if(s&&s.dataFilter){data=s.dataFilter(data,type)}if(typeof data==="string"){if(type==="json"||!type&&ct.indexOf("json")>=0){if(/^[\],:{}\s]*$/.test(data.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){if(window.JSON&&window.JSON.parse){data=window.JSON.parse(data)}else{data=(new Function("return "+data))()}}else{throw"Invalid JSON: "+data}}else{if(type==="script"||!type&&ct.indexOf("javascript")>=0){jQuery.globalEval(data)}}}return data},param:function(a,traditional){var s=[];if(traditional===undefined){traditional=jQuery.ajaxSettings.traditional}function add(key,value){value=jQuery.isFunction(value)?value():value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)}if(jQuery.isArray(a)||a.jquery){jQuery.each(a,function(){add(this.name,this.value)})}else{jQuery.each(a,function buildParams(prefix,obj){if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"||jQuery.isArray(v)?i:"")+"]",v)}})}else{if(!traditional&&obj!=null&&typeof obj==="object"){jQuery.each(obj,function(k,v){buildParams(prefix+"["+k+"]",v)})}else{add(prefix,obj)}}})}return s.join("&").replace(r20,"+")}});var elemdisplay={},rfxtypes=/toggle|show|hide/,rfxnum=/^([+-]=)?([\d+-.]+)(.*)$/,timerId,fxAttrs=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];jQuery.fn.extend({show:function(speed,callback){if(speed!=null){return this.animate(genFx("show",3),speed,callback)}else{for(var i=0,l=this.length;i<l;i++){var old=jQuery.data(this[i],"olddisplay");this[i].style.display=old||"";if(jQuery.css(this[i],"display")==="none"){var nodeName=this[i].nodeName,display;if(elemdisplay[nodeName]){display=elemdisplay[nodeName]}else{var elem=jQuery("<"+nodeName+" />").appendTo("body");display=elem.css("display");if(display==="none"){display="block"}elem.remove();elemdisplay[nodeName]=display}jQuery.data(this[i],"olddisplay",display)}}for(var j=0,k=this.length;j<k;j++){this[j].style.display=jQuery.data(this[j],"olddisplay")||""}return this}},hide:function(speed,callback){if(speed!=null){return this.animate(genFx("hide",3),speed,callback)}else{for(var i=0,l=this.length;i<l;i++){var old=jQuery.data(this[i],"olddisplay");if(!old&&old!=="none"){jQuery.data(this[i],"olddisplay",jQuery.css(this[i],"display"))}}for(var j=0,k=this.length;j<k;j++){this[j].style.display="none"}return this}},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2){var bool=typeof fn==="boolean";if(jQuery.isFunction(fn)&&jQuery.isFunction(fn2)){this._toggle.apply(this,arguments)}else{if(fn==null||bool){this.each(function(){var state=bool?fn:jQuery(this).is(":hidden");jQuery(this)[state?"show":"hide"]()})}else{this.animate(genFx("toggle",3),fn,fn2)}}return this},fadeTo:function(speed,to,callback){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:to},speed,callback)},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);if(jQuery.isEmptyObject(prop)){return this.each(optall.complete)}return this[optall.queue===false?"each":"queue"](function(){var opt=jQuery.extend({},optall),p,hidden=this.nodeType===1&&jQuery(this).is(":hidden"),self=this;for(p in prop){var name=p.replace(rdashAlpha,fcamelCase);if(p!==name){prop[name]=prop[p];delete prop[p];p=name}if(prop[p]==="hide"&&hidden||prop[p]==="show"&&!hidden){return opt.complete.call(this)}if((p==="height"||p==="width")&&this.style){opt.display=jQuery.css(this,"display");opt.overflow=this.style.overflow}if(jQuery.isArray(prop[p])){(opt.specialEasing=opt.specialEasing||{})[p]=prop[p][1];prop[p]=prop[p][0]}}if(opt.overflow!=null){this.style.overflow="hidden"}opt.curAnim=jQuery.extend({},prop);jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);if(rfxtypes.test(val)){e[val==="toggle"?hidden?"show":"hide":val](prop)}else{var parts=rfxnum.exec(val),start=e.cur(true)||0;if(parts){var end=parseFloat(parts[2]),unit=parts[3]||"px";if(unit!=="px"){self.style[name]=(end||1)+unit;start=((end||1)/e.cur(true))*start;self.style[name]=start+unit}if(parts[1]){end=((parts[1]==="-="?-1:1)*end)+start}e.custom(start,end,unit)}else{e.custom(start,val,"")}}});return true})},stop:function(clearQueue,gotoEnd){var timers=jQuery.timers;if(clearQueue){this.queue([])}this.each(function(){for(var i=timers.length-1;i>=0;i--){if(timers[i].elem===this){if(gotoEnd){timers[i](true)}timers.splice(i,1)}}});if(!gotoEnd){this.dequeue()}return this}});jQuery.each({slideDown:genFx("show",1),slideUp:genFx("hide",1),slideToggle:genFx("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(name,props){jQuery.fn[name]=function(speed,callback){return this.animate(props,speed,callback)}});jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&typeof speed==="object"?speed:{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:jQuery.fx.speeds[opt.duration]||jQuery.fx.speeds._default;opt.old=opt.complete;opt.complete=function(){if(opt.queue!==false){jQuery(this).dequeue()}if(jQuery.isFunction(opt.old)){opt.old.call(this)}};return opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum}},timers:[],fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;if(!options.orig){options.orig={}}}});jQuery.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style){this.elem.style.display="block"}},cur:function(force){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var r=parseFloat(jQuery.css(this.elem,this.prop,force));return r&&r>-10000?r:parseFloat(jQuery.curCSS(this.elem,this.prop))||0},custom:function(from,to,unit){this.startTime=now();this.start=from;this.end=to;this.unit=unit||this.unit||"px";this.now=this.start;this.pos=this.state=0;var self=this;function t(gotoEnd){return self.step(gotoEnd)}t.elem=this.elem;if(t()&&jQuery.timers.push(t)&&!timerId){timerId=setInterval(jQuery.fx.tick,13)}},show:function(){this.options.orig[this.prop]=jQuery.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(gotoEnd){var t=now(),done=true;if(gotoEnd||t>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var i in this.options.curAnim){if(this.options.curAnim[i]!==true){done=false}}if(done){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;var old=jQuery.data(this.elem,"olddisplay");this.elem.style.display=old?old:this.options.display;if(jQuery.css(this.elem,"display")==="none"){this.elem.style.display="block"}}if(this.options.hide){jQuery(this.elem).hide()}if(this.options.hide||this.options.show){for(var p in this.options.curAnim){jQuery.style(this.elem,p,this.options.orig[p])}}this.options.complete.call(this.elem)}return false}else{var n=t-this.startTime;this.state=n/this.options.duration;var specialEasing=this.options.specialEasing&&this.options.specialEasing[this.prop];var defaultEasing=this.options.easing||(jQuery.easing.swing?"swing":"linear");this.pos=jQuery.easing[specialEasing||defaultEasing](this.state,n,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};jQuery.extend(jQuery.fx,{tick:function(){var timers=jQuery.timers;for(var i=0;i<timers.length;i++){if(!timers[i]()){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}},stop:function(){clearInterval(timerId);timerId=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(fx){jQuery.style(fx.elem,"opacity",fx.now)},_default:function(fx){if(fx.elem.style&&fx.elem.style[fx.prop]!=null){fx.elem.style[fx.prop]=(fx.prop==="width"||fx.prop==="height"?Math.max(0,fx.now):fx.now)+fx.unit}else{fx.elem[fx.prop]=fx.now}}}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length}}function genFx(type,num){var obj={};jQuery.each(fxAttrs.concat.apply([],fxAttrs.slice(0,num)),function(){obj[this]=type});return obj}if("getBoundingClientRect" in document.documentElement){jQuery.fn.offset=function(options){var elem=this[0];if(!elem||!elem.ownerDocument){return null}if(options){return this.each(function(i){jQuery.offset.setOffset(this,options,i)})}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}var box=elem.getBoundingClientRect(),doc=elem.ownerDocument,body=doc.body,docElem=doc.documentElement,clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,top=box.top+(self.pageYOffset||jQuery.support.boxModel&&docElem.scrollTop||body.scrollTop)-clientTop,left=box.left+(self.pageXOffset||jQuery.support.boxModel&&docElem.scrollLeft||body.scrollLeft)-clientLeft;return{top:top,left:left}}}else{jQuery.fn.offset=function(options){var elem=this[0];if(!elem||!elem.ownerDocument){return null}if(options){return this.each(function(i){jQuery.offset.setOffset(this,options,i)})}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}jQuery.offset.initialize();var offsetParent=elem.offsetParent,prevOffsetParent=elem,doc=elem.ownerDocument,computedStyle,docElem=doc.documentElement,body=doc.body,defaultView=doc.defaultView,prevComputedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top=elem.offsetTop,left=elem.offsetLeft;while((elem=elem.parentNode)&&elem!==body&&elem!==docElem){if(jQuery.offset.supportsFixedPosition&&prevComputedStyle.position==="fixed"){break}computedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle;top-=elem.scrollTop;left-=elem.scrollLeft;if(elem===offsetParent){top+=elem.offsetTop;left+=elem.offsetLeft;if(jQuery.offset.doesNotAddBorder&&!(jQuery.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(elem.nodeName))){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevOffsetParent=offsetParent,offsetParent=elem.offsetParent}if(jQuery.offset.subtractsBorderForOverflowNotVisible&&computedStyle.overflow!=="visible"){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevComputedStyle=computedStyle}if(prevComputedStyle.position==="relative"||prevComputedStyle.position==="static"){top+=body.offsetTop;left+=body.offsetLeft}if(jQuery.offset.supportsFixedPosition&&prevComputedStyle.position==="fixed"){top+=Math.max(docElem.scrollTop,body.scrollTop);left+=Math.max(docElem.scrollLeft,body.scrollLeft)}return{top:top,left:left}}}jQuery.offset={initialize:function(){var body=document.body,container=document.createElement("div"),innerDiv,checkDiv,table,td,bodyMarginTop=parseFloat(jQuery.curCSS(body,"marginTop",true))||0,html="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";jQuery.extend(container.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});container.innerHTML=html;body.insertBefore(container,body.firstChild);innerDiv=container.firstChild;checkDiv=innerDiv.firstChild;td=innerDiv.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(checkDiv.offsetTop!==5);this.doesAddBorderForTableAndCells=(td.offsetTop===5);checkDiv.style.position="fixed",checkDiv.style.top="20px";this.supportsFixedPosition=(checkDiv.offsetTop===20||checkDiv.offsetTop===15);checkDiv.style.position=checkDiv.style.top="";innerDiv.style.overflow="hidden",innerDiv.style.position="relative";this.subtractsBorderForOverflowNotVisible=(checkDiv.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(body.offsetTop!==bodyMarginTop);body.removeChild(container);body=container=innerDiv=checkDiv=table=td=null;jQuery.offset.initialize=jQuery.noop},bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;jQuery.offset.initialize();if(jQuery.offset.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.curCSS(body,"marginTop",true))||0;left+=parseFloat(jQuery.curCSS(body,"marginLeft",true))||0}return{top:top,left:left}},setOffset:function(elem,options,i){if(/static/.test(jQuery.curCSS(elem,"position"))){elem.style.position="relative"}var curElem=jQuery(elem),curOffset=curElem.offset(),curTop=parseInt(jQuery.curCSS(elem,"top",true),10)||0,curLeft=parseInt(jQuery.curCSS(elem,"left",true),10)||0;if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}var props={top:(options.top-curOffset.top)+curTop,left:(options.left-curOffset.left)+curLeft};if("using" in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({position:function(){if(!this[0]){return null}var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=/^body|html$/i.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat(jQuery.curCSS(elem,"marginTop",true))||0;offset.left-=parseFloat(jQuery.curCSS(elem,"marginLeft",true))||0;parentOffset.top+=parseFloat(jQuery.curCSS(offsetParent[0],"borderTopWidth",true))||0;parentOffset.left+=parseFloat(jQuery.curCSS(offsetParent[0],"borderLeftWidth",true))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&(!/^body|html$/i.test(offsetParent.nodeName)&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent})}});jQuery.each(["Left","Top"],function(i,name){var method="scroll"+name;jQuery.fn[method]=function(val){var elem=this[0],win;if(!elem){return null}if(val!==undefined){return this.each(function(){win=getWindow(this);if(win){win.scrollTo(!i?val:jQuery(win).scrollLeft(),i?val:jQuery(win).scrollTop())}else{this[method]=val}})}else{win=getWindow(elem);return win?("pageXOffset" in win)?win[i?"pageYOffset":"pageXOffset"]:jQuery.support.boxModel&&win.document.documentElement[method]||win.document.body[method]:elem[method]}}});function getWindow(elem){return("scrollTo" in elem&&elem.document)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false}jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();jQuery.fn["inner"+name]=function(){return this[0]?jQuery.css(this[0],type,false,"padding"):null};jQuery.fn["outer"+name]=function(margin){return this[0]?jQuery.css(this[0],type,false,margin?"margin":"border"):null};jQuery.fn[type]=function(size){var elem=this[0];if(!elem){return size==null?null:this}return("scrollTo" in elem&&elem.document)?elem.document.compatMode==="CSS1Compat"&&elem.document.documentElement["client"+name]||elem.document.body["client"+name]:(elem.nodeType===9)?Math.max(elem.documentElement["client"+name],elem.body["scroll"+name],elem.documentElement["scroll"+name],elem.body["offset"+name],elem.documentElement["offset"+name]):size===undefined?jQuery.css(elem,type):this.css(type,typeof size==="string"?size:size+"px")}});window.jQuery=window.$=jQuery})(window);jQuery=$=window.jQuery.noConflict();$d=$(document);$w=$(window);if($.browser.mozilla){jQuery.ready();
/*
 * jQuery doTimeout: Like setTimeout, but better! - v0.4 - 7/15/2009
 * http://benalman.com/projects/jquery-dotimeout-plugin/
 * 
 * Copyright (c) 2009 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
}(function($){var cache={},doTimeout="doTimeout",aps=Array.prototype.slice;$[doTimeout]=function(){return p_doTimeout.apply(window,[0].concat(aps.call(arguments)))};$.fn[doTimeout]=function(){var args=aps.call(arguments),result=p_doTimeout.apply(this,[doTimeout+args[0]].concat(args));return typeof args[0]==="number"||typeof args[1]==="number"?this:result};function p_doTimeout(jquery_data_key){var that=this,elem,data={},args=arguments,slice_args=4,id=args[1],delay=args[2],callback=args[3];if(typeof id!=="string"){slice_args--;id=jquery_data_key=0;delay=args[1];callback=args[2]}if(jquery_data_key){elem=that.eq(0);elem.data(jquery_data_key,data=elem.data(jquery_data_key)||{})}else{if(id){data=cache[id]||(cache[id]={})}}data.id&&clearTimeout(data.id);delete data.id;function cleanup(){if(jquery_data_key){elem.removeData(jquery_data_key)}else{if(id){delete cache[id]}}}function actually_setTimeout(){data.id=setTimeout(function(){data.fn()},delay)}if(callback){data.fn=function(no_polling_loop){callback.apply(that,aps.call(args,slice_args))&&!no_polling_loop?actually_setTimeout():cleanup()};actually_setTimeout()}else{if(data.fn){delay===undefined?cleanup():data.fn(delay===false);return true}else{cleanup()}}}})(jQuery);(function($){var formats={"%":function(val){return"%"},b:function(val){return parseInt(val,10).toString(2)},c:function(val){return String.fromCharCode(parseInt(val,10))},d:function(val){return parseInt(val,10)?parseInt(val,10):0},u:function(val){return Math.abs(val)},f:function(val,p){return(p>-1)?Math.round(parseFloat(val)*Math.pow(10,p))/Math.pow(10,p):parseFloat(val)},o:function(val){return parseInt(val,10).toString(8)},s:function(val){return val},x:function(val){return(""+parseInt(val,10).toString(16)).toLowerCase()},X:function(val){return(""+parseInt(val,10).toString(16)).toUpperCase()}};var re=/%(?:(\d+)?(?:\.(\d+))?|\(([^)]+)\))([%bcdufosxX])/g;var dispatch=function(data){if(data.length==1&&typeof data[0]=="object"){data=data[0];return function(match,w,p,lbl,fmt,off,str){return formats[fmt](data[lbl])}}else{var idx=0;return function(match,w,p,lbl,fmt,off,str){return formats[fmt](data[idx++],p)}}};$.extend({sprintf:function(format){var argv=Array.apply(null,arguments).slice(1);return format.replace(re,dispatch(argv))},vsprintf:function(format,data){return format.replace(re,dispatch(data))}})})(jQuery);if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());AN.mod["Ajax Integrator"]={ver:"N/A",author:"向日",fn:{"b17a0463-e46c-4420-a8f5-f169fac20aec":{desc:"Ajax化頁面讀取",page:{32:true},type:7,options:{viewAjaxDisplayMode:{desc:"顯示模式",type:"select",choices:["單頁模式","延展模式","延展模式(隱藏轉頁格)"],defaultValue:"延展模式"},nCheckInterval:{desc:"自動更新間隔(秒)",defaultValue:30,type:"text"},addViewAjaxPageLinks:{desc:"加入轉頁連結至連結元件",defaultValue:true,type:"checkbox"}},once:function(jDoc){jDoc.defer(1,"移除原有轉頁功能",function(){window.changePage=$.noop});window.ToggleUserDetail=$.noop;AN.util.stackStyle(".hkg_bottombar_link > img { border: 0; }");$d.bind("mousedown.userlinkbox",function(event){var jTarget=$(event.target);if(!jTarget.is('a[href^="javascript: ToggleUserDetail"]')){return}event.preventDefault();var jContainer=jTarget.nextAll("div:first");var jUserDetails=jContainer.children(".repliers_left_user_details");if(!jUserDetails.length){jContainer.append($.sprintf('				<div class="repliers_left_user_details"> 					<a class="hkg_bottombar_link" href="/ProfilePage.aspx?userid=%(userid)s"><img src="/images/bb_bookmarks/profile.gif" /></a> 					<a class="hkg_bottombar_link" href="/blog/blog.aspx?userid=%(userid)s"><img src="/images/bb_bookmarks/blog.gif" /></a> 				</div> 				',{userid:jTarget.up("tr").attr("userid")}))}else{jUserDetails.toggle()}});var pages={};var curPageNo=jDoc.pageNo();var lastPageNo=$('select[name="page"]:first').children().length;var displayMode=$.inArray(AN.util.getOptions("viewAjaxDisplayMode"),this.options.viewAjaxDisplayMode.choices);function updateElements(jScope){$('table[width="99%"] > tbody > tr > td > strong').text(jScope.find('table[width="99%"] > tbody > tr > td > strong:first').text())}function handleNewPage(jScope,newPageNo){var jDiv=$(".repliers:first",jScope).up("div");jDiv.prepend(jDiv.prev()).children("div:eq(1)").nextAll()[jScope?"remove":"insertAfter"](jScope?undefined:jDiv);if(displayMode!=2){var jSelect=jDiv.find('select[name="page"]');jSelect.data("an-pageno",jSelect.val())}updateElements(jDiv);if(jScope){for(var pageNo=1;pageNo<=pages.last;pageNo++){if(pages[pageNo]&&newPageNo<pageNo){jDiv.insertBefore(pages[pageNo]);break}}if(pageNo>pages.last){jDiv.insertAfter(pages[pages.last])}AN.modFn.execMods(jDiv)}if(!pages.last||newPageNo&&newPageNo>pages.last){pages.last=newPageNo||curPageNo}pages[newPageNo||curPageNo]=jDiv;return jDiv}function changePage(targetPageNo,isAuto){if(isWorking){return}if(targetPageNo<1){return document.body.scrollIntoView()}if(targetPageNo>lastPageNo){return document.body.scrollIntoView(false)}var previouslyCached=!!pages[targetPageNo];function handlePageChange(jDiv){if(displayMode===0){pages[curPageNo].hide()}location.hash="page="+targetPageNo;if(!isAuto){jDiv[0].scrollIntoView()}curPageNo=targetPageNo;AN.shared("log","轉頁完成");$d.trigger({type:"workend",isPageChangeEnd:true,previouslyCached:previouslyCached})}$d.trigger("workstart");AN.shared("log",$.sprintf("正在轉至第%s頁...",targetPageNo));if(previouslyCached){handlePageChange(pages[targetPageNo].show())}else{$.getDoc(AN.util.getURL({page:targetPageNo}),function(jNewDoc){handlePageChange(handleNewPage(jNewDoc,targetPageNo))})}}function getReplies(isAuto){if(isWorking){return}if(pages.last==41){AN.shared("log","1001!");return}if(displayMode===0&&curPageNo!=lastPageNo){if(!isAuto){changePage(curPageNo+1,isAuto)}return}if(displayMode!==0&&pages.last!=lastPageNo){changePage(pages.last+1,isAuto);return}$d.trigger("workstart");AN.shared("log","正在讀取最新回覆...");$.getDoc(AN.util.getURL({page:pages.last}),function(jNewDoc){updateElements(jNewDoc);var jNewReplies=jNewDoc.find(".repliers").closest("div > table");var jNewSelect=jNewDoc.find('select[name="page"]:first');var oldReplyNum=pages[pages.last].find(".repliers").length;var newLastPageNo=jNewSelect.children().length;var difference=jNewReplies.length-oldReplyNum;var hasNextPage=newLastPageNo>lastPageNo;if(difference<=0&&!hasNextPage){AN.shared("log","沒有新回覆")}else{var jNewElements=$();if(difference>0){jNewElements=jNewElements.add(jNewReplies.slice(oldReplyNum).insertAfter(pages[pages.last].children("table:last")));AN.shared("log",$.sprintf("加入%s個新回覆",difference))}if(hasNextPage){lastPageNo=newLastPageNo;if(displayMode!=2){$('select[name="page"]').each(function(){var jThis=$(this);var max=jThis.children().length;while(max<newLastPageNo){jThis.append($.sprintf('<option value="%(pageNo)s">%(pageNo)s</option>',{pageNo:++max}))}});jNewElements=jNewElements.add(jNewSelect.up("div",3).replaceAll(pages[pages.last].find('select[name="page"]').up("div",3)))}if(displayMode===0){AN.shared("log","發現下一頁, 連結建立")}else{changePage(pages.last+1,isAuto)}}AN.modFn.execMods(jNewElements)}$d.trigger("workend")})}$("#aspnetForm").submit(function(event){event.preventDefault();if(isWorking){return AN.shared("log","正在工作中, 請稍後再試")}$d.trigger("workstart");AN.shared("log","正在發送回覆...");$.post(location.pathname+location.search,$("#aspnetForm").serialize()+"&ctl00%24ContentPlaceHolder1%24btn_Submit.x=0&ctl00%24ContentPlaceHolder1%24btn_Submit.y=0",function(sHTML){if($.doc(sHTML).pageName()!="view"){return AN.shared("log","回覆發送失敗!")}$("#ctl00_ContentPlaceHolder1_messagetext").val("");$("#previewArea").empty();AN.shared("log","回覆發送完成");$d.trigger("workend");getReplies(true)})});var isWorking=false;$d.bind("workstart workend",function(event){isWorking=(event.type=="workstart")});$d.bind("click",function(event){var jTarget=$(event.target);if(jTarget.parent("a").length){jTarget=jTarget.parent()}if(!(jTarget.is("a")&&jTarget.parent("div").siblings("div").children('select[name="page"]').length)){return}event.preventDefault();changePage(AN.util.getPageNo(jTarget.attr("href")))});if(displayMode==2){AN.util.stackStyle($.sprintf("%(pageDiv)s > div, %(pageDiv)s > br, %(pageDiv)s + br { display: none; }",{pageDiv:'#ctl00_ContentPlaceHolder1_view_form > div[style*="100%"]'}))}else{$d.bind("change",function(event){var jTarget=$(event.target);if(!jTarget.is('select[name="page"]')){return}var target=jTarget.val();jTarget.val(jTarget.data("an-pageno"));changePage(target*1)})}handleNewPage();(function(){var jTimer=$("<span>N/A</span>").appendTo(AN.shared("addInfo","距離更新: "));var tCheck;function countdown(param){if(param.time>=0||isWorking){if(param.time>=0){jTimer.text(param.time--+"秒")}return true}$.doTimeout("checkbottom",500,checkBottom)}function checkBottom(){if(pages[pages.last].offset().top+pages[pages.last].height()-$d.scrollTop()-$w.height()>500){return true}getReplies(true)}var interval=AN.util.getOptions("nCheckInterval");if(!interval||interval<30){interval=30}$d.bind("workstart workend",function(event){$.doTimeout("checkbottom");jTimer.text("N/A");if(event.type=="workend"&&(displayMode!==0||curPageNo==lastPageNo)){$.doTimeout("checkbottom",1000,countdown,{time:event.isPageChangeEnd&&(event.previouslyCached||pages.last!=lastPageNo)?1:interval})}})})();(function(){var jCurPageLink=$("<a />").appendTo(AN.shared("addInfo","本頁頁數: "));$d.bind("workend",function(event){if(event.isPageChangeEnd){jCurPageLink.attr("href",AN.util.getURL({page:curPageNo})).text("第"+curPageNo+"頁")}})})();$d.trigger({type:"workend",isPageChangeEnd:true});jDoc.defer(2,"加入讀取按扭",function(){AN.shared("addButton","更新帖子",function(){getReplies(false)})});if(AN.util.getOptions("addViewAjaxPageLinks")){AN.shared("addLink","上一頁",function(){changePage(curPageNo-1)},0);AN.shared("addLink","下一頁",function(){changePage(curPageNo+1)},2)}}},"bc2521cd-cf65-4cc5-ac9d-4fedef3c3a97":{desc:"Ajax式列表更新",page:{4:true},type:7,options:{nNumOfTopicPage:{desc:"列表顯示數量",defaultValue:1,type:"text"},bAddGetBtn_T:{desc:"加入更新列表按扭",defaultValue:true,type:"checkbox"},bAutoRefresh_T:{desc:"預設啟用自動更新",defaultValue:false,type:"checkbox"},bAddToggleAutoBtn_T:{desc:"加入切換自動更新按扭",defaultValue:false,type:"checkbox"},nRefreshInterval_T:{desc:"自動更新間隔(秒)",defaultValue:30,type:"text"}},once:function(jDoc){var refreshTopics=function(nPage){clearTimeout(tRefresh);if(isNaN(nPage)||nPage<1){nPage=1;AN.shared("log","正在讀取最新列表...")}$.getDoc(AN.util.getURL({page:nPage}),function(jNewDoc){var jNewTbody=jNewDoc.topics().jTbody;var jTopicTable=$d.topicTable();if(nPage==1){jTopicTable.empty()}jTopicTable.append(jNewTbody);if(nPage==AN.util.getOptions("nNumOfTopicPage")){AN.modFn.execMods($(document).topicTable());AN.shared("log","列表更新完成");if(bAutoRefresh){AN.shared("log2",$.sprintf("%s秒後再次重新整埋....",nInterval));setNextRefresh()}}else{refreshTopics(nPage+1)}})};if(AN.util.getOptions("nNumOfTopicPage")>1){setTimeout(function(){refreshTopics(2)},0)}var setNextRefresh=function(){tRefresh=setTimeout(refreshTopics,nInterval*1000)};if(AN.util.getOptions("bAddGetBtn_T")){jDoc.defer(2,"加入更新按扭",function(){AN.shared("addButton","更新列表",refreshTopics)})}var tRefresh;var bAutoRefresh=AN.util.getOptions("bAutoRefresh_T");var nInterval=AN.util.getOptions("nRefreshInterval_T");if(nInterval<30){nInterval=30}if(bAutoRefresh){setNextRefresh()}if(AN.util.getOptions("bAddToggleAutoBtn_T")){AN.shared("addButton","切換自動更新",function(){if(bAutoRefresh){clearTimeout(tRefresh);AN.shared("log","已停用自動更新")}else{setNextRefresh();AN.shared("log","已啟用自動更新")}bAutoRefresh=!bAutoRefresh})}}}}};AN.mod.Kernel={ver:"N/A",author:"向日",fn:{Kernel_Initializer:{desc:"初始化",page:{65535:"comp"},type:1,once:function(jDoc){if(!$("head").length){$("html").prepend(document.createElement("head"))}$.ajaxSetup({cache:false,contentType:"application/x-www-form-urlencoded; charset=UTF-8"});var AN_VER="3.5b";if(AN.util.data("AN-version")!=AN_VER){if(AN.util.data("AN-version")){AN.util.storage(null);AN.util.data("AN-version",AN_VER);alert("由於內核改動, 所有設定已被重設.\n不便之處, 敬請原諒.");return location.reload()}AN.util.data("AN-version",AN_VER)}if($d.pageName()=="view"){$("select[name=page]").val(AN.util.getPageNo(location.search))}$("script").empty()}},"11f1c5ca-9455-4f8e-baa7-054b42d9a2c4":{desc:"自動轉向正確頁面",page:{65534:true},type:4,once:function(){if(location.pathname!=="/login.aspx"&&document.referrer.indexOf("/login.aspx")>0){location.replace("/topics.aspx?type=BW")}if(location.hash.indexOf("#page=")!=-1&&AN.util.getPageNo(location.search)!=AN.util.getPageNo(location.hash)){return location.replace(AN.util.getURL({page:location.hash.replace(/#page=/,"")}).replace(/&highlight_id=0\b/,""))}}},"a599dafa-b550-4b28-921a-019c72f481e5":{desc:"除錯模式 [除錯按扭、更準確評測結果等]",page:{65535:false},type:1,once:function(jDoc){AN.box.debugMode=true;AN.util.addStyle("");AN.util.getOptions();AN.util.getOptions.oOptions.bAutoShowLog=true;AN.util.getOptions.oOptions.bShowDetailLog=true;if($d.pageCode()&92){jDoc.topics()}else{if($d.pageName()=="view"){jDoc.replies()}}jDoc.defer(1,"加入啟動Firebug Lite的按扭",function(){AN.shared("addButton","啟動Firebug Lite",function(){$.getScript("http://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js",function(){window.firebug.init()})})})}},"12c98ebc-873c-4636-a11a-2c4c6ce7d4c2":{desc:"設定內核樣式",page:{65535:"comp"},type:2,options:{sUIFontColor:{desc:"UI主顏色",defaultValue:"#808080",type:"text"},sUIHoverColor:{desc:"UI連結懸浮顏色",defaultValue:"#9ACD32",type:"text"},sMainFontColor:{desc:"論壇主要字體顏色",defaultValue:"#000000",type:"text"},sMainBorderColor:{desc:"論壇主要邊框顏色",defaultValue:"#000000",type:"text"},sSecBorderColor:{desc:"論壇次要邊框顏色",defaultValue:"#CCCCCC",type:"text"},sMainBgColor:{desc:"論壇主要背景顏色",defaultValue:"#FFFFFF",type:"text"},sSecBgColor:{desc:"論壇次要背景顏色",defaultValue:"#F8F8F8",type:"text"},sMainHeaderFontColor:{desc:"論壇標題字體顏色",defaultValue:"#FFFFFF",type:"text"},sMainHeaderBgColor:{desc:"論壇標題背景顏色",defaultValue:"#336699",type:"text"}},once:function(){AN.util.stackStyle($.sprintf(' 		#an, #an legend { color: %(sMainFontColor)s; } 				.an-forum, .an-forum textarea { background-color: %(sSecBgColor)s; } 		.an-forum input[type="text"], .an-forum select { background-color: %(sMainBgColor)s; border: 1px solid %(sMainBorderColor)s; } 		.an-forum input[type="text"]:disabled, .an-forum select:disabled { color: graytext; } 		.an-forum, .an-forum h4, .an-forum div, .an-forum td, .an-forum dl, .an-forum dt, .an-forum dd, .an-forum ul, .an-forum li, .an-forum a, .an-forum fieldset, .an-forum hr { border: 0 solid %(sMainBorderColor)s; } 		.an-forum * { color: %(sMainFontColor)s; } 		.an-forum a { text-decoration: none; } 		.an-forum a:hover { text-decoration: underline; } 		.an-forum table { width: 100%; border-collapse: collapse; } 		.an-forum td { line-height: 1.5em; padding: 0 0.2em; border-width: 1px; } 		.an-forum-header[class], .an-forum thead td { color: %(sMainHeaderFontColor)s; background-color: %(sMainHeaderBgColor)s; } 		.an-forum-header[class] { border-bottom-width: 1px; } 				.an-content-note, .an-content-line, .an-content-box { color: %(sUIFontColor)s; } 		.an-content-note { margin-right: 2px; cursor: default; } 		.an-content-line { font-size: 0.625em; font-style: italic; } 		.an-content-box { display: inline-block; border: 1px solid; padding: 1px 2px; } 		a.an-content-line, a.an-content-box { text-decoration: none !important; } 		a.an-content-line:hover, a.an-content-box:hover { color: %(sUIHoverColor)s; } 		',AN.util.getOptions()))}},"78af3c29-9bf2-47ee-80bf-a3575b711c73":{desc:"自動檢查更新",defer:5,page:{4:true},type:1,options:{bAlsoCheckBeta:{desc:"同時檢查Beta版本",defaultValue:false,type:"checkbox"},nCheckUpdateInterval:{desc:"檢查更新間隔(小時)",defaultValue:1,type:"text"}},once:function(){var nInterval=AN.util.getOptions("nCheckUpdateInterval");if(isNaN(nInterval)||nInterval<1){nInterval=1}var nLastChecked=AN.util.data("nLastChecked")||0;if($.time()-nLastChecked<3600000*nInterval){return}AN.util.getData("main",function(oMain){AN.util.data("nLastChecked",$.time());var sType=AN.util.getOptions("bAlsoCheckBeta")?"beta":"stable";if(oMain.ver[sType]["annuus"]===undefined){return}var aLastest=oMain.ver[sType]["annuus"].split(".");var aCurrent=AN.version.split(".");for(var i=0;i<aLastest.length;i++){if(aCurrent[i]!=aLastest[i]){if(aCurrent[i]<aLastest[i]&&confirm("發現新版本!\n按確定進行更新")){var sPrefix="http://helianthus-annuus.googlecode.com/svn/dist/v3/"+sType+"/";if(navigator.userAgent.indexOf("MAXTHON 2.0")!==-1){window.open(sPrefix+"annuus.m2f","_self")}else{if($.browser.mozilla){window.open(sPrefix+"annuus.xpi","_self")}else{if(navigator.userAgent.indexOf("Chrome/4")!==-1){window.open(sPrefix+"annuus.crx","_self")}}}window.open("http://code.google.com/p/helianthus-annuus/wiki/Changelog","_blank")}break}}})}},"c217bf55-6d44-42d1-8fc2-2cd1662d604a":{desc:"轉頁後再次運行功能",page:{64:true},type:1,once:function(){window.Profile_ShowGoogleAds=AN.modFn.execMods}},"722b69f8-b80d-4b0e-b608-87946e00cfdc":{desc:"強制鎖定闊度",page:{65534:"comp"},type:3,once:function(){var css="body { word-wrap: break-word; }";if($(document).pageName()==="view"){css+="			.repliers, .repliers_right { table-layout: fixed; } 			.repliers_right > tbody > tr:first-child > td { overflow-x: hidden; } 			"}AN.util.stackStyle(css)}},"1b804b67-40ab-4750-8759-e63346d289ef":{desc:"設定論壇浮動物件至最上層",page:{65534:true},type:4,infinite:function(){AN.util.stackStyle(".TransparentGrayBackground, .TransparentGrayBackground + * { z-index: 10; }")}}}};AN.mod["Layout Designer"]={ver:"N/A",author:"向日",fn:{"4bf6619f-2cd8-4aa2-a54a-e7d72wgs8603":{desc:"修正改變搜尋列時可能造成的顯示錯誤",page:{4:true},type:3,once:function(){AN.util.stackStyle(".Topic_FunctionPanel > .ClearLeft { clear: both; } /*-> IE bug fix? ->*/ .Topic_FunctionPanel { overflow: hidden; }")}},"5e173905-9c47-4f37-8d3f-4c31ea871115":{desc:"隱藏頂部按扭",page:{65534:false},type:3,once:function(){AN.util.stackStyle(".TopMenuBox { visibility: hidden; }")}},"7af1060d-d38c-40b9-b16b-df1bb799cb74":{desc:"隱藏Logo列",page:{65534:false},type:3,once:function(){AN.util.stackStyle(".TopBannerBox { display: none; }")}},"7ca54ba4-e2b7-489c-9adc-7ac7d62012f0":{desc:"隱藏按扭列",page:{65534:false},type:3,once:function(){AN.util.stackStyle(".TopMenuPanel + .PageWidthContainer { display: none; }")}},"d0164ba6-a5a2-4850-ab67-658b840fd3ef":{desc:"隱藏繁簡轉換/addThis列",page:{65534:false},type:3,once:function(){AN.util.stackStyle("		.PageMiddleFunctions { height: 5px; } 		.PageMiddleFunctions > div { display: none; } 		")}},"a7dc713c-2d23-4254-be8b-16cf6e9bbe8f":{desc:"優化addThis組件",page:{65534:false},type:3,once:function(){AN.util.stackStyle("		.addthis_toolbox { padding-top: 3px; } 		.addthis_toolbox > a, .addthis_toolbox > span { font-family: arial !important; color: black; } 		")}},"bbd5f176-c024-4684-ba98-b72da376a6eb":{desc:"隱藏最底頁腳",page:{65534:false},type:3,once:function(){AN.util.stackStyle(".FooterPanel { display: none; }")}},"5fd907ce-21dc-44b9-b280-3cb145c53c92":{desc:"隱藏頁底空白",page:{65534:false},type:3,once:function(){AN.util.stackStyle(".FooterPanel ~ br { display: none; }")}},"8c317615-b5e7-4b1a-a140-b7319c5b0a5b":{desc:"隱藏Bookmark Bar",page:{65534:false},type:3,once:function(){AN.util.stackStyle("#hkg_bottombar { display: none; }")}},"d1dc862f-a7b3-4b29-a50f-440fc9c5fef0":{desc:"縮短Bookmark Bar",page:{65534:true},type:3,once:function(){AN.util.stackStyle("#hkg_bottombar { width: auto; }")}},"02837e6a-3dd7-4c73-a155-90d6f6edd8f9":{desc:"拉闊頁面",page:{65534:false},type:3,options:{nPageWidth:{desc:"頁面闊度 [可設定為auto, 80%, 1000px等]",defaultValue:"auto",type:"text"}},once:function(){AN.util.addStyle($.sprintf('		.PageWidthContainer { width: %s; } 		table[width="99%"], table[width="800"], td[width="801"], td[width="792"] { width: 100%; } 		#ctl00_ContentPlaceHolder1_ProfileForm td[width="8"] { display: none; } 		',AN.util.getOptions("nPageWidth")))}},"1c63cc45-21f7-40ab-905a-730dabffc2ab":{desc:"隱藏高登公告",page:{60:false},type:3,once:function(){AN.util.stackStyle("		#ctl00_ContentPlaceHolder1_view_form > script:first-child + table + table tr:first-child, 		#ctl00_ContentPlaceHolder1_topics_form > script:first-child + table + table tr:first-child, 		.DivResizableBoxContainer 			{ display: none; } 		")}},"b44ee3a6-950e-4b2a-b99a-399b6384bcce":{desc:"隱藏搜尋列上下空白",page:{28:false},type:3,once:function(){AN.util.stackStyle("		#ctl00_ContentPlaceHolder1_MiddleAdSpace1 > div { padding: 0 !important; } 		");if($d.pageName()=="topics"){AN.util.stackStyle("			.Topic_FunctionPanel { margin-top: 3px; } 			#ctl00_ContentPlaceHolder1_MiddleAdSpace1 { margin-top: 5px !important; } 			")}else{AN.util.stackStyle('			td[valign="bottom"] > br:first-child { display: none; } 			td[valign="bottom"] > p { margin: 0; } 			')}}},"1ada74ac-9bae-47b2-914b-f1556dbab1a2":{desc:"隱藏討論區選單",page:{28:false},type:3,once:function(){if($d.pageName()=="topics"){AN.util.stackStyle("#forum_list, #forum_list + br { display: none; }")}else{AN.util.stackStyle("#ctl00_ContentPlaceHolder1_topics_form > div + table table:first-child { display: none; }")}}},"4bf6619f-2cd8-4aa2-a54a-e7d7255e8603":{desc:"隱藏熱門關鍵字",page:{30:false},type:3,once:function(){AN.util.stackStyle("#ctl00_ContentPlaceHolder1_lb_HitSearchs { display: none; }")}},"a5d7f8f0-99fc-4aaf-8c65-373b17cfcf69":{desc:"隱藏投票站連結(如有)",page:{60:false},type:3,once:function(){AN.util.stackStyle("#ctl00_ContentPlaceHolder1_MiddleAdSpace1 { display: none; }")}},"f41e288e-cd1d-4649-a396-83d92d99ded8":{desc:"隱藏紅人榜",page:{4:false},type:3,once:function(){AN.util.stackStyle("#ctl00_ContentPlaceHolder1_HotPeoples, #ctl00_ContentPlaceHolder1_HotPeoples + br { display: none; }")}},"74cd7f38-b0ad-4fca-ab39-673b0e2ee4c7":{desc:"修正跳頁控件位置",page:{32:true},type:3,once:function(){AN.util.stackStyle($.sprintf('div[style] > div[style^="%s: center"] { margin: 0 100px; }',$.browser.msie?"TEXT-ALIGN":"text-align"))}},"0941e559-3875-445a-9c56-799987fbdf87":{desc:"隱藏名稱欄物件",page:{32:false},type:3,options:{bHideNameSpace:{desc:"隱藏多餘空白",defaultValue:true,type:"checkbox"},bHideAvatar:{desc:"隱藏高級會員頭像",defaultValue:false,type:"checkbox"},bHideMemberLevel:{desc:"隱藏會員級別圖片",defaultValue:false,type:"checkbox"},bHideAward:{desc:"隱藏(善)圖像",defaultValue:false,type:"checkbox"}},once:function(){var css=[];$.each({bHideAvatar:'div[id^="ThreadUser"] > a',bHideMemberLevel:'div[id^="ThreadUser"] > img',bHideAward:'div[id^="ThreadUser"] ~ *'},function(name,selector){if(AN.util.getOptions(name)){css.push(selector)}});if(AN.util.getOptions("bHideNameSpace")){css.push(AN.util.getOptions("bHideAvatar")?'div[id^="ThreadUser"] > br':'div[id^="ThreadUser"] > br:first-child, div[id^="ThreadUser"] > br:first-child + br')}AN.util.stackStyle(css.join(",")+" { display: none; }")}},"9aebeb97-8507-4553-995d-0903dc764ec3":{desc:"隱藏會員級別圖片",page:{32:false},type:3,once:function(){AN.util.stackStyle('img[src^="labels/"] { display: none; }')}},"a0203b01-7565-46e1-a52e-260dd4d485a1":{desc:"隱藏引用",page:{32:false},type:3,once:function(){AN.util.stackStyle(".repliers_right blockquote { display: none; }")}},"d0ac656c-e602-4852-843b-f776d8a976f4":{desc:"隱藏評分格",page:{32:false},type:3,once:function(){AN.util.stackStyle("#DivMarkThread { display: none; }")}},"26eaf7f8-d260-4b42-b6d9-08b235f56d43":{desc:"隱藏引用原文連結",page:{32:false},type:3,options:{bCDROMMode:{desc:"同時隱藏快速引用連結及登入提示 [CD-ROM專用]",defaultValue:false,type:"checkbox"}},once:function(){var sSelector='a[href^="post.aspx?mt=Y&rid="]';if(AN.util.getOptions("bCDROMMode")){sSelector+=',a[href*="QuoteReply("],#ct100_ContentPlaceHolder1_QuickReplyLoginTable'}AN.util.stackStyle(sSelector+"{ display: none; }")}},"2c026f6b-f252-4a58-b2ac-706fcd052fb6":{desc:"隱藏快速回覆組件",page:{32:false},type:3,options:{bRemNameRow:{desc:"隱藏名字列",defaultValue:false,type:"checkbox"},bRemTopicRow:{desc:"隱藏主旨列",defaultValue:false,type:"checkbox"},bRemClassicRow:{desc:"隱藏經典表情圖示列",defaultValue:false,type:"checkbox"},bRemTempRow:{desc:"隱藏附加表情圖示列(如有)",defaultValue:false,type:"checkbox"},bRemPreviewRow:{desc:"隱藏預覽列",defaultValue:false,type:"checkbox"}},once:function(){if(!AN.util.isLoggedIn()){return}var jRows=$("#ctl00_ContentPlaceHolder1_QuickReplyTable tbody:eq(2)").children();if(AN.util.getOptions("bRemNameRow")){jRows.eq(0).hide()}if(AN.util.getOptions("bRemTopicRow")){jRows.eq(1).hide()}if(AN.util.getOptions("bRemClassicRow")){jRows.eq(3).hide()}if(AN.util.getOptions("bRemTempRow")&&jRows.length>5){jRows.eq(3).nextAll(":not(:last)").hide()}if(AN.util.getOptions("bRemPreviewRow")){jRows.last().hide()}}},"1e2a7c96-a096-4a45-9909-c196ddabc286":{desc:"隱藏紅人榜記錄",page:{64:false},type:3,once:function(){AN.util.stackStyle("#ctl00_ContentPlaceHolder1_UpdatePanelPM + br, #ctl00_ContentPlaceHolder1_HotPeoples { display: none; }")}},"c18ff3e6-b9fc-4786-95d6-1c1bc800172a":{desc:"隱藏書籤",page:{64:false},type:3,once:function(){AN.util.stackStyle("#ctl00_ContentPlaceHolder1_HotPeoples + br, #ctl00_ContentPlaceHolder1_BookmarkTable { display: none; }")}},"222f0c01-1ebd-49d6-b7f4-b1b7fc60ca40":{desc:"隱藏起底列表",page:{64:false},type:3,once:function(){AN.util.stackStyle("#ctl00_ContentPlaceHolder1_siteUpdateProgress + table { display: none; }")}},"e424fe8d-852b-4239-b797-6aa682e68c39":{desc:"修正表格闊度",page:{1024:true},type:3,once:function(){AN.util.stackStyle('table[width="800"] { width: 100%; }')}}}};AN.mod["Main Script"]={ver:"N/A",author:"向日",fn:{"63d2407a-d8db-44cb-8666-64e5b76378a2":{desc:"隱藏廣告",page:{65535:true},type:3,options:{bRetroHideAds:{desc:"相容性模式",defaultValue:false,type:"checkbox"}},once:function(){$.each({65535:"			#HKGTopAd { display: none; } 			",2:"			#ctl00_ContentPlaceHolder1_MiddleAdSpace1, /* text ad */			.ContentPanel > div > div:first-child, /* flash ad */			#ctl00_ContentPlaceHolder1_lb_NewPM + br /* blank line */				{ display: none; } 			",4:"			.ContentPanel > table { width: 100%; } 			.ContentPanel > table > tbody > tr > td:first-child { width: auto !important; } 			.ContentPanel > table > tbody > tr > td:first-child + td 				{ display: none; } 			",24:"			#ctl00_ContentPlaceHolder1_topics_form > script:first-child + div { width: 100% !important; } 			#ctl00_ContentPlaceHolder1_topics_form > script:first-child + div + div { display: none; } 				{ display: none; } 			",32:$.sprintf('			#ctl00_ContentPlaceHolder1_view_form > script:first-child + div { width: 100% !important; } 			#ctl00_ContentPlaceHolder1_view_form > script:first-child + div + div { display: none; } 			div[style*="58px"], /* top & bottom ads */			#ctl00_ContentPlaceHolder1_view_form > div > table[width="100%"] > tbody > tr + tr /* inline ads */				{ display: none; } 			div[style*="%s"] { border-bottom: 0 !important; } 			',$.browser.msie?"PADDING-BOTTOM: 18px":"padding: 18px"),60:'			#ctl00_ContentPlaceHolder1_MiddleAdSpace1 div[style*="right"] { display: none; } /* text ad */			',62:"			#MainPageAd2 + br + br + div { padding-bottom: 10px !important; } 			#MainPageAd2, #MainPageAd2 ~ br, /* text ads */			#ctl00_ContentPlaceHolder1_lb_NewPM + br 				{ display: none; } 			",64:"			/* inline ads */			.main_table1 tr { display: none; } 			.main_table1 tr[style], .main_table1 tr:first-child, #ctl00_ContentPlaceHolder1_ProfileForm > table > tbody > tr > td > table:first-child .main_table1 tr { display: table-row; } 			"},function(nPageCode){$d.pageCode()&nPageCode&&AN.util.stackStyle(this)});if(AN.util.getOptions("bRetroHideAds")){AN.util.stackStyle('td[height="52"] { display: none; }')}else{if($d.pageCode()&28){if($.browser.msie){AN.util.stackStyle($.sprintf($d.pageName()=="topics"?"				#HotTopics tr:first-child+tr%(extra)s, 				#HotTopics tr:first-child+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr%(extra)s, 				#HotTopics tr:first-child+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr%(extra)s, 				#HotTopics tr:first-child+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr%(extra)s 					{ display: none; } 				":'				#ctl00_ContentPlaceHolder1_topics_form > div + table + table tr:first-child+tr%(extra)s, 				#ctl00_ContentPlaceHolder1_topics_form > div + table + table tr:first-child+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr%(extra)s, 				#ctl00_ContentPlaceHolder1_topics_form > div + table + table tr:first-child+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr%(extra)s, 				#ctl00_ContentPlaceHolder1_topics_form > div + table + table tr:first-child+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr%(extra)s, 				td[height="52"] 					{ display: none; } 				',{extra:$('#aspnetForm[action*="type=MB"]').length?"+tr":""}))}else{AN.util.stackStyle($.sprintf($d.pageName()=="topics"?"				#HotTopics tr:nth-child(11n+%(num)s) 					{ display: none; } 				":"				#ctl00_ContentPlaceHolder1_topics_form > div + table + table tr:nth-child(11n+%(num)s), 				#ctl00_ContentPlaceHolder1_topics_form > div + table + table table tr:last-child 					{ display: none; } 				",{num:$('#aspnetForm[action*="type=MB"]').length?3:2}))}}}},infinite:function(){if($.browser.msie&&$d.pageCode()==32){$('div[style*="PADDING-BOTTOM: 18px"]').css("border-bottom",0)}if(AN.util.getOptions("bRetroHideAds")){$('td[height="52"]').parent().hide()}}},"b7ef89eb-1190-4466-899a-c19b3621d6b1":{desc:"Opera: 修正無法使用Enter搜尋的錯誤",page:{30:$.browser.opera||"disabled"},type:4,once:function(){$("#aspnetForm").submit(function(event){event.preventDefault()})}},"d4bf67cc-349c-4541-a8e4-9d9f9d0be267":{desc:"Opera: 修正特殊字符導致的顯示錯誤",page:{92:$.browser.opera||"disabled"},type:4,infinite:function(jDoc){jDoc.topics().jNameLinks.each(function(){var jNameCell=$(this).parent();if(jNameCell.nextAll().length!=2){jNameCell[0].outerHTML=jNameCell[0].outerHTML.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<A.+?\/a>/,"NAME_ERROR").replace(/=""/g,"")}})}},"0293c9da-468f-4ed5-a2d7-ecb0067e713f":{desc:"去除引用半透明",page:{32:!$.browser.msie||"disabled"},type:4,once:function(){AN.util.stackStyle("blockquote { opacity: 1; }")}},"d563af32-bd37-4c67-8bd7-0721c0ab0b36":{desc:"優化頁數跳轉連結地址",page:{32:true},type:4,once:function(){window.changePage=function(nPageNo){var sPage=(nPageNo)?("&page="+nPageNo):"";var sHighlight=(window.highlight_id)?("&highlight_id="+window.highlight_id):"";location.assign($.sprintf("/view.aspx?message=%s%s%s",window.messageid,sPage,sHighlight))};var regex=/&(?:page=1(?!\d)|highlight_id=0)/g;$d.mouseover(function(event){var jTarget=$(event.target);if(!(jTarget.is("a")&&regex.test(jTarget.attr("href")))){return}jTarget.attr("href",jTarget.attr("href").replace(regex,""))})}},"b6b232c8-1f26-449e-bb0d-2b7826bf95ef":{desc:"去除論壇原有的圖片縮小功能",page:{32:true,192:true},type:4,once:function(){window.DrawImage=$.noop;AN.util.stackStyle("		.repliers_right img[onload] { width: auto; height: auto; max-width: 100% } 		.repliers_right tr:first-child a[target]:focus { outline: 0; } 		")}},"d7adafa8-cc14-45f9-b3e9-bc36eab05d4f":{desc:"縮小引用中的圖片",page:{32:false},type:4,options:{nQuoteImgMaxHeight:{desc:"圖片最大高度(px)",defaultValue:100,type:"text"}},once:function(){AN.util.stackStyle($.sprintf(".repliers_right blockquote img[onload] { width: auto; height: auto; max-height: %spx; }",AN.util.getOptions("nQuoteImgMaxHeight")))}},"52ebe3d3-bf98-44d2-a101-180ec69ce290":{desc:"移除帖子連結高亮部份",page:{64:false},type:4,once:function(){var regex=/&highlight_id=\d+/;$d.mouseover(function(event){var jTarget=$(event.target);if(!(jTarget.is("a")&&regex.test(jTarget.attr("href")))){return}jTarget.attr("href",jTarget.attr("href").replace(regex,""))})}},"87a6307e-f5c2-405c-8614-af60c85b101e":{desc:"搜尋開新頁",page:{4:false,24:false},type:4,once:function(){window.Search=function(){var sType=$("#st").val();var sQuery=escape($("#searchstring").val());window.open(sType=="tag"?"tags.aspx?tagword=".concat(sQuery):$.sprintf("search.aspx?st=%s&searchstring=%s",sType,sQuery),"_blank");$("#searchstring").val("")}}},"a93f1149-d11b-4b72-98dd-c461fd9ee754":{desc:"連結開新頁",page:{4:false,24:false,64:false},type:4,options:{bTopicLinksOnly:{desc:"只限帖子連結",defaultValue:false,type:"checkbox"}},once:function(){$d.click(function(event){var jTarget=$(event.target);if(jTarget.parent("a").length){jTarget=jTarget.parent()}if(!jTarget.is("a")||!(AN.util.getOptions("bTopicLinksOnly")?/view\.aspx/i:/^(?!javascript|#)/i).test(jTarget.attr("href"))){return}event.preventDefault();window.open(jTarget.attr("href"),"_blank")})}},"2ab2f404-0d35-466f-98a5-c88fdbdaa031":{desc:"外鏈連結開新頁",defer:3,page:{32:true},type:4,once:function(){$d.click(function(event){var jTarget=$(event.target);if(jTarget.parent("a").length){jTarget=jTarget.parent()}if(!jTarget.is(".repliers_right > tbody > tr:first-child a")){return}if(event.isDefaultPrevented()){return}event.preventDefault();window.open(jTarget.attr("href"),"_blank")})}},"b73d2968-8301-4c5e-8700-a89541d274fc":{desc:"回復傳統用戶連結",defer:1,page:{32:false},type:4,once:function(){$d.unbind(".userlinkbox").bind("mouseover",function(event){var jTarget=$(event.target);if(!jTarget.is('a[href^="javascript: ToggleUserDetail"]')){return}jTarget.attr("href",$.sprintf("ProfilePage.aspx?userid=%s",jTarget.up("tr").attr("userid")))})}},"7f9780a6-395d-4b24-a0a8-dc58c4539408":{desc:"修正字型大小/顏色插入控件",page:{416:true},type:4,once:function(){$("#ctl00_ContentPlaceHolder1_messagetext").siblings("select[onchange]").change(function(){this.selectedIndex=0})}},"6e978310-e87b-4043-9def-076a13377c19":{desc:"更換favicon(小丑icon) [部份瀏覽器無效]",page:{65534:false},type:4,once:function(){$("head").append('<link rel="shortcut icon" href="http://helianthus-annuus.googlecode.com/svn/other/hkg.ico" />')}},"e54d5c5f-47ae-4839-b4e8-6fc3733edfef":{desc:"改進公司模式",page:{65534:true},type:4,options:{sCModeFavicon:{desc:"favicon連結位置",defaultValue:"http://www.google.com/favicon.ico",type:"text"},sCModeTitle:{desc:"標題名稱",defaultValue:"Google",type:"text"}},once:function(){if(AN.util.cookie("companymode")=="Y"){$("head").append($.sprintf('<link rel="shortcut icon" href="%s" />',AN.util.getOptions("sCModeFavicon")));document.title=AN.util.getOptions("sCModeTitle")}}},"231825ad-aada-4f5f-8adc-5c2762c1b0e5":{desc:"顯示資料: 樓主名稱",page:{32:false},type:5,once:function(jDoc){AN.util.getOpenerInfo(jDoc,function(oInfo){AN.shared("addInfo",$.sprintf('樓主: <a target="_blank" href="/ProfilePage.aspx?userid=%s">%s</a>',oInfo.sId,oInfo.sName))})}},"9e181e79-153b-44d5-a482-5ccc6496a172":{desc:"顯示資料: 累計在線時間",page:{65534:false},type:5,once:function(){var nLastOnTime=AN.util.data("nLastOnTime");var nCumulatedTime=AN.util.data("nCumulatedTime")||0;if(nLastOnTime){var nDifference=$.time()-nLastOnTime;nCumulatedTime+=(nDifference>=120000)?120000:nDifference}var sCumulated;if(nCumulatedTime>86400000){sCumulated=(nCumulatedTime/86400000).toFixed(2)+" days"}else{if(nCumulatedTime>3600000){sCumulated=(nCumulatedTime/3600000).toFixed(2)+" hours"}else{sCumulated=(nCumulatedTime/60000).toFixed(2)+" minutes"}}AN.shared("addInfo",$.sprintf("在線時間: %s",sCumulated));AN.util.data("nLastOnTime",$.time());AN.util.data("nCumulatedTime",nCumulatedTime)}},"f47e77c8-6f1a-43b2-8493-f43de222b3b4":{desc:"加入伺服器狀態顯示按扭",page:{65534:true},type:5,once:function(){AN.shared("addButton","伺服器狀態",AN.shared.serverTable)}},"7de28ca9-9c44-4949-ad4a-31f38a984715":{desc:"加入一鍵留名按扭",page:{32:false},type:5,options:{sLeaveNameMsg:{desc:"回覆內容",defaultValue:"留名",type:"text"}},once:function(){if(!AN.util.isLoggedIn()){return}AN.shared("addButton","一鍵留名",function(){$("#ctl00_ContentPlaceHolder1_messagetext").val(AN.util.getOptions("sLeaveNameMsg"));$("#aspnetForm").submit()})}},"69260bc4-4f43-4dda-ba0f-87ba804a866c":{desc:"加入同步登入所有server的按扭",page:{65534:false},type:5,once:function(){AN.shared("addButton","登入所有server",function(){var sEmail,sPass;if(!(sEmail=prompt("請輸入電郵地址",""))){return}if(!(sPass=prompt("請輸入密碼",""))){return}var nServer=8;var aLeft=[];for(var i=1;i<=nServer;i++){aLeft.push(i)}var complete=function(bForce){if(aLeft.length===0||bForce){alert($.sprintf("登入完成!%s\n\n點擊確定重新整理頁面.",aLeft.length?$.sprintf("\n\n伺服器%s登入失敗!",aLeft.join(",")):""));location.reload()}};var login=function(nForum){if(!this.contentWindow.document.getElementById("aspnetForm")){AN.shared("log",$.sprintf("伺服器%s登入失敗!",nForum));complete();return}var _$=this.contentWindow.jQuery;_$("#ctl00_ContentPlaceHolder1_txt_email").val(sEmail);_$("#ctl00_ContentPlaceHolder1_txt_pass").val(sPass);_$.post("login.aspx",_$("#aspnetForm").serialize()+"&ctl00%24ContentPlaceHolder1%24linkb_login=",function(){$.each(aLeft,function(i,n){if(n==nForum){aLeft.splice(i,1);return false}});AN.shared("log",$.sprintf("伺服器%s登入成功!",nForum));complete()})};AN.shared("log","登入各伺服器中, 請稍候...");$.each(aLeft,function(i,nForum){$('<iframe style="display: none;"></iframe>').appendTo("#an").attr("src",$.sprintf("http://forum%s.hkgolden.com/login.aspx",nForum)).load(function(){login.call(this,nForum)}).error(function(){AN.shared("log",$.sprintf("伺服器%s登入失敗!",nForum));complete()})});setTimeout(function(){complete(true)},10000)})}},"13c276a5-f84e-4f53-9ada-45545ccc6b2e":{desc:"加入同步登出所有server的按扭",page:{65534:false},type:5,once:function(){AN.shared("addButton","登出所有server",function(){if(!confirm("確定登出所有server?")){return}var nServer=8;var aLeft=[];for(var i=1;i<=nServer;i++){aLeft.push(i)}var complete=function(bForce){if(aLeft.length===0||bForce){alert($.sprintf("登出完成!%s\n\n點擊確定重新整理頁面.",aLeft.length?$.sprintf("\n\n伺服器%s登出失敗!",aLeft.join(",")):""));location.reload()}};AN.shared("log","登出各伺服器中, 請稍候...");$.each(aLeft,function(i,nForum){$($.sprintf('<img src="http://forum%s.hkgolden.com/logout.aspx" />',nForum)).appendTo("#an").error(function(){$.each(aLeft,function(i,n){if(n==nForum){aLeft.splice(i,1);return false}});AN.shared("log",$.sprintf("伺服器%s登出完成!",nForum));complete()})});setTimeout(function(){complete(true)},10000)})}},"aad1f3ac-e70c-4878-a1ef-678539ca7ee4":{desc:"加入前往吹水台的快速連結",page:{65534:true},type:5,once:function(){AN.shared("addLink","吹水台","/topics.aspx?type=BW",1)}},"d0d76204-4033-4bd6-a9a8-3afbb807495f":{desc:"加入前往最頂/底的按扭",page:{32:true},type:5,once:function(){AN.shared("addLink","最頂",function(){document.body.scrollIntoView()},0);AN.shared("addLink","最底",function(){document.body.scrollIntoView(false)},2)}},"b78810a2-9022-43fb-9a9b-f776100dc1df":{desc:"加入樓層編號",page:{32:true},type:5,infinite:function(jDoc){var nCurPageNo=jDoc.pageNo();var nFloor=((nCurPageNo==1)?0:25*(nCurPageNo-1)+1)+jDoc.pageScope().find(".an-content-floor").length;jDoc.replies().each(function(){$(this).find("span:last").append($.sprintf(' <span class="an-content-floor an-content-box">#%s</span>',nFloor++))})}},"3f693a9e-e79d-4d14-b639-a57bee36079a":{desc:"自動顯示伺服器狀態檢查視窗",page:{1:true},type:6,defer:5,once:function(){AN.shared("serverTable")}},"4cdce143-74a5-4bdb-abca-0351638816fa":{desc:"發表新帖子的主旨過長時進行提示",page:{256:true},type:6,once:function(jDoc){if(location.search.indexOf("mt=N")!=-1){$("#aspnetForm").submit(function(){var sTitle=$("#ctl00_ContentPlaceHolder1_messagesubject").val();var n=0;for(var i=0;i<sTitle.length;i++){n+=sTitle.charCodeAt(i)>255?2:1}if(n>50&&!confirm("主旨過長!(位元組 > 50)\n將導致帖子發表失敗或主旨被裁剪!\n\n確定要進行發表?")){return false}})}}},"86d24fc8-476a-4de3-95e1-5e0eb02b3353":{desc:"轉換表情碼為圖片",page:{92:true},type:6,infinite:function(jDoc){var rSmiley=/[#[](hehe|love|ass|sosad|good|hoho|kill|bye|adore|banghead|bouncer|bouncy|censored|flowerface|shocking|photo|fire|yipes|369|bomb|slick|no|kill2|offtopic)[\]#]/g;var aConvertMap=[{regex:/O:-\)/g,result:"angel"},{regex:/xx\(/g,result:"dead"},{regex:/:\)/g,result:"smile"},{regex:/:o\)/g,result:"clown"},{regex:/:-\(/g,result:"frown"},{regex:/:~\(/g,result:"cry"},{regex:/;-\)/g,result:"wink"},{regex:/:-\[/g,result:"angry"},{regex:/:-]/g,result:"devil"},{regex:/:D/g,result:"biggrin"},{regex:/:O/g,result:"oh"},{regex:/:P/g,result:"tongue"},{regex:/^3^/g,result:"kiss"},{regex:/\?_\?/g,result:"wonder"},{regex:/#yup#/g,result:"agree"},{regex:/#ng#/g,result:"donno"},{regex:/#oh#/g,result:"surprise"},{regex:/#cn#/g,result:"chicken"},{regex:/Z_Z/g,result:"z"},{regex:/@_@/g,result:"@"},{regex:/\?\?\?/g,result:"wonder2"},{regex:/fuck/g,result:"fuck"}];jDoc.topics().jTitleCells.find("a:first-child").each(function(){var jThis=$(this);var sOri=sText=jThis.html();sText=sText.replace(rSmiley,'<img style="border-width:0px;vertical-align:middle" src="/faces/$1.gif" alt="$&" />');$.each(aConvertMap,function(){sText=sText.replace(this.regex,'<img style="border-width:0px;vertical-align:middle" src="/faces/'+this.result+'.gif" alt="$&" />')});if(sText!=sOri){jThis.html(sText)}})}},"b69c5067-2726-43f8-b3de-dfb907355b71":{desc:"標題過濾功能",page:{4:true},type:6,options:{bFilterListButton:{desc:"加入標題過濾列表按扭",defaultValue:true,type:"checkbox"},bAddFilterButton:{desc:"加入新增過濾器按扭",defauleValue:false,type:"checkbox"}},once:function(){var aFilter=AN.util.data("aTopicFilter")||[],jHiddenImg,jButton=$("<img />",{src:$r["cross-shield"],css:{"margin-left":"-1.5px"}}).hoverize("#HotTopics tr:not(:first-child)",{autoPosition:false}).bind({entertarget:function(){jHiddenImg=jButton.data("hoverize").jTarget.find("img:first").css("visibility","hidden");jButton.css(jHiddenImg.offset())},leavetarget:function(){jHiddenImg.css("visibility","visible")},click:function(){addFilter(jButton.data("hoverize").jTarget.find("a:first").html().replace(/<img[^>]+?alt="([^"]+)[^>]*>/ig,"$1"))}});var addFilter=function(sTopicName){var sFilter=prompt("請輸入過濾器",sTopicName||"");if(!sFilter){return}aFilter.push(sFilter);AN.util.data("aTopicFilter",aFilter);filterTopics()};var filterTopics=this.filterTopics=function(jScope){if(!aFilter.length){return}var nCount=0;(jScope||$(document)).topics().each(function(){var jThis=$(this);var sTitle=jThis.data("sTitle");$.each(aFilter,function(i,sFilter){if(sTitle.indexOf(sFilter)!=-1){nCount++;jThis.hide();return false}})});if(nCount){AN.shared("log",$.sprintf("%s個標題已被過濾",nCount))}};if(AN.util.getOptions("bAddFilterButton")){AN.shared("addButton","新增過濾器",addFilter)}if(AN.util.getOptions("bFilterListButton")){AN.shared("addButton","標題過濾列表",function(){if(!$("#an-filterlist").length){AN.util.addStyle($.sprintf("				#an-filterlist > ul { margin: 5px; } 				#an-filterlist > ul > li { padding: 2px 0; } 				#an-filterlist > ul > li > span:first-child { margin-right: 5px; border: 1px solid black; padding: 0 5px; background-color: %(sMainHeaderBgColor)s; color: %(sMainHeaderFontColor)s; cursor: pointer; } 				",AN.util.getOptions()));AN.shared.box("an-filterlist","標題過濾列表",500);$("#an-filterlist").click(function(event){var jTarget=$(event.target);if(!jTarget.is("span:first-child")){return}var sFilter=jTarget.next().html();var nIndex=$.inArray(sFilter,aFilter);if(nIndex!=-1){aFilter.splice(nIndex,1)}AN.util.data("aTopicFilter",aFilter);jTarget.parent().remove()})}var sHTML="";if(aFilter.length){$.each(aFilter,function(i,sFilter){sHTML+=$.sprintf("<li><span>X</span><span>%s</span></li>",sFilter)})}else{sHTML+="<li>沒有任何過濾器</li>"}$("#an-filterlist").html("<ul>"+sHTML+"</ul>");AN.shared.gray(true,"an-filterlist")})}},infinite:function(jDoc){this.filterTopics(jDoc)}},"fc07ccda-4e76-4703-8388-81dac9427d7c":{desc:"強制顯示空白用戶名連結",page:{32:true},type:6,once:function(){AN.util.stackStyle('.an-nameforcedshown:before { content: "<空白名稱>"; font-style: italic; }')},infinite:function(jDoc){jDoc.replies().jNameLinks.filter(function(){return $(this).width()===0}).addClass("an-nameforcedshown")}},"63333a86-1916-45c1-96e0-f34a5add67c1":{desc:"限制回覆高度",page:{32:false},type:6,options:{replyMaxHeight:{desc:"最大高度(px)",type:"text",defaultValue:2000}},once:function(){var maxHeight=AN.util.getOptions("replyMaxHeight");AN.util.stackStyle("		.repliers_right, .repliers_right > tbody, .repliers_right > tbody > tr, .repliers_right > tbody > tr > td { display: block; } 		.repliers_right > tbody > tr:first-child { max-height: "+maxHeight+"px; overflow-y: hidden; } 		.an-maxheightremoved > .repliers_right > tbody > tr:first-child { max-height: none; } 		#an-heighttoggler { margin: -14px 0 0 3.5px; } 		#an-heighttoggler > img { padding: 7px 3.5px; cursor: pointer; } 		");var jButton=$('<div id="an-heighttoggler"><img src="'+$r["control-eject"]+'" /><img src="'+$r["control-stop-270"]+'" /><img src="'+$r["control-270"]+'" /></div>').hoverize(".repliers_left + td",{filter:function(){return $(this).hasClass("an-maxheightremoved")||$(this).find("td:first").innerHeight()>maxHeight},autoPosition:false}).bind({entertarget:function(){var jTarget=jButton.data("hoverize").jTarget,showFirst=jTarget.hasClass("an-maxheightremoved"),offset=jTarget.offset();jButton.css({top:offset.top+jTarget.height(),left:offset.left}).children(":first").toggle(showFirst).nextAll().toggle(!showFirst)},click:function(event){var data=jButton.data("hoverize");data.fixScroll=$(event.target).index()===2?"top":"bottom";data.fixScroll_difference=data.jTarget[data.fixScroll]()-$d.scrollTop();data.jTarget.toggleClass("an-maxheightremoved")}})}},"7b36188f-c566-46eb-b48d-5680a4331c1f":{desc:"轉換論壇連結的伺服器位置",page:{32:true},type:6,once:function(){var rForum=/forum\d*.hkgolden\.com/i;$d.mousedown(function(event){var jTarget=$(event.target);if(!(jTarget.is(".repliers_right tr:first-child a")&&rForum.test(jTarget.attr("href")))){return}jTarget.attr("href",jTarget.attr("href").replace(rForum,location.hostname))})}},"e33bf00c-9fc5-46ab-866a-03c4c7ca5056":{desc:"轉換文字連結成連結",page:{32:true},type:6,once:function(){AN.util.stackStyle(".an-linkified { padding-right: 2px; vertical-align: top; }")},infinite:function(jDoc){var rLink=/(?:https?|ftp):\/\/(?:[\w-]+\.)+[a-z]{2,3}(?![a-z])(?:\/[\w.\/?:;~!@#$%^&*()+=-]*)?/i;jDoc.replies().jContents.each(function(){if(rLink.test($(this).text())){var node,match,next=this.firstChild;while(node=next){if(node.nodeType===3&&(match=rLink.exec(node.data))){node.splitText(match.index+match[0].length);$(node.splitText(match.index)).before('<img title="已轉換文字為連結" class="an-linkified" src="'+$r["chain--arrow"]+'" />').wrap($.sprintf('<a href="%s"></a>',match[0]));node=node.nextSibling.nextSibling.nextSibling;continue}next=!/^(?:a|button|script|style)$/i.test(node.nodeName)&&node.firstChild||node.nextSibling;while(!next&&(node=node.parentNode)){next=node.nextSibling}}}})}},"d761d6f7-8ef7-4d5b-84e9-db16a274f616":{desc:"轉換圖片連結成圖片",page:{32:false},type:6,options:{imageConvertMode:{desc:"轉換模式",type:"select",choices:["自動轉換","自動轉換(引用中的連結除外)","手動轉換"],defaultValue:"自動轉換(引用中的連結除外)"}},once:function(){AN.util.stackStyle("		.an-imagified { padding-left: 2px; vertical-align: middle; } 		.an-imagified + a { display: block; } 		.an-imagified + a > img { border: 0; } 		");var rImg=/\.(?:jpe?g|gif|png|bmp)\b/i;$d.bind("click imageconvert",function(event){var jTarget=$(event.target);if(jTarget.next(".an-imagified").length){event.preventDefault();jTarget.next().next().toggle()}else{if(jTarget.children().length===0&&(event.type==="imageconvert"||jTarget.is(".repliers_right tr:first-child a"))&&rImg.test(event.target.href)){event.preventDefault();$('<img title="已轉換連結為圖片" class="an-imagified" src="'+$r["image-export"]+'" />').after($.sprintf('<a href="%(url)s" target="_blank"><img onload="DrawImage(this)" src="%(url)s" alt="%(url)s" /></a>',{url:event.target.href})).insertAfter(jTarget)}}})},infinite:function(jDoc){var convertMode=$.inArray(AN.util.getOptions("imageConvertMode"),this.options.imageConvertMode.choices);if(convertMode!==2){jDoc.replies().jContents.find(convertMode===0?"a":"a:not(blockquote a)").trigger("imageconvert")}}},"039d820f-d3c7-4539-8647-dde974ceec0b":{desc:"轉換視頻網站連結成影片",page:{32:true},type:6,defer:2,options:{videoConvertMode:{desc:"轉換模式",type:"select",choices:["自動轉換","自動轉換(引用中的連結除外)","手動轉換"],defaultValue:"自動轉換(引用中的連結除外)"}},once:function(){var nWidth,nHeight,sUrl;var aSites=[{regex:"youtube\\.com/watch\\?",fn:function(){if(nWidth>640){nWidth=640}nHeight=nWidth/16*9+25;sUrl=$.sprintf("http://www.youtube.com/v/%s&fs=1&rel=0&ap=%%2526fmt%%3D22",sUrl.replace(/.+?v=([^&]+).*/i,"$1"))}},{regex:"vimeo\\.com/\\d",fn:function(){if(nWidth>504){nWidth=504}nHeight=nWidth/1.5;sUrl=$.sprintf("http://vimeo.com/moogaloop.swf?clip_id=%s&show_title=1&fullscreen=1",sUrl.replace(/.+vimeo\.com\/(\d+).*/i,"$1"))}},{regex:"youku\\.com/v_show/",fn:function(){if(nWidth>480){nWidth=480}nHeight=nWidth/4*3+40;sUrl=$.sprintf("http://player.youku.com/player.php/sid/%s/v.swf",sUrl.replace(/.+?id_([^\/]+).*/i,"$1"))}},{regex:"tudou\\.com/programs/",fn:function(){if(nWidth>420){nWidth=420}nHeight=nWidth/4*3+48;sUrl=$.sprintf("http://www.tudou.com/v/%s",sUrl.replace(/.+?view\/([^\/]+).*/i,"$1"))}}];var rLink=(function(){var aReg=[];$.each(aSites,function(){aReg.push(this.regex)});return new RegExp(aReg.join("|"),"i")})();AN.util.stackStyle("		.an-videoified { padding-left: 2px; vertical-align: top; } 		.an-videoified + object { display: block; outline: 0; } 		");$d.bind("click videoconvert",function(event){var jTarget=$(event.target);if(jTarget.next(".an-videoified").length){event.preventDefault();jTarget.next().next().toggle()}else{if((event.type==="videoconvert"||jTarget.is(".repliers_right tr:first-child a"))&&rLink.test(event.target.href)){event.preventDefault();sUrl=event.target.href;nWidth=jTarget.up("td,div").width();$.each(aSites,function(){if(RegExp(this.regex,"i").test(sUrl)){this.fn();return false}});$("<div></div>").insertAfter(jTarget).toFlash(sUrl,{width:nWidth,height:nHeight.toFixed(0)},{wmode:"opaque",allowfullscreen:"true"}).before('<img title="已轉換連結為影片" class="an-videoified" src="'+$r["film--arrow"]+'" />')}}})},infinite:function(jDoc,oFn){var convertMode=$.inArray(AN.util.getOptions("videoConvertMode"),this.options.videoConvertMode.choices);if(convertMode!==2){jDoc.replies().jContents.find(convertMode===0?"a":"a:not(blockquote a)").trigger("videoconvert")}}},"8e1783cd-25d5-4b95-934c-48a650c5c042":{desc:"屏蔽圖片",page:{32:false},type:6,options:{imageMaskMode:{desc:"屏蔽模式",type:"select",choices:["自動屏蔽","自動屏蔽(只限引用中的圖片)","手動屏蔽"],defaultValue:"自動屏蔽(只限引用中的圖片)"}},once:function(){var maskMode=$.inArray(AN.util.getOptions("imageMaskMode"),this.options.imageMaskMode.choices);var selector={0:".repliers_right img[onload],",1:".repliers_right blockquote img[onload],",2:""}[maskMode];AN.util.stackStyle(selector+"img[onload].an-maskedImage { padding: 52px 48px 0 0; width: 0; height: 0; background: url("+$r["gnome-mime-image-bmp"]+") no-repeat; }");if(maskMode!==2){AN.util.stackStyle("img[src][onload].an-unmaskedImage { padding: 0; width: auto; height: auto; background: none; }")}var jButton=$("<img />",{src:$r["picture--minus"],css:{"margin-top":"-2px"}}).hoverize(".repliers_right img[onload]",{filter:function(){return $(this).width()}}).click(function(){jButton.data("hoverize").jTarget.addClass("an-maskedImage").removeClass("an-unmaskedImage")});$d.bind("click",function(event){var jTarget=$(event.target);if(jTarget.is("img[onload]")&&jTarget.width()===0){event.preventDefault();jTarget.addClass("an-unmaskedImage").removeClass("an-maskedImage").mouseover()}})},infinite:function(jDoc){return;var maskMode=$.inArray(AN.util.getOptions("imageMaskMode"),this.options.imageMaskMode.choices);if(maskMode!==2){jDoc.replies().jContents.find(maskMode===0?"img[onload]":"blockquote img[onload]").addClass("an-maskedImage")}}},"db770fdc-9bf5-46b9-b3fa-78807f242c3c":{desc:"用戶屏蔽功能",page:{32:true},type:6,once:function(){AN.util.stackStyle("		.an-bammed-msg { color: #999; font-size: 10px; text-align: center; } 		.an-bammed-msg > span { cursor: pointer; } 		.an-bammed > td { opacity: 0.5; } 		.an-bammed > .repliers_left > div > a:first-child ~ *, .an-bammed > td > .repliers_right { display: none; } 		");var bamList=this.bamList=AN.util.data("aBamList")||[],jButton=$.userButton().bind({click:function(){var userid=jButton.data("userButton").jTarget.attr("userid");var index=$.inArray(userid,bamList);index===-1?bamList.push(userid):bamList.splice(index,1);AN.util.data("aBamList",bamList);toggleReplies(null)},buttonshow:function(){var isBammed=$.inArray(jButton.data("userButton").jTarget.attr("userid"),bamList)!==-1;jButton.attr("src",$r[isBammed?"tick-shield":"cross-shield"]).siblings().toggle(!isBammed)}}),tempShown,jMsg=$('<div class="an-bammed-msg">( <span></span> )</div>').hoverize(".repliers_left + td",{autoToggle:false,autoPosition:false}).bind({entertarget:function(){var jTarget=jMsg.data("hoverize").jTarget;if(!jTarget.parent().hasClass("an-bammed")){return}var height=jTarget.innerHeight();jMsg.children().text("Show Blocked User - "+jTarget.parent().attr("username")).end().css($.extend(jTarget.offset(),{width:jTarget.innerWidth(),height:height,lineHeight:height+"px"})).show()},leavetarget:function(){jMsg.hide();if(tempShown){tempShown=false;jMsg.data("hoverize").jTarget.parent().addClass("an-bammed")}},click:function(event){if(event.target===this){return}tempShown=true;jMsg.hide().data("hoverize").jTarget.parent().removeClass("an-bammed")}});var toggleReplies=this.toggleReplies=function(jScope){(jScope||$(document)).replies().each(function(){var jThis=$(this);jThis.find("tr[userid]").toggleClass("an-bammed",$.inArray(jThis.data("sUserid"),bamList)!=-1)})}},infinite:function(jDoc){if(this.bamList.length){this.toggleReplies(jDoc)}}},"7906be8e-1809-40c1-8e27-96df3aa229d8":{desc:"用戶高亮功能",page:{32:true},type:6,once:function(){var highlightList=this.highlightList=[],jButton=$.userButton().bind({click:function(){var userid=jButton.data("userButton").jTarget.attr("userid");var index=$.inArray(userid,highlightList);index===-1?highlightList.push(userid):highlightList.splice(index,1);toggleReplies(null)},buttonshow:function(){jButton.attr("src",$r[jButton.data("userButton").jTarget.hasClass("an-highlighted")?"highlighter--minus":"highlighter--plus"])}});AN.util.stackStyle($.sprintf(".an-highlighted > td { background-color: %s !important; }",AN.util.getOptions("sHighlightBgColor")));var toggleReplies=this.toggleReplies=function(jScope){(jScope||$(document)).replies().each(function(){var jThis=$(this);jThis.find("tr[userid]").toggleClass("an-highlighted",$.inArray(jThis.data("sUserid"),highlightList)!=-1)})}},infinite:function(jDoc){if(this.highlightList.length){this.toggleReplies(jDoc)}}},"e82aa0ba-aa34-4277-99ea-41219dcdacf2":{desc:"用戶單獨顯示功能",defer:1,page:{32:true},type:6,once:function(){var oFn=this,jButton=$.userButton().bind({click:function(){oFn.targetId=oFn.targetId?null:jButton.data("userButton").jTarget.attr("userid");toggleReplies(null)},buttonshow:function(){jButton.attr("src",$r[oFn.targetId?"magnifier-zoom-out":"magnifier-zoom-in"])}});var toggleReplies=this.toggleReplies=function(jScope){(jScope||$(document)).replies().each(function(){var jThis=$(this);jThis.closest("div > table").toggle(!oFn.targetId||jThis.data("sUserid")===oFn.targetId)})}},infinite:function(jDoc){if(this.targetId){this.toggleReplies(jDoc)}}},"a7484cf2-9cbd-47aa-ac28-472f55a1b8f4":{desc:"需要時自動加入代碼插入按扭",page:{288:true},type:6,once:function(){var rUrl,jUrlBtn,rImg,jImgBtn,text,match;var jTextarea=$("#ctl00_ContentPlaceHolder1_messagetext").bind("keyup mouseup change",function(){if(!rUrl){var parts={host:"http://(?:[\\w-]+\\.)+[a-z]{2,3}(?![a-z])",codes:"\\[/?(?:img|url|quote|\\*|left|center|right|b|i|u|s|size|red|green|blue|purple|violet|brown|black|pink|orange|gold|maroon|teal|navy|limegreen)"};rUrl=new RegExp($.sprintf("%(host)s(?:/(?:(?!%(codes)s)\\S)*)?(?!(\\S*?| *)\\[/(?:img|url)])",parts),"gi");jUrlBtn=$('<button type="button" style="vertical-align: top; margin-left: 5px; display: none;" />').insertAfter("#ctl00_ContentPlaceHolder1_btn_Submit").click(function(){jTextarea.val(text.replace(rUrl,"[url]$&[/url]")).change()});rImg=new RegExp($.sprintf("%(host)s/(?:(?!%(codes)s)\\S)+?\\.(?:bmp|jpe?g|png|gif)(?! *\\[/(?:img|url)])",parts),"gi");jImgBtn=$('<button type="button" style="vertical-align: top; margin-left: 5px; display: none;" />').insertAfter(jUrlBtn).click(function(){jTextarea.val(text.replace(rImg,"[img]$&[/img]")).change()})}text=jTextarea.val();(match=text.match(rUrl))?jUrlBtn.html($.sprintf("為%s個連結加上[url]代碼",match.length)).show():jUrlBtn.hide();(match=text.match(rImg))?jImgBtn.html($.sprintf("為%s個圖片連結加上[img]代碼",match.length)).show():jImgBtn.hide()})}},"1fb17624-7c6f-43aa-af11-9331f1f948cb":{desc:"強化表情圖示列",page:{288:true},type:6,options:{sSmileySelectMethod:{desc:"圖示選擇方式",defaultValue:"列表",type:"select",choices:["列表","連結"]}},once:function(){if(!$("#ctl00_ContentPlaceHolder1_messagetext").length){return}AN.util.stackStyle("		#ctl00_ContentPlaceHolder1_QuickReplyTable table table > tbody > tr:first-child + tr + tr + tr > td:first-child 			{ cursor: pointer; } 		#ctl00_ContentPlaceHolder1_QuickReplyTable table table > tbody > tr:first-child + tr + tr + tr > td:first-child:before 			{ content: url("+$r["smiley-twist"]+"); margin-right: 2px; vertical-align: middle; } 		");$d.bind("click.smileyadder",function(event){var jSmileyTr=$("#ctl00_ContentPlaceHolder1_messagetext").up("tr").next();if(jSmileyTr.length&&jSmileyTr.children(":first")[0]!==event.target){return}$d.unbind("click.smileyadder");AN.util.addStyle('			#ctl00_ContentPlaceHolder1_QuickReplyTable table table > tbody > tr:first-child + tr + tr + tr > td:first-child 				{ cursor: default; } 			#ctl00_ContentPlaceHolder1_QuickReplyTable table table > tbody > tr:first-child + tr + tr + tr > td:first-child:before 				{ content: ""; display: none; } 			');jSmileyTr.children(":last").append(function(){var tableHTML="";$.each($s,function(){var html=this.html;tableHTML+='<table style="display: none" cellpadding="0" cellspacing="0"><tbody>';$.each(html.table,function(rowNo,row){function writeLink(smileyNo,smiley){tableHTML+=$.sprintf('<a href="javascript:InsertText(\'%(code)s\',false)"><img style="border: 0" src="%(path)s/%(filename)s.gif" alt="%(code)s" /></a>&nbsp;',{code:smiley[0],path:html.path,filename:smiley[1]})}tableHTML+="<tr>";tableHTML+=rowNo==0?'<td colspan="2">':"<td>";$.each(row,writeLink);tableHTML+="</td>";if(rowNo==1&&html.span){tableHTML+='<td valign="bottom" rowspan="2">';$.each(html.span,writeLink);tableHTML+="</td>"}tableHTML+="</tr>"});tableHTML+="</tbody></table>"});return tableHTML});if(AN.util.getOptions("sSmileySelectMethod")==="列表"){var selectHTML="<select><option>經典表情圖示</option>";$.each($s,function(){selectHTML+="<option>"+this.desc+"</option>"});selectHTML+="</select>";$(selectHTML).change(function(){jSmileyTr.children(":last").children().hide().eq(this.selectedIndex).show()}).appendTo(jSmileyTr.children(":first").empty()).after(":")}else{AN.util.addStyle("#an-smileyselector { list-style: none; margin: 0; padding: 0; font-size: 80%; }");var listHTML='<ul id="an-smileyselector"><li><a href="javascript:">經典表情圖示</a></li>';$.each($s,function(){listHTML+='<li><a href="javascript:">'+this.desc+"</a></li>"});listHTML+="</ul>";$(listHTML).click(function(event){var jTarget=$(event.target);if(!jTarget.is("a")){return}jSmileyTr.children(":last").children().hide().eq(jTarget.parent().index()).show()}).appendTo(jSmileyTr.children(":first").empty())}})}},"e336d377-bec0-4d88-b6f8-52e122f4d1c9":{desc:"加入自訂文字插入控件",page:{288:true},type:5,once:function(){if(!$("#ctl00_ContentPlaceHolder1_messagetext").length){return}var snippets=AN.util.data("snippets")||[["家姐潮文",'講起我就扯火啦\n我家姐一路都在太古廣場一間名店做sales\n間店有好多有錢人同名人幫襯\n做了很多年，已經是senior\n咁多年黎都好俾心機做，經理亦好 like佢\n因為收入不錯又隱定，家姐原本諗住同拍拖多年既bf結婚\n咁多年黎我家姐好少俾人投訴\n而且同好多大客既關係都唔錯\n前排關心研去過我家姐間店幫襯\n不過serve佢既不是我家姐，但佢一買就買左好多野\n過左個幾星期，佢又再去間店行\n上次serve果個Day-off, 咁我家姐就頂上serve佢\n開頭已經好有禮貌介紹d新貨俾佢, 仲話俾折頭佢\n佢就無乜反應，望一望另一堆客\n果堆客係大陸人，三至四個，講野好大聲\n關小姐就同我家姐講話可唔可以關左間鋪一陣\n等佢揀衫\n 我家姐同我講，佢公司一向唔俾佢地咁做\n驚做壞個頭，除非真係有乜大人物，好多記者好混亂先可以咁做\n但佢見到關小姐黑口黑面，都識做話打電話去問一問老闆\n老闆梗係話唔得啦，至多俾多d折頭她\n咁關小姐就發老脾，鬧到我家姐一面屁\nd說話勁難聽，又話自己買野既錢多過我家姐搵幾年既錢\n我家姐都唔敢得罪佢，一味道歉\n跟住關小姐就走左人，家姐就同老闆備案\n老闆瞭解左情況就無再追問\n過左兩日佢接到老闆電話話收到complaint \n話有人投訴佢態度唔好，唔理顧客感受\n公司policy一向唔話俾佢地知係邊次事件\n我家姐估黎估去都淨係得失過關小姐一人\n總之俾老闆話左兩句\n又過幾日，關小姐又黎\n這次和件西裝友一齊，但好在成店都無其他客\n我家姐怕又惹事，叫左個junior過去serve佢\n點知條老西友係要點番我家姐serve.\n根住關小姐就玩野，試衫，但話d衫俾其他人試過污糟\n要開新衫試，我家姐雖然知公司唔俾咁做，\n但怕左佢，唯有照做\n點知試左兩三件，件件佢都要咁試又無話要\n我家姐終於話唔好意思，其實唔可以咁做\n(根本明知她玩野啦.....)\n又係至多俾多d折頭佢\n跟住佢件西裝友就鬧我家姐話"係咪話我地無錢買你地d野?"\n我家姐話唔係，但佢照鬧\n鬧左十幾分鐘\nd同事見咁幫手，又照鬧\n最終打俾老闆備案\n之後連收兩封warning letter\n早兩日接埋大信封\n年尾俾人炒左']];var jSelect=$("<select></select>");function writeSelect(){var selectHTML="<option>自訂文字</option>";$.each(snippets,function(textNo){selectHTML+=$.sprintf('<option value="%s">%s</option>',textNo,this[0])});selectHTML+='<option value="customize">自訂...</option>';jSelect.html(selectHTML)}writeSelect();var jSnippets;jSelect.insertBefore($("#ctl00_ContentPlaceHolder1_messagetext").prev()).change(function(){if(this.value=="customize"){if(!jSnippets){AN.util.addStyle($.sprintf("					#an-snippets { padding: 5px; } 					#an-snippets > ul { float: left; } 					#an-snippets > ul > li { padding: 2px 0; } 					#an-snippets > ul > li > span { margin-right: 5px; border: 1px solid black; padding: 0 5px; background-color: %(sMainHeaderBgColor)s; color: %(sMainHeaderFontColor)s; cursor: pointer; } 					#an-snippets > div { float: right; margin-left: 10px; padding-left: 10px; text-align: center; border-left: 1px solid gray; } 					#an-snippets > div > textarea { display: block; width: 400px; height: 300px; } 					",AN.util.getOptions()));var index,editing,jDesc,jContent;jSnippets=AN.shared.box("an-snippets","自訂文字",700).append('<ul></ul><div><input /><textarea></textarea><button type="button">ok</button><button type="button">cancel</button></div>').click(function(event){var jTarget=$(event.target);if(!jTarget.is("span,button")){return}var type=jTarget.text();if(type=="cancel"){jSnippets.children("div").css("opacity","0.5").children().attr("disabled",true)}else{if(type=="E"||type=="+"){editing=(type==="E");index=jTarget.parent().index();jDesc.val(type=="E"?snippets[index][0]:"").next().val(type=="E"?snippets[index][1]:"").parent().css("opacity","1").children().attr("disabled",false)}else{if(type=="ok"){if(editing){snippets[index]=[jDesc.val(),jContent.val()];editing=false}else{snippets.push([jDesc.val(),jContent.val()])}}else{if(type=="X"&&confirm("確定移除?")){snippets.splice(jTarget.parent().index(),1)}}AN.util.data("snippets",snippets);writeSnippets();writeSelect()}}})}jDesc=jSnippets.find("> div > input");jContent=jDesc.next();function writeSnippets(){var sHTML="";$.each(snippets,function(){sHTML+="<li><span>X</span><span>E</span>"+this[0]+"</li>"});sHTML+="<li><span>+</span>...</li>";jSnippets.children("ul").html(sHTML).next().css("opacity","0.5").children().val("").attr("disabled",true)}writeSnippets();AN.shared.gray(true,"an-snippets")}else{window.InsertText(snippets[this.value][1],false)}this.selectedIndex=0})}}}};AN.mod["Component Redesigner"]={ver:"N/A",author:"向日",fn:{"8be1ac06-030a-42d4-a8f4-f2b7f4881300":{desc:"改變引用風格",page:{32:true},type:8,options:{quoteStyle:{desc:"引用風格",type:"select",choices:["預設","復古","現代"],defaultValue:"預設"},quoteMaskLevel:{desc:"引用屏蔽層級",type:"text",defaultValue:2}},once:function(){AN.util.stackStyle(".repliers_right blockquote + br { display: none; }");var styleNo=this.styleNo=$.inArray(AN.util.getOptions("quoteStyle"),this.options.quoteStyle.choices),jButton;switch(styleNo){case 0:AN.util.stackStyle("				.repliers_right blockquote { margin: 0 0 8px 1px; padding: 0 0 7px 40px; } 				blockquote.an-hiddenquote { padding-left: 0; } 				.an-hiddenquote:before { content: url("+$r["balloon--plus"]+"); } 				.an-hiddenquote > div { display: none; } 				");jButton=$("<img />").hoverize(".repliers_right blockquote").bind({"mouseover mouseout":function(event){var jTarget=jButton.data("hoverize").jTarget;jTarget.css("outline",event.type==="mouseout"||jTarget.hasClass("an-hiddenquote")?"0":"1px dashed gray")},entertarget:function(){jButton.attr("src",$r[jButton.data("hoverize").jTarget.hasClass("an-hiddenquote")?"balloon--plus":"balloon--minus"])}});break;case 1:AN.util.stackStyle('				.an-quotetogglebutton { margin: -18px 0 0 -4px; } 				.an-quotetogglebutton, blockquote:before { color: #999; } 				.repliers_right blockquote:before { content: ""; position: absolute; width: 20px; height: 20px; top 0; left: -4px; margin-top: -18px; } 				.repliers_right td > blockquote { margin: 15px 0 10px 3px; } 				.repliers_right blockquote { position: relative; margin: 0 0 10px 0; } 				.repliers_right blockquote > div { border-left: 2px solid #999; padding-left: 5px; } 				blockquote.an-hiddenquote:before { content: "+"; } 				.an-hiddenquote > div > blockquote { display: none; } 				');jButton=$('<span class="an-quotetogglebutton"></span>').hoverize("blockquote",{filter:":has(blockquote)"}).bind("entertarget",function(){jButton.text(jButton.data("hoverize").jTarget.hasClass("an-hiddenquote")?"+":"--")});break;case 2:AN.util.stackStyle($.sprintf('				.an-quotetogglebutton { margin: 2px 0 0 -15px; font-weight: bold; } 				.an-quotetogglebutton, blockquote:before, .an-hiddenquote:after { font-size: 12px; color: %(sMainHeaderFontColor)s; } 				.repliers_right blockquote:before { content: "引用:"; display: block; margin-bottom: 2px; padding-left: 3px; line-height: 1.3; background-color: %(sMainHeaderBgColor)s; } 				.repliers_right td > blockquote { border-right-width: 1px; } 				.repliers_right blockquote { margin: 0 0 5px 0; border: 1px solid %(sMainBorderColor)s; border-right-width: 0; } 				.repliers_right blockquote > div { padding: 0 0 5px 2px; } 				.an-hiddenquote { position: relative; } 				.an-hiddenquote:after { content: "＋"; position: absolute; top: 1px; right: 3px; font-weight: bold; } 				.an-hiddenquote > div > blockquote { display: none; } 				',AN.util.getOptions()));jButton=$('<span class="an-quotetogglebutton"></span>').hoverize("blockquote",{filter:":has(blockquote)",autoPosition:false}).bind("entertarget",function(){var jTarget=jButton.data("hoverize").jTarget,offset=jTarget.offset();jButton.text(jTarget.hasClass("an-hiddenquote")?"＋":"－").css({top:offset.top,left:offset.left+jTarget.width()})});break}jButton.click(function(){jButton.data("hoverize").jTarget.toggleClass("an-hiddenquote")})},infinite:function(jDoc){var level=AN.util.getOptions("quoteMaskLevel")-(this.styleNo===0?1:2);if(level<0){return}jDoc.replies().jContents.find(this.styleNo===0?"blockquote":"blockquote:has(blockquote)").filter(function(){return $(this).parentsUntil("td","blockquote").length===level}).addClass("an-hiddenquote")}},"cb1917f9-4053-40b1-870d-e0e2c6a90b39":{desc:"改變快速回覆的風格",page:{32:true},type:8,options:{sQRHideMethod:{desc:"隱藏方式",type:"select",choices:["完全隱藏","隱藏於中下方, 懸浮切換顯示","隱藏於中下方, 點擊切換顯示","隱藏於右下角"],defaultValue:"隱藏於中下方, 點擊切換顯示"},nQROpacity:{desc:"透明度 (10 = 移除半透明)",type:"select",defaultValue:10,choices:[10,9,8,7,6,5,4,3,2,1,0]}},once:function(){if(!AN.util.isLoggedIn()){return}var hideMode=$.inArray(AN.util.getOptions("sQRHideMethod"),this.options.sQRHideMethod.choices),jQR=$("#newmessage"),jQRHeader=jQR.find("td:eq(1)").attr("id","an-qr-header").html("快速回覆"),jToggle=(hideMode===0?jQR:jQR.find("tr:eq(2)")).hide(),jPreview=$("#previewArea"),jTextarea=$("#ctl00_ContentPlaceHolder1_messagetext"),nWidth=938,nRight=50-nWidth;AN.util.stackStyle($.sprintf("		#newmessage { %s; z-index: 3; position: fixed; width: %spx; bottom: 0px; right: %spx; } 		#an-qr-header { cursor: pointer; text-align: center; } 		#previewArea { display: block; overflow: auto; width: %spx; } 		#previewArea img[onload] { max-width: 300px; } 		",AN.util.getOpacityStr(AN.util.getOptions("nQROpacity")),nWidth,hideMode===3?nRight:Math.ceil(($.winWidth()-nWidth)/2),nWidth-149));function toggleQR(toShow,callback){var isVisible=jToggle.is(":visible");if(toShow===undefined){toShow=!isVisible}else{if(isVisible===toShow){return}}function toggle(){jPreview.empty();jToggle.toggle(toShow);if(toShow){window.moveEnd();jTextarea.scrollTop(99999)}}if(hideMode===3){if(toShow){jQR.animate({right:Math.ceil(($.winWidth()-nWidth)/2)},"slow",toggle)}else{toggle();jQR.animate({right:nRight},"slow")}}else{toggle()}}hideMode===1?jQR.bind("mouseenter mouseleave",function(event){toggleQR(event.type==="mouseenter")}):jQRHeader.click(function(){toggleQR()});$("#aspnetForm").submit(function(){toggleQR(false)});window.OnQuoteSucceeded=function(result){toggleQR(true);jTextarea.val(unescape(result)+"\n")};window.doPreview=(function(_doPreview){return function(){_doPreview();jPreview.css("max-height",$.winHeight()-jQR.height()-jPreview.height())}})(window.doPreview)}}}};AN.mod["Style Editor"]={ver:"N/A",author:"向日",fn:{"89615a78-21b7-46bd-aeb1-12e7f031e896":{desc:"強制更改全局字體",page:{65534:false},type:2,options:{sMainFontFamily:{desc:"字體名稱",defaultValue:"SimSun",type:"text"}},once:function(){AN.util.stackStyle($.sprintf("body * { font-family: %s !important; }",AN.util.getOptions("sMainFontFamily")))}},"cad6d058-f999-460d-ac29-4074f33f46fb":{desc:"設定連結樣式",page:{65534:false},type:2,options:{sMainLinkFontColor:{desc:"普通連結顏色",defaultValue:"#1066d2",type:"text"},sMainVisitedColor:{desc:"已訪問連結顏色",defaultValue:"#800080",type:"text"},sMainHoverColor:{desc:"連結懸浮顏色",defaultValue:"",type:"text"},bRemoveLinkUnderline:{desc:"移除連結底線",defaultValue:false,type:"checkbox"}},once:function(){var sTextCSS=AN.util.getOptions("bRemoveLinkUnderline")?'text-decoration: none; } a[href^="/blog/blog.aspx"] > span { text-decoration: none !important; } .repliers_right a { text-decoration: underline; }':"}";AN.util.stackStyle($.sprintf("		body > form a, #ctl00_ContentPlaceHolder1_MiddleAdSpace1 a { color: %(sMainLinkFontColor)s; "+sTextCSS+' 		body > form a[href*="view.aspx"]:visited, .repliers_right a:visited { color: %(sMainVisitedColor)s; } 		body > form a[href]:hover { color: %(sMainHoverColor)s; } 		',AN.util.getOptions()))}},"7574582b-2fea-4079-8dfb-7ac4e5587ecb":{desc:"改變論壇樣式",page:{65534:false},type:2,options:{sLogoBgImage:{desc:"高登Logo圖片",defaultValue:"/images/index_images/logo.jpg",type:"text"},sTopBgImage:{desc:"頂部背景圖片",defaultValue:"/images/index_images/bg_top.jpg",type:"text"},sMainBgImage:{desc:"主表格背景圖片",defaultValue:"/images/index_images/bg_maintop.jpg",type:"text"},sRedTitleFontColor:{desc:"紅人榜標題字體顏色",defaultValue:"#FFFFFF",type:"text"},sRedTitleBgColor:{desc:"紅人榜標題背景顏色",defaultValue:"#CC2331",type:"text"},sRedHeaderFontColor:{desc:"紅人榜第一列字體顏色",defaultValue:"#003366",type:"text"},sRedHeaderBgColor:{desc:"紅人榜第一列背景顏色",defaultValue:"#FF5560",type:"text"},sRedContentFontColor:{desc:"紅人榜內容字體顏色",defaultValue:"#000000",type:"text"},sBlueBarFontColor:{desc:"藍色橫條字體顏色",defaultValue:"#FFFFFF",type:"text"},sBlueBarBgColor:{desc:"藍色橫條背景顏色",defaultValue:"#6EA0C4",type:"text"},sBlueBarBgImage:{desc:"藍色橫條背景圖片",defaultValue:"/images/left_menu/p.png",type:"text"},sBlueSecBgColor:{desc:"高登公告內部橫條背景顏色",defaultValue:"#CCDDEA",type:"text"},sHighlightBgColor:{desc:"高亮背景顏色",defaultValue:"#E9EC6C",type:"text"},sTimeFontColor:{desc:"時間字體顏色",defaultValue:"#800000",type:"text"},sMaleFontColor:{desc:"男用戶連結顏色",defaultValue:"#0066FF",type:"text"},sFemaleFontColor:{desc:"女用戶連結字體顏色",defaultValue:"#FF0066",type:"text"},sQuoteFontColor:{desc:"引用字體顏色",defaultValue:"#0000A0",type:"text"},sFooterBgColor:{desc:"頁腳横條背景顏色",defaultValue:"#FFCC00",type:"text"}},once:function(){AN.util.stackStyle($.sprintf(' 		/* Global stuff */		body { background-color: %(sMainBgColor)s; } 		body, p, td, .addthis_toolbox > a, .addthis_toolbox > span { color: %(sMainFontColor)s; } 		/* main border */		div[style*="0, 0, 0"], div[style*="000000"], .DivMarkThread, .repliers_header, .repliers_left, .repliers, .repliers td, .Topic_ForumInfoPanel table, .Topic_ForumInfoPanel th { border-color: %(sMainBorderColor)s !important; } 		#aspnetForm table[cellspacing="1"][cellpadding="2"], #ctl00_ContentPlaceHolder1_PMMsgTable, #ctl00_ContentPlaceHolder1_QuickReplyTable, #ctl00_ContentPlaceHolder1_QuickReplyLoginTable { background-color: %(sMainBorderColor)s !important; } 		*[style*="128, 128, 128"], *[style*="808080"] { background-color: transparent !important; } 		/* sec border */		.main_table1 { border-color: %(sSecBorderColor)s; } 		/* nearly-white backgrounds */		*[style*="rgb(23"], *[style*="rgb(24"], *[style*="#E"], *[style*="#F"], *[style*="#e"], *[style*="#f"], .Topic_ForumInfoPanel table td { background-color: %(sSecBgColor)s !important; } 		/* PM Box & white table cells */		.DivMarkThread, .ListPMText, *[style*="255, 255, 255"], *[style*="#FFFFFF"], *[style*="background-color: white"], *[style*="BACKGROUND-COLOR: white"], *[bgcolor="#f8f8f8"] { background-color: %(sMainBgColor)s !important; } 		/* headers */		.repliers_header, *[style*="51, 102, 153"], *[style*="#336699"], .Topic_ForumInfoPanel table th, .Topic_ListPanel table th { color: %(sMainHeaderFontColor)s !important; background-color: %(sMainHeaderBgColor)s !important; } 		/* under logo links, footer text, username links, bookmarkbar */		.encode_link, .txt_11pt_1A3448, *[style*="color: black"], *[style*="COLOR: black"], .hkg_bottombar_link { color: %(sMainFontColor)s !important; } 		/* non-transparent images */		.TopMenuPanel, .bg_top { background-image: url(%(sTopBgImage)s); } 		.PageMiddleBox, .bg_main { background-image: url(%(sMainBgImage)s); } 		/* main logo */		#ctl00_TopBarHomeLink { display: block; background: url(%(sLogoBgImage)s) no-repeat; } 		#ctl00_TopBarHomeLink img { visibility: hidden; } 		/* thin bars icon */		.ProfileBoxTitle:first-child, .DivResizableBoxTitle:first-child, .title:first-child, *[bgcolor="#6ea0c4"]:first-child, .redhottitle:first-child { background: url(%(sBlueBarBgImage)s) no-repeat; } 		*[src*="/p.jpg"], *[src*="/redhotp.jpg"] { visibility: hidden; } 		/* blue bars , red bars, and main forum page bars */		.ProfileBoxTitle, .DivResizableBoxTitle, .title, *[bgcolor="#6ea0c4"], *[colspan="6"] { background-color: %(sBlueBarBgColor)s !important; color: %(sBlueBarFontColor)s; } 		.redhottitle { background-color: %(sRedTitleBgColor)s; color: %(sRedTitleFontColor)s; } 		/* hot people */		table[style*="255, 85, 96"], tr[style*="255, 85, 96"], table[style*="#ff5560"], tr[style*="#ff5560"] { background-color: %(sRedHeaderBgColor)s !important; } 		td[style*="255, 85, 96"], td[style*="#ff5560"] { border-color: %(sRedHeaderBgColor)s !important; } 		*[style*="0, 51, 102"], *[style*="#003366"] { color: %(sRedHeaderFontColor)s !important; } 		.redhot_text, a.redhot_link { color: %(sRedContentFontColor)s; } 		/* hot search */		.HitSearchText { color: %(sMainHeaderFontColor)s; } 		a.hitsearch_link { color: %(sMainFontColor)s; } 		/* annoucements, profilepage tabs */		.DivResizableBoxDetails, .ProfileBoxDetails { border-color: %(sBlueSecBgColor)s; } 		*[bgcolor="#ccddea"], .ajax__tab_tab, #advarea tr:first-child + tr td { background-color: %(sBlueSecBgColor)s !important; } 		.p__tab_xp .ajax__tab_tab { color: %(sMainFontColor)s; } 		.p__tab_xp .ajax__tab_active .ajax__tab_tab, .p__tab_xp .ajax__tab_hover .ajax__tab_tab { color: %(sMainHoverColor)s; } 		/* hightlight bg */		*[style*="233, 236, 108"], *[style*="#E9EC6C"] { background-color: %(sHighlightBgColor)s !important; } 		/* time text */		*[style*="128, 0, 0"], *[style*="#800000"], *[style*="maroon"] { color: %(sTimeFontColor)s !important; } 		/* male name link */		*[style*="0, 102, 255"], *[style*="#0066ff"], *[style*="#0066FF"], *[color="blue"] { color: %(sMaleFontColor)s !important; } 		/* female name link */		*[style*="255, 0, 102"], *[style*="#ff0066"], *[style*="#FF0066"], *[color="red"] { color: %(sFemaleFontColor)s !important; } 		/* quotes */		blockquote > div[style*="color"], blockquote > div[style*="COLOR"] { color: %(sQuoteFontColor)s !important; } 		/* profilepage avater */		table[width="150"] { border-color: %(sSecBorderColor)s !important; } 		/* footer */		.FooterPanel > div:first-child { background-color: %(sFooterBgColor)s !important; } 		a.terms_link { color: %(sMainFontColor)s; } 		/* bookmark bar */		.hkg_bottombar, .hkg_bottombar *, .hkg_bbMenu, .hkg_bbMenu * { background-color: %(sSecBgColor)s; border-color: %(sMainBorderColor)s; color: %(sMainFontColor)s; } 		.hkg_bb_bookmark_TitleBox, .hkg_bb_bookmark_TitleBox *, .hkg_bb_bookmarkItem_Hover, .hkg_bb_bookmarkItem_Hover a div { background-color: %(sMainHeaderBgColor)s; color: %(sMainHeaderFontColor)s; } 		.hkg_bb_bookmarkItem a div { background-color: transparent; color: inherit; } 		.hkg_bbItem_MiniFunc, .hkg_bbItem_MiniFunc_Hover, .hkg_bbItem, .hkg_bbItem_Hover, .hkg_bbItem_Selected { border: 0; } 		',AN.util.getOptions()))}},"eb703eac-bb31-4dbe-b28c-0b6d2942b6f5":{desc:"滙入自定CSS(進階用戶專用)",page:{65534:false},type:2,options:{sCustomCSSHref:{desc:"自定CSS檔案位置 [部份瀏覽器不支持本地檔案]",defaultValue:"",type:"text"},sCustomCSSContent:{desc:"自定CSS內容",defaultValue:"/*sample*/ * { color: black !important; }",type:"text"}},once:function(){var sHref=AN.util.getOptions("sCustomCSS");if(sHref){$("head").append($.sprintf('<link type="text/css" rel="stylesheet" href="%s" />',sHref))}var sContent=AN.util.getOptions("sCustomCSSContent");if(sContent){AN.util.stackStyle(sContent)}}}}};AN.mod["User Interface"]={ver:"N/A",author:"向日",fn:{"6464e397-dfea-477f-9706-025ec439e810":{desc:"設定UI樣式",page:{65535:"comp"},type:2,options:{sMenuFontSize:{desc:"UI主要字體大小(px)",defaultValue:"16",type:"text"},sSmallFontSize:{desc:"UI細字體大小(px)",defaultValue:"10",type:"text"}},once:function(){AN.util.stackStyle($.sprintf(' 		.an-box { display: none; position: fixed; left: 50%; top: 50%; z-index: 10; border-width: 1px; } 		.an-box-header { line-height: 1.8em; margin: 0; padding: 0 0 0 0.2em; } 		.an-box-content { overflow: auto; position: relative; } 				.an-menu { font-size: %(sMenuFontSize)spx; } 		.an-menu a { display: block; } 		.an-menu a:hover { color: %(sUIHoverColor)s; } 				.an-small { font-size: %(sSmallFontSize)spx; } 				#an-ui ul { margin: 0; padding: 0; list-style: none; } 		#an-ui a:focus { outline: 0; } 				.an-mod { position: fixed; color: %(sUIFontColor)s; } 		.an-mod, .an-mod * { border: 0 solid %(sUIFontColor)s; } 		.an-mod a { text-decoration: none; color: %(sUIFontColor)s; } 				#an-backlayer { display: none; opacity: 0; -ms-filter: "alpha(opacity=0)"; z-index: 5; position: fixed; left: 0; top: 0; width: 100%; height: 100%; background: gray; } 				#an-mainmenu { top: 15%; right: 0; } 		#an-mainmenu a { padding: 0.3em 0.35em 0 0; border-bottom-width: 1px; } 		',AN.util.getOptions()))}},"1db9ccc8-ad28-48b6-8744-22f892ca0a44":{desc:"加入基本元件",page:{65535:"comp"},type:1,once:function(){$("#an").append(' 		<div id="an-ui"> 			<div id="an-backlayer"></div> 			<ul id="an-mainmenu" class="an-mod an-menu"></ul> 		</div> 		').click(function(event){event.stopPropagation()});AN.shared.gray=function(bClickToQuit,uExtra){var jGray=$("#an-backlayer");if(jGray.is(":hidden")){if(bClickToQuit){jGray.one("click",function(){AN.shared.gray()})}jGray.show().fadeTo("slow",0.7);if(uExtra){var jExtra=$("#"+uExtra);var oWH=jExtra.data("an-oWH");var nMaxHeight=$.winHeight(0.9);var nMaxWidth=$.winWidth(0.9);jExtra.width((oWH.w=="max"||oWH.w>nMaxWidth)?nMaxWidth:oWH.w).height((oWH.h=="max"||oWH.h>nMaxHeight)?nMaxHeight:oWH.h);var jBox=jExtra.up(".an-box");jBox.css({marginTop:-jBox.height()/2,marginLeft:-jBox.width()/2}).fadeIn("slow")}}else{jGray.add(".an-box:visible").fadeOut("slow")}};AN.shared.addMain=function(sName,fHandler){$('<li><a href="javascript:">'+sName+"</a></li>").click(fHandler).appendTo("#an-mainmenu")};AN.shared.box=function(sId,sHeader,uWidth,uHeight){return $($.sprintf('<div class="an-box an-forum"><h4 class="an-forum-header an-box-header">%s</h4><div id="%s" class="an-box-content"></div></div>',sHeader,sId)).appendTo("#an-ui").children(".an-box-content").data("an-oWH",{w:uWidth||"auto",h:uHeight||"auto"})}}},"72907d8e-4735-4f66-b3c9-20e26197663d":{desc:"加入共用元件",page:{65535:"comp"},type:1,once:function(){(function(){AN.shared.serverTable=function(){if(!$("#an-server").length){AN.util.addStyle("					#an-server div { padding: 0.5em; } 					#an-server caption { padding-top: 0.5em; text-align: center; caption-side: bottom; } 					#an-server caption a { display: inline-block; border-width: 1px; padding: 0.2em; } 					#an-server table { text-align: center; } 					");AN.shared.box("an-server","伺服器狀態",300).append('<div><table><caption><a href="javascript:">進行測試</a></caption><thead><tr><td>伺服器</td><td>回應時間</td></tr></thead><tbody></tbody></table></div>');var sURL=(location.href.indexOf("aspxerrorpath=")>0)?$.sprintf("http://%s/topics.aspx?type=BW",location.hostname):location.href;var tableHTML="",imgHTML="";for(var nServer=1;nServer<=8;nServer++){tableHTML+=$.sprintf('<tr><td><a href="%s">Forum %s</a></td><td class="an-server-response"></td></tr>',sURL.replace(/forum\d/i,"forum"+nServer),nServer);imgHTML+="<img />"}var jTestImages=$("<div>"+imgHTML+"</div>").children().bind("load error",function(event){var jImg=$(event.target);$("#an-server .an-server-response").eq(jImg.index()).html(event.type=="load"?$.sprintf("~%s ms",$.time()-jImg.data("nTime")):"發生錯誤")});$("#an-server").find("caption").click(function(){$("#an-server .an-server-response").html("等待回應中...");jTestImages.each(function(i){var nTime=$.time();$(this).data("nTime",nTime).attr("src",$.sprintf("http://forum%s.hkgolden.com/images/spacer.gif?tId=%s",i+1,nTime))})}).end().find("tbody").html(tableHTML)}AN.shared.gray(true,"an-server");$("#an-server caption").trigger("click")}})();(function(){var jHoverObjects,objectSets=[],recordOffset=function(){var data=$(this).data("hoverize");data.fixScroll_difference=data.jTarget[data.fixScroll]()-$d.scrollTop()};$.fn.hoverize=function(selector,option){if(!jHoverObjects){AN.util.addStyle("					#an-hoverobjects > * { display: none; position: absolute; } 					#an-hoverobjects > img, #an-hoverobjects > span { cursor: pointer; } 					");jHoverObjects=$('<div id="an-hoverobjects"></div>').appendTo("#an").bind({click:function(event){event.stopPropagation();var jObject=$(event.target).closest("#an-hoverobjects > *"),data=jObject.data("hoverize");if(!data){return}var jTarget=data.jTarget;if(data.fixScroll){$d.scrollTop(jTarget[data.fixScroll]()-data.fixScroll_difference)}if(!data.autoToggle){return}data.jTarget=null;jObject.hide();jTarget.mouseover();jObject.mouseover()},"mouseover mouseout entertarget leavetarget":function(event){event.stopPropagation()}});$d.mouseover(function(event){var jEnterTree=$(event.target).parentsUntil("#aspnetForm").andSelf();$.each(objectSets,function(i,objectSet){var jNewTarget=jEnterTree.filter(objectSet.selector).eq(-1),jObject=objectSet.jObject,data=jObject.data("hoverize");if(data.filter){jNewTarget=jNewTarget.filter(data.filter)}if(data.jTarget){if(jNewTarget[0]&&jNewTarget[0]===data.jTarget[0]){return}else{jObject.trigger("leavetarget");data.jTarget=null;if(data.autoToggle){jObject.hide()}}}if(jNewTarget.length){data.jTarget=jNewTarget;jObject.trigger("entertarget");if(data.autoPosition){jObject.css(jNewTarget.offset())}if(data.autoToggle){jObject.show()}}})})}var jObject=this;if(selector===null){$.each(objectSets,function(i){if(this.jObject[0]===jObject[0]){objectSets.splice(i,1);return false}})}else{objectSets.push({selector:selector,jObject:jObject});this.data("hoverize",$.extend({fixScroll:false,fixScroll_autoRecord:true,autoToggle:true,autoPosition:true,filter:null},option)).appendTo(jHoverObjects);if(this.data("hoverize").fixScroll&&this.data("hoverize").fixScroll_autoRecord){this.click(recordOffset)}}return this}})();(function(){var jUserButtons,recordOffset=function(){var data=jUserButtons.data("hoverize");data.fixScroll_difference=data.jTarget.top()-$d.scrollTop()};$.userButton=function(src){if(!jUserButtons){AN.util.addStyle("					#an-userbuttons > img:first-child { padding-top: 7px; } 					#an-userbuttons > img { display: block; padding: 3.5px 7px; cursor: pointer; } 					");jUserButtons=$('<div id="an-userbuttons"></div>').hoverize(".repliers_left",{fixScroll:"top",fixScroll_autoRecord:false}).bind({entertarget:function(){jUserButtons.children().data("userButton",{jTarget:jUserButtons.data("hoverize").jTarget.parent()}).trigger("buttonshow")},buttonshow:function(event){event.stopPropagation()}})}return $("<img />",{src:src,click:recordOffset}).appendTo(jUserButtons)}})()}},"95e203b9-8d9a-46ad-be53-f4297bad7285":{desc:"加入選項元件",page:{65534:"comp"},type:1,once:function(){var tabClick,getInfo,saveOptions,fillOptions,fillBoolean,importSettings,exportSettings,bFillAll,jFieldsets,jTabLinks,jSwitches,jOptions;AN.shared.addMain("選項",function(){if(!$("#an-settings").length){AN.shared.box("an-settings","選項",900,"max").append('<div id="an-settings-tabs"><ul id="an-settings-tabs-main"></ul><ul id="an-settings-tabs-extend"></ul></div><div id="an-settings-main"><div id="an-settings-main-panelswrapper"><div id="an-settings-main-panels"></div></div><div id="an-settings-main-controls"><ul id="an-settings-main-control-1"></ul><ul id="an-settings-main-control-2"></ul></div></div>');AN.util.addStyle(" 				#an-settings-tabs { float: left; height: 100%; border-right-width: 1px; } 				#an-settings-tabs a { display: block; line-height: 2em; text-align: center; border-bottom-width: 1px; padding: 0 0.5em; } 				#an-settings-tabs-extend li:first-child { margin-top: 2em; border-top-width: 1px; } 								#an-settings-main { position: relative; overflow: hidden; height: 100%; } 								#an-settings-main-panelswrapper { overflow: auto; position: absolute; top: 0; right: 0; bottom: 2em; left: 0; border-bottom-width: 1px; padding: 0; margin: 0; } 				#an-settings-main-panels { padding: 1em; } 				#an-settings-main-panels fieldset { display: none; margin: 0; padding: 0 0.5em 1em; border-width: 1px; } 				#an-settings-main-panels h4 { font-weight: normal; overflow: hidden; margin: 1em 0 0.5em; } 				#an-settings-main-panels h4 span { float: left; margin-right: 0.2em; } 				#an-settings-main-panels h4 hr { overflow: hidden; margin: 0.5em 0 0 0; border-top-width: 1px; } 				#an-settings-main-panels dl { margin: 0.35em 0 0.35em 5px; } 				#an-settings-main-panels dd { margin: 0.25em 0 0 20px; } 								#an-settings-main-controls { position: absolute; left: 0; right: 0; bottom: 0; line-height: 2em; } 				#an-settings-main-control-1 { float: left; } 				#an-settings-main-control-2 { float: right; } 				#an-settings-main-controls li { float: left; } 				#an-settings-main-control-last, #an-settings-main-controls a { padding: 0 1em; } 				#an-settings-main-control-1 li { border-right-width: 1px; } 				#an-settings-main-control-last, #an-settings-main-control-2 li { border-left-width: 1px; } 				");var oTypeMap=AN.box.oTypeMap;var oPageMap=AN.box.oPageMap;var oStructure={};$.each(oTypeMap,function(sType){oStructure[sType]={};$.each(oPageMap,function(sPage){oStructure[sType][sPage]={}})});var sSep="_-_";$.each(AN.mod,function(sMod){if(!this.fn){return}$.each(this.fn,function(sId,oFn){$.each(oFn.page,function(sPage,uDefault){if(!oStructure[oFn.type][sPage]){oStructure[oFn.type][sPage]={}}oStructure[oFn.type][sPage][sMod+sSep+sId]={desc:oFn.desc,options:oFn.options,comp:(uDefault=="comp"),disabled:(uDefault=="disabled")}})})});var sHTML="";$.each(oStructure,function(sType){var jContainer=(isNaN(sType)||sType>6)?$("#an-settings-tabs-extend"):$("#an-settings-tabs-main");jContainer.append($.sprintf('<li><a href="javascript:" rel="an-settings-panel-%s">%s</a></li>',sType,oTypeMap[sType]));sHTML+=$.sprintf('<fieldset id="an-settings-panel-%s"><legend>%s</legend>',sType,oTypeMap[sType]);$.each(this,function(sPage){if($.isEmpty(this)){return}var aGroup=[];if(sPage in oPageMap){aGroup.push(oPageMap[sPage].desc)}else{$.each(oPageMap,function(s){if(s<65534&&s&sPage){aGroup.push(this.desc)}})}sHTML+=$.sprintf("<h4><span>%s</span><hr /></h4>",aGroup.join("、"));$.each(this,function(sMixed){sHTML+="<dl><dt>";var bDisabled=this.disabled;var sSwitchId=$.sprintf("an-settings-switch-%s%s%s",sPage,sSep,sMixed);var sChecked=this.comp?'checked="checked"':"";var sSavable=(this.comp||bDisabled)?'disabled="disabled"':'class="an-settings-switch"';sHTML+=$.sprintf('<input type="checkbox" id="%s" %s %s />',sSwitchId,sChecked,sSavable);sHTML+=$.sprintf('<label for="%s">%s</label></dt>',sSwitchId,this.desc);if(this.options){$.each(this.options,function(sName){sHTML+="<dd>";var sOptionId=$.sprintf("an-settings-option-%s%s%s",sPage,sSep,sName);var sSavable=bDisabled?'disabled="disabled"':'class="an-settings-option"';if(this.type=="checkbox"){sHTML+=$.sprintf('<input type="checkbox" id="%s" %s /><label for="%s">%s</label>',sOptionId,sSavable,sOptionId,this.desc)}else{if(this.type=="text"){sHTML+=$.sprintf('<label for="%s">%s: </label><input type="text" id="%s" %s />',sOptionId,this.desc,sOptionId,sSavable)}else{if(this.type=="select"){sHTML+=$.sprintf('%s: <select id="%s" %s>',this.desc,sOptionId,sSavable);$.each(this.choices,function(){sHTML+=$.sprintf('<option value="%s">%s</option>',this,this)});sHTML+="</select>"}}}sHTML+="</dd>"})}sHTML+="</dl>"})});sHTML+="</fieldset>"});$("#an-settings-main-panels").append(sHTML);sHTML=null;jFieldsets=$("#an-settings-main-panels fieldset");jTabLinks=$("#an-settings-tabs a");jSwitches=$(".an-settings-switch");jOptions=$(".an-settings-option");jFieldsets.each(function(){var jThis=$(this);if(!jThis.find("h4").length){$($.sprintf("[rel=%s]",jThis.attr("id"))).parent().add(jThis).remove()}});tabClick=function(){jTabLinks.css("text-decoration","");$(this).css("text-decoration","underline");jFieldsets.hide();$("#"+$(this).attr("rel")).show().parent().parent().scrollTop(0)};jTabLinks.click(tabClick);jSwitches.click(function(){var jThis=$(this);jThis.parent().parent().find(".an-settings-option").attr("disabled",!jThis.is(":checked"))});getInfo=function(jTarget){var oInfo=jTarget.data("info");if(!oInfo){var aInfo;if(jTarget.hasClass("an-settings-switch")){aInfo=jTarget.attr("id").replace(/an-settings-switch-/,"").split(sSep);oInfo={page:aInfo[0]*1,mod:aInfo[1],id:aInfo[2]}}else{aInfo=jTarget.attr("id").replace(/an-settings-option-/,"").split(sSep);oInfo={page:aInfo[0]*1,name:aInfo[1],type:jTarget[0].nodeName=="SELECT"?"select":jTarget.attr("type")}}jTarget.data("info",oInfo)}return oInfo};saveOptions=function(){var oSwitches={};jSwitches.each(function(){var jThis=$(this);var oInfo=getInfo(jThis);$.make("a",$.make("o",oSwitches,oInfo.mod),oInfo.id);if(jThis.is(":checked")){oSwitches[oInfo.mod][oInfo.id].push(oInfo.page)}});AN.util.storage("an_switches",oSwitches);var oOptions={};var bHasQuote=false;jOptions.each(function(){var jThis=$(this);var oInfo=getInfo(jThis);$.make("o",oOptions,oInfo.name);if(oInfo.type=="checkbox"){oOptions[oInfo.name][oInfo.page]=jThis.is(":checked")}else{if(oInfo.type=="text"||oInfo.type=="select"){if(!bHasQuote&&oInfo.type=="text"&&jThis.val().match(/\'|\"/)){bHasQuote=true}oOptions[oInfo.name][oInfo.page]=$.correct(jThis.val())}}});if(bHasQuote&&!confirm("發現文字設定中含有引號!\n若該設定屬於CSS相關項目(如顏色設定), 則有可能導致版面錯誤!\n\n確定進行儲存?")){return false}AN.util.storage("an_options",oOptions);return true};fillOptions=function(bFillAll,bUseDefault){var jScope=(bFillAll)?$("#an-settings-main-panels"):jFieldsets.filter(":visible");var oDB=AN.modFn.getDB(bUseDefault);jScope.find(".an-settings-switch").each(function(){var jThis=$(this);var oInfo=getInfo(jThis);var bOn=($.inArray(oInfo.page,oDB.oSwitches[oInfo.mod][oInfo.id])!=-1);jThis.attr("checked",bOn).parent().parent().find(".an-settings-option").attr("disabled",!bOn)});jScope.find(".an-settings-option").each(function(){var jThis=$(this);var oInfo=getInfo(jThis);var uValue=oDB.oOptions[oInfo.name][oInfo.page];if(oInfo.type=="checkbox"){jThis.attr("checked",uValue)}else{if(oInfo.type=="text"||oInfo.type=="select"){jThis.val(uValue)}}})};fillBoolean=function(bSwitchOn){var jScope=(bFillAll)?$("#an-settings-main-panels"):jFieldsets.filter(":visible");jScope.find(".an-settings-switch").attr("checked",bSwitchOn);jScope.find(".an-settings-option").attr("disabled",!bSwitchOn)};importSettings=function(){var oSettings=JSON.parse(prompt("輸入滙入設定資料",""));if(!oSettings){return alert("資料剖析錯誤!")}var jScope=(bFillAll)?$("#an-settings-main-panels"):jFieldsets.filter(":visible");if(oSettings.oSwitches){jScope.find(".an-settings-switch").each(function(){var jThis=$(this);var oInfo=getInfo(jThis);if(oSettings.oSwitches[oInfo.mod]&&oSettings.oSwitches[oInfo.mod][oInfo.id]){var bOn=($.inArray(oInfo.page,oSettings.oSwitches[oInfo.mod][oInfo.id])!=-1);jThis.attr("checked",bOn).parent().parent().find(".an-settings-option").attr("disabled",!bOn)}})}if(oSettings.oOptions){jScope.find(".an-settings-option").each(function(){var jThis=$(this);var oInfo=getInfo(jThis);if(oSettings.oOptions[oInfo.name]&&oInfo.page in oSettings.oOptions[oInfo.name]){var uValue=oSettings.oOptions[oInfo.name][oInfo.page];if(oInfo.type=="checkbox"){jThis.attr("checked",uValue)}else{if(oInfo.type=="text"||oInfo.type=="select"){jThis.val(uValue)}}}})}alert("滙入成功!")};exportSettings=function(){var jScope=(bFillAll)?$("#an-settings-main-panels"):jFieldsets.filter(":visible");var oExport={oSwitches:{},oOptions:{}};jScope.find(".an-settings-switch").each(function(){var jThis=$(this);var oInfo=getInfo(jThis);var oFn=$.make("a",$.make("o",oExport.oSwitches,oInfo.mod),oInfo.id);if(jThis.is(":checked")){oFn.push(oInfo.page)}});jScope.find(".an-settings-option").each(function(){var jThis=$(this);var oInfo=getInfo(jThis);var oFn=$.make("o",oExport.oOptions,oInfo.name);if(oInfo.type=="checkbox"){oFn[oInfo.page]=jThis.is(":checked")}else{if(oInfo.type=="text"||oInfo.type=="select"){oFn[oInfo.page]=$.correct(jThis.val())}}});prompt("滙出成功!\n請複製以下代碼",JSON.stringify(oExport))};$.each({"確定":function(){if(saveOptions()){location.reload()}},"取消":AN.shared.gray,"套用":function(){saveOptions();AN.box.oSwitches=null;AN.box.oOptions=null;AN.modFn.getDB()}},function(sDesc,fControl){$($.sprintf('<li><a href="javascript:">%s</a></li>',sDesc)).click(fControl).appendTo("#an-settings-main-control-1")});$.each({"復原":function(){fillOptions(bFillAll,false)},"全選":function(){fillBoolean(true)},"全否":function(){fillBoolean(false)},"重設":function(){fillOptions(bFillAll,true)},"滙入":function(){importSettings()},"滙出":function(){exportSettings()}},function(sDesc,fControl){$($.sprintf('<li><a href="javascript:">%s</a></li>',sDesc)).click(fControl).appendTo("#an-settings-main-control-2")});$('<li id="an-settings-main-control-last"><label for="an-settings-main-control-currentonly">僅套用到本頁選項</label></li>').prepend($('<input type="checkbox" id="an-settings-main-control-currentonly" checked="checked" />').click(function(){bFillAll=!$(this).is(":checked")})).appendTo("#an-settings-main-control-2")}fillOptions(true,false);tabClick.call($("#an-settings-tabs a:first")[0]);AN.shared.gray(false,"an-settings")})}},"71c9bd88-dc3b-4a97-b04c-20052dcfcdcb":{desc:"加入評測元件",page:{65534:true},type:1,once:function(){AN.shared.addMain("評測",function(){if(!$("#an-benchmark").length){AN.util.addStyle(" 				#an-benchmark div { padding: 0.5em; } 				");AN.shared.box("an-benchmark","評測",550,500).append("<div><table><thead><tr><td>#</td><td>功能</td><td>執行時間</td></tr></thead><tbody></tbody></table></div>")}var uCount,sName,sTime;var nCount,nSum,nTotal;nCount=nSum=nTotal=0;var aBg=[AN.util.getOptions("sMainBgColor"),AN.util.getOptions("sSecBgColor")];var sHTML="";$.each(AN.box.aBenchmark,function(i){switch(this.type){case"start":uCount="N/A";sName=$.sprintf("--- %s 開始 ---",this.name);sTime="N/A";break;case"fn":uCount=++nCount;sName=this.name;sTime=(this.time||"ε")+" ms";nSum+=this.time;nTotal+=this.time;break;case"end":uCount="N/A";sName=$.sprintf("--- %s 結束 ---",this.name);sTime=nSum+" ms";break;case"final":sHTML+=$.sprintf("<tr><td>N/A</td><td>+++ 總和 +++</td><td>%s ms</td></tr>",nTotal);nTotal=0;uCount="N/A";sName="~~~ 回合結束 ~~~";sTime=this.time+" ms";break}sHTML+=$.sprintf('<tr style="background-color: %s;"><td>%s</td><td>%s</td><td>%s</td></tr>',aBg[i%2],uCount,sName,sTime);if(this.type=="end"){nSum=0}});$("#an-benchmark tbody").append(sHTML);AN.box.aBenchmark=[];AN.shared.gray(true,"an-benchmark")})}},"0868eb64-9631-42dd-8b5c-02f11a8c9a48":{desc:"加入記錄元件 [右下]",page:{65534:true},type:1,options:{bAddLogButton:{desc:"加入記錄元件開關按扭",defaultValue:false,type:"checkbox"},bAutoShowLog:{desc:"自動顯示記錄視窗",defaultValue:true,type:"checkbox"},bShowDetailLog:{desc:"顯示詳盡記錄",defaultValue:false,type:"checkbox"},sLogWidth:{desc:"元件闊度 [可設定為20em, 15%, 200px等]",defaultValue:"200px",type:"text"}},once:function(){var getMod=function(){var jMod=$("#an-log");if(jMod.length){return jMod}AN.util.addStyle($.sprintf("			#an-log { display: none; height: 30%; width: %s; bottom: 0; right: 0; } 			#an-log-header { font-weight: bold; border-bottom-width: 1px; padding-bottom: 0.2em; } 			#an-log-content li { display: none; border-bottom: 1px dotted; padding: 0.3em 0; } 			",AN.util.getOptions("sLogWidth")));return $('<div id="an-log" class="an-mod an-small"><div id="an-log-header">Log</div><ul id="an-log-content"></ul></div>').appendTo("#an-ui")};if(AN.util.getOptions("bAddLogButton")){AN.shared.addMain("記錄",function(){getMod().fadeToggle()})}AN.shared.log=function(sLog){var jLog=getMod();if($.isRubbish(sLog)){return}if(AN.util.getOptions("bAutoShowLog")){jLog.fadeIn("fast")}var dDate=new Date();var hour=dDate.getHours();if(hour<10){hour="0"+hour}var min=dDate.getMinutes();if(min<10){min="0"+min}var jLogContainer=$("#an-log-content");$($.sprintf("<li>%s:%s %s</li>",hour,min,sLog)).prependTo(jLogContainer).slideDown("slow");jLogContainer.children(":gt(50)").remove()};if(AN.util.getOptions("bShowDetailLog")){AN.shared.log2=AN.shared.log}if(AN.box.debugMode){AN.shared.debug=AN.shared.log}$.ajaxSetup({error:function(xhr,sStatus,err){AN.shared.log($.sprintf("讀取目標時發生錯誤: %s %s",xhr.status,xhr.statusText))}})}},"e9051bb8-2613-4f10-82ec-69290831c6a5":{desc:"加入按扭元件 [左上]",page:{65534:true},type:1,options:{bAddButtonsButton:{desc:"加入按扭元件開關按扭",defaultValue:false,type:"checkbox"},bAutoShowButtons:{desc:"自動顯示按扭元件",defaultValue:true,type:"checkbox"}},once:function(){var getMod=function(){var jMod=$("#an-buttons");if(jMod.length){return jMod}AN.util.addStyle($.sprintf(" 			#an-buttons { %s left: 5px; top: 30px; border-left: 5px solid; padding-left: 0.3em; } 			#an-buttons a { padding: 0.15em 0; } 			",AN.util.getOptions("bAutoShowButtons")?"":"display: none;"));return $('<div id="an-buttons" class="an-mod"><ul class="an-menu"></ul></div>').appendTo("#an-ui")};if(AN.util.getOptions("bAddButtonsButton")){AN.shared.addMain("按扭",function(){getMod().fadeToggle()})}AN.shared.addButton=function(sDesc,fHandler){var jButtons=getMod();if(!sDesc){return}jButtons.find("ul").append($('<li><a href="javascript:">'+sDesc+"</a></li>").click(fHandler))}}},"437dc7da-fdfa-429a-aec5-329c80222327":{desc:"加入連結元件 [左中]",page:{65534:true},type:1,options:{bAddLinksButton:{desc:"加入連結元件開關按扭",defaultValue:false,type:"checkbox"},bAutoShowLinks:{desc:"自動顯示連結元件",defaultValue:true,type:"checkbox"}},once:function(jDoc){var getMod=function(){var jMod=$("#an-links");if(jMod.length){return jMod}AN.util.addStyle($.sprintf(" 			#an-links { %s top: 50%; left: 0; text-align: right; } 			#an-links a { padding: 0.3em 0.1em 0.2em 1.5em; } 			#an-links-top li { border-bottom-width: 1px; } 			#an-links-middle li { border-width: 1px 0; } 			#an-links-bottom li { border-top-width: 1px; } 			",AN.util.getOptions("bAutoShowLinks")?"":"display: none;"));jMod=$('<div id="an-links" class="an-mod"><ul id="an-links-top" class="an-menu"></ul><ul id="an-links-middle" class="an-menu"></ul><ul id="an-links-bottom" class="an-menu"></ul></div>').appendTo("#an-ui");jDoc.defer(1,"調整連結元件位置",function(){jMod.css("margin-top",-jMod.height()/2)});return jMod};if(AN.util.getOptions("bAddLinksButton")){AN.shared.addMain("連結",function(){getMod().fadeToggle()})}AN.shared.addLink=function(sDec,uExtra,nPos){if(nPos===undefined){nPos=1}var jLinks=getMod();if(!sDec){return}jLinks.children().eq(nPos)[nPos==2?"append":"prepend"]((typeof uExtra=="string")?$.sprintf('<li><a href="%s">%s</a></li>',uExtra,sDec):$('<li><a href="javascript:">'+sDec+"</a></li>").click(uExtra))}}},"1c6e8869-8148-4e58-b440-31e1bee4aef1":{desc:"加入資訊元件 [左下]",page:{65534:true},type:1,options:{bAddInfoButton:{desc:"加入資訊元件開關按扭",defaultValue:false,type:"checkbox"},bAutoShowInfo:{desc:"自動顯示資訊視窗",defaultValue:true,type:"checkbox"}},once:function(jDoc){var getMod=function(){var jMod=$("#an-info");if(jMod.length){return jMod}AN.util.addStyle($.sprintf(" 			#an-info { %s; left: 10px; bottom: 10px; border-width: 0 0 1px 1px; } 			#an-info-content { padding: 1em 1em 0 0.5em !important; } 			#an-info-footer { text-align: right; font-weight: bold; } 			#an-info li { display: none; padding-bottom: 0.5em; } 			#an-info li a { display: inline; } 			",AN.util.getOptions("bAutoShowInfo")?"":"display: none"));return $('<div id="an-info" class="an-mod"><ul id="an-info-content" class="an-menu an-small"></ul><div class="an-small" id="an-info-footer">Info</div></div>').appendTo("#an-ui")};(function(){function check(){return $("#hkg_bottombar").length&&AN.util.addStyle("#an-info { bottom: 30px !important; }")&&true}!check()&&window.addEventListener?window.addEventListener("load",check,false):window.attachEvent("onload",check)})();if(AN.util.getOptions("bAddInfoButton")){AN.shared.addMain("資訊",function(){getMod().fadeToggle()})}AN.shared.addInfo=function(sInfo){getMod();if(sInfo){return $("<li>"+sInfo+"</li>").appendTo("#an-info-content").fadeIn("slow")}}}},"56ecac51-0257-4d34-897d-6331247b017d":{desc:"加入關於元件",page:{65534:"comp"},type:1,once:function(){AN.shared.addMain("關於",function(){if(!$("#an-about").length){AN.util.addStyle("				#an-about > div { margin: 0.5em; } 				#an-about h1 { margin: 0.5em; font-size: 2em; text-align: center; } 				#an-about hr { border-width: 1px; margin: 1em 0.5em; } 				#an-about div div { overflow-y: auto; overflow-x: hidden; width: 80%; height: 200px; margin: 0 auto; border-width: 1px; } 				#an-about dl { margin: 0; padding: 0 0.5em 0.5em; font-size: 0.8em; } 				#an-about dt { margin-top: 1em; } 				#an-about dd { margin: 0; line-height: 1.3; } 				#an-about p { margin: 1em 0; font-size: 0.75em; text-align: center; } 				");var jAbout=AN.shared.box("an-about","關於",500,"auto").append('<div><h1>Helianthus.annuus</h1><hr /><div><dl></dl></div><p>&copy; 2009 向日 Licenced under <a href="http://www.gnu.org/licenses/gpl.html" target="_blank">GNU General Public License v3</a></p></div>');var sHTML="";sHTML+="<dt>[程式]</dt>";$.each({"名稱":"Helianthus.annuus","作者":'<a target="_blank" href="ProfilePage.aspx?userid=148720">向日</a>',"主頁":'<a target="_blank" href="http://code.google.com/p/helianthus-annuus/">http://code.google.com/p/helianthus-annuus/</a>',"版本":AN.version,"儲存方式":$.sprintf('<select id="an-about-storage"><option>Flash</option></select>'),"除錯模式":AN.box.debugMode?"啟用":"停用"},function(sName,sValue){sHTML+=$.sprintf("<dd>%s: %s</dd>",sName,sValue)});sHTML+="<dt>[Credits]</dt>";$.each([{name:"jQuery",author:"John Resig",url:"http://jquery.com",license:"Dual licensed under the MIT or GPL Version 2 licenses",licenseUrl:"http://docs.jquery.com/License"},{name:"json2.js",author:"Douglas Crockford",url:"http://www.json.org/js.html",license:"Public Domain",licenseUrl:"#"},{name:"jquery.sprintf",author:"Sabin Iacob",url:"http://plugins.jquery.com/project/printf",license:"GPL Version 3",licenseUrl:"http://www.gnu.org/licenses/gpl.html"},{name:"jQuery doTimeout",author:"Ben Alman",url:"http://plugins.jquery.com/project/printf",license:"Dual licensed under the MIT and GPL licenses",licenseUrl:"http://benalman.com/about/license/"},{name:"Daily Items Icons",author:"Igarashi Susumu",url:"http://www.iconarchive.com/category/vintage/daily-items-icons-by-mozco.html",license:"eMailware",licenseUrl:"http://www.iconarchive.com/icons/mozco/daily-items/ReadMe.html"},{name:"Fugue Icons",author:"Yusuke Kamiyamane",url:"http://www.pinvoke.com/",license:"Creative Commons Attribution 3.0 license",licenseUrl:"http://creativecommons.org/licenses/by/3.0/"},{name:"Still Life",author:"Julian Turner ",url:"http://art.gnome.org/themes/icon/1111",license:"Creative Commons (Attribution-Share Alike 2.0 Generic)",licenseUrl:"http://creativecommons.org/licenses/by-sa/2.0/"}],function(){sHTML+=$.sprintf('<dt>%(name)s</dt><dd>by %(author)s</dd><dd><a href="%(url)s">%(url)s</a></dd><dd>License: <a href="%(licenseUrl)s">%(license)s</a></dd>',this)});jAbout.find("dl").append(sHTML);if($.support.localStorage){$("#an-about-storage").append("<option>DOM</option>")}$("#an-about-storage").val(AN.box.storageMode).change(function(){AN.util.cookie("an-storagemode",$(this).val());location.reload()})}AN.shared.gray(true,"an-about")})}},"629944a0-a4f2-493c-8c8d-e1261a9264f9":{desc:"鼠標遠離UI元件時半透明 [buggy on IE8]",page:{65534:false},type:1,options:{nUIOpacity:{desc:"透明度 (10 = 移除半透明)",type:"select",defaultValue:3,choices:[10,9,8,7,6,5,4,3,2,1,0]}},once:function(){AN.util.stackStyle($.sprintf("		.an-mod { opacity: %s; -ms-filter: alpha(opacity=%s); } 		.an-mod:hover { opacity: 1; -ms-filter: alpha(opacity=100); } 		",AN.util.getOptions("nUIOpacity")/10,AN.util.getOptions("nUIOpacity")*10))}},"0b587724-a3a7-41be-95d8-96c726d38343":{desc:"除錯模式(續)",page:{65535:"comp"},type:1,once:function(){if(!AN.box.debugMode){return}AN.shared("log");AN.shared("addLink");AN.shared("addButton","移除儲存資料",function(){if(confirm("確定移除儲存資料?")){AN.util.storage(null);location.reload()}});AN.shared("addButton","顯示儲存資料",function(){if(!$("#an-savedsettings").length){AN.shared("box","an-savedsettings","儲存資料",null,"max");AN.util.addStyle("#an-savedsettings { padding: 0 2em; } #an-savedsettings code { display: block; white-space: pre; margin: 1em 0; font-family: Consolas; }");$("#an-savedsettings").append("<code></code>")}$("#an-savedsettings code").text(AN.util.storage().replace(/{[^{]*},?/g,function(sMatch){return sMatch.replace(/,/g,",\n")}));AN.shared("gray",true,"an-savedsettings")});AN.shared("addButton","顯示功能列表",function(){if(!$("#an-functionlist").length){AN.shared("box","an-functionlist","功能列表",600,400);AN.util.addStyle("#an-functionlist textarea { margin: 10px; width: 570px; height: 370px; font-family: Consolas; }");$("#an-functionlist").append('<textarea readonly="readonly"></textarea>');var sList="";$.each(AN.mod,function(sMod){if(!this.fn){return}sList+="\r"+sMod+":\r\r";$.each(this.fn,function(){sList+=" * "+this.desc+"\r"})});$("#an-functionlist textarea").text(sList)}AN.shared("gray",true,"an-functionlist")})}}}};$.extend({time:function(nStart){return nStart?$.time()-nStart:+new Date},correct:function(sTarget){if(sTarget=="true"){return true}else{if(sTarget=="false"){return false}else{if(!isNaN(sTarget)&&sTarget!==""){return sTarget*1}else{return sTarget}}}},doc:function(sHTML){var eDiv=document.createElement("div");eDiv.innerHTML=sHTML;return $(eDiv)},getDoc:function(sURL,success){var s={url:sURL,dataType:"text",timeout:10000,success:function(sHTML){var jNewDoc=$.doc(sHTML);jNewDoc.pageCode()&65534?success.call(s,jNewDoc):s.error()},error:function(){AN.shared("log","頁面讀取失敗, 5秒後重新讀取...");setTimeout(function(){$.getDoc(sURL,success)},5000)}};$.ajax(s)},getLength:function(uTarget){if("length" in uTarget){return uTarget.length}for(var nCount in uTarget){}return nCount},make:function(sType,uTarget){$.each(arguments,function(i,sName){if(i<2){return}if(!uTarget[sName]){uTarget[sName]=(sType=="o"?{}:[])}uTarget=uTarget[sName]});return uTarget},isEmpty:function(uTarget){if("length" in uTarget){return uTarget.length}for(var i in uTarget){return false}return true},isRubbish:function(uTarget){return(uTarget===undefined||uTarget===null||uTarget===NaN)},winWidth:function(nMutiply){return Math.round($w.width()*(nMutiply||1))},winHeight:function(nMutiply){return Math.round($w.height()*(nMutiply||1))}});$.fn.extend({toFlash:function(sURL,oAttrs,oParams){if(!oAttrs){oAttrs={}}if(!oAttrs.id){oAttrs.id=this[0].id||"an-flash-"+$.time()}if(!oAttrs.width){oAttrs.width=0}if(!oAttrs.height){oAttrs.height=0}if(!oParams){oParams={}}if(!oParams.allowscriptaccess){oParams.allowscriptaccess="always"}if($.browser.msie){oAttrs.classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000";oParams.movie=sURL}else{oAttrs.data=sURL;oAttrs.type="application/x-shockwave-flash"}var sAttrs="";var sParams="";$.each(oAttrs,function(sName,sValue){sAttrs+=$.sprintf('%s="%s" ',sName,sValue)});$.each(oParams,function(sName,sValue){sParams+=$.sprintf('<param name="%s" value="%s" />',sName,sValue)});var sHTML=$.sprintf("<object %s>%s</object>",sAttrs,sParams);if($.browser.msie){this[0].outerHTML=sHTML}else{this.replaceWith(sHTML)}return $("#"+oAttrs.id)},fn:function(fToExec){if(this.length){fToExec.call(this)}return this},outer:function(){if(!this[0]){return null}return this[0].outerHTML?this[0].outerHTML:$("<div></div>").append(this.eq(0).clone()).html()},aO:function(){alert(this.outer());return this},aL:function(){alert(this.length);return this},fadeToggle:function(sSpeed){if(!sSpeed){sSpeed="normal"}return this.is(":hidden")?this.fadeIn(sSpeed):this.fadeOut(sSpeed)},up:function(sSelector,nTh){if(!nTh){nTh=1}return this.map(function(){var nCount=0;var eCur=this;while(eCur&&eCur.ownerDocument){eCur=eCur.parentNode;if($(eCur).is(sSelector)&&++nCount>=nTh){return eCur}}})},own:function(target){return this.is(target)||!!this.has(target).length},top:function(){return this.offset().top},right:function(){return this.offset().left+this.innerWidth()},bottom:function(){return this.offset().top+this.innerHeight()},left:function(){return this.offset().left},pageName:function(){if(this.sPageName){return this.sPageName}return this.sPageName=$("#ctl00_ContentPlaceHolder1_SystemMessageBoard",this).length&&"message"||$("#aspnetForm",this).length&&$("#aspnetForm",this).attr("action").match(/[a-z]+(?=\.aspx)/i)[0].toLowerCase()||$("body > :first",this).is("b")&&"terms"||"error"},pageCode:function(){if("nPageCode" in this){return this.nPageCode}var sPageName=this.pageName();var nPageCode;$.each(AN.box.oPageMap,function(sPage){if(this.action==sPageName){nPageCode=sPage*1;return false}});if(!nPageCode){nPageCode=0}return(this.nPageCode=nPageCode)},pageScope:function(){var jScope=this.closest("div");return jScope.length?jScope:this},pageNo:function(){return this.pageScope().find("select[name=page]:first").val()*1},replies:function(sSelector){if(this.jReplies){return this.jReplies}var jReplies=this.jReplies=this.find(".repliers");jReplies.extend({jContents:$(),jNameLinks:$()});jReplies.each(function(){var jThis=$(this),jTr=jThis.find(".repliers_left").parent();jThis.data("jContent",jTr.find(".repliers_right td:first")).data("jNameLink",jTr.find("a:first")).data("sUserid",jTr.attr("userid")).data("sUserName",jTr.attr("username"));jReplies.jContents.push(jThis.data("jContent")[0]);jReplies.jNameLinks.push(jThis.data("jNameLink")[0])});return sSelector?jReplies.filter(sSelector):jReplies},treeTop:function(){return(this[0]===document||$(document.documentElement).own(this))?$d:this},topicTable:function(){if(this.jTopicTable){return this.jTopicTable}var jThis=this;this.treeTop().find("td,th").filter(function(){return $(this).children().length===0}).each(function(){if(/\s*最後回應時間/.test($(this).html())){jThis.jTopicTable=$(this).up("table");return false}});return this.jTopicTable},topics:function(sSelector){if(this.jTopics){return this.jTopics}var jTopics=this.jTopics=this.topicTable().find("tr").filter(function(){return !!$(this).children().children("a").length});jTopics.extend({jNameLinks:$([]),jTitleCells:$([]),jTbody:this.topicTable().children()}).each(function(){var jThis=$(this),jLinks=jThis.find("a");jThis.data("jNameLink",jLinks.filter(":last")).data("jTitleCell",jLinks.eq(0).parent()).data("sTitle",jLinks.eq(0).html()).data("sTopicid",jLinks.eq(0).attr("href").replace(/.+?id=(\d+).*/,"$1")).data("sUserName",jLinks.filter(":last").html());jTopics.jNameLinks.push(jThis.data("jNameLink")[0]);jTopics.jTitleCells.push(jThis.data("jTitleCell")[0])});return sSelector?jTopics.filter(sSelector):jTopics},defer:function(nPos,uArg,fHandler){var oArg=(typeof uArg=="string")?{sDesc:uArg,aHandler:[fHandler]}:uArg;$.make("a",this,"aDefer",nPos).push(oArg);return this}});$.extend(AN,{shared:function(sFnName){if(AN.shared[sFnName]){return AN.shared[sFnName].apply(null,Array.prototype.slice.call(arguments,1))}},box:{aBenchmark:[],oTypeMap:{1:"核心設定",2:"樣式設定",3:"佈局設定",4:"修正修改",5:"加入物件",6:"其他功能",7:"AJAX化",8:"元件重造",9:"組合按扭"},oPageMap:{65535:{action:null,desc:"所有頁"},65534:{action:null,desc:"所有正常頁"},1:{action:"error",desc:"所有錯誤頁"},2:{action:"default",desc:"主論壇頁"},4:{action:"topics",desc:"標題頁"},8:{action:"search",desc:"搜尋頁"},16:{action:"tags",desc:"標籤搜尋頁"},32:{action:"view",desc:"帖子頁"},64:{action:"profilepage",desc:"用戶資料頁"},128:{action:"sendpm",desc:"私人訊息發送頁"},256:{action:"post",desc:"發佈/回覆頁"},512:{action:"login",desc:"登入頁"},1024:{action:"giftpage",desc:"人氣頁"},2048:{action:"blog",desc:"網誌頁"},4096:{action:"message",desc:"系統信息頁"}}},util:{addFnType:function(uType,sDec){AN.box.oTypeMap[uType]=sDec},stackStyle:function(sStyle){if(AN.util.stackStyle.sStyle===undefined){AN.util.stackStyle.sStyle="";$d.bind("defer5",function(){AN.util.addStyle(AN.util.stackStyle.sStyle);AN.util.stackStyle.sStyle=""})}AN.util.stackStyle.sStyle+=sStyle},addStyle:function(sStyle){if(!this.jStyle){this.jStyle=$('<style id="an-style" type="text/css"></style>').appendTo("head")}if(AN.box.debugMode){sStyle=sStyle.replace(/(^|}|\*\/)\s+/g,"$1\n")}this.jStyle[0].styleSheet?this.jStyle[0].styleSheet.cssText+=sStyle:this.jStyle.append(sStyle)},changeForum:function(nForum){location.replace(location.href.replace(/forum\d+/,"forum"+nForum))},cookie:function(sName,sValue){if(sValue===undefined){var match=document.cookie.match(new RegExp("(?:^|;\\s*)"+sName+"=([^;]*?)","g"));return match&&match[1]}else{var dExpire=new Date;dExpire.setFullYear(sValue?2999:1999);document.cookie=$.sprintf("%s=%s; domain=%s; expires=%s; path=/",sName,sValue||"",location.hostname,dExpire.toUTCString());return true}},storage:function(sName,uToSet){var storage=arguments.callee.storage||(arguments.callee.storage=AN.box.storageMode=="Flash"&&{get:function(sProfile,sName){return AN.box.eLSO.get(sProfile,sName)},set:function(sProfile,sName,sData){AN.box.eLSO.set(sProfile,sName,sData.replace(/\\/g,"\\\\"))},remove:function(sProfile,sName){AN.box.eLSO.remove(sProfile,sName)}}||AN.box.storageMode=="DOM"&&(function(){var LS=window.localStorage||window.globalStorage[location.hostname];return{get:function(sProfile,sName){var r=LS[sProfile+"___"+sName];return r&&r.value||r},set:function(sProfile,sName,sData){LS[sProfile+"___"+sName]=sData},remove:function(sProfile,sName){LS.removeItem(sProfile+"___"+sName)}}})());var sProfile="default";var sData="";if(sName===undefined){$.each(["an_data","an_switches","an_options"],function(){var uCookie=storage.get(sProfile,this+"");if(uCookie){sData+=uCookie+"\n\n"}});return sData}else{if(sName===null){$.each(["an_data","an_switches","an_options"],function(){storage.remove(sProfile,this+"");storage.remove(sProfile,this+"_backup")})}else{if(uToSet===undefined){sData=storage.get(sProfile,sName);if(sData){sData=JSON.parse(sData)}return sData||null}else{if(uToSet){sData=JSON.stringify(uToSet);storage.set(sProfile,sName,sData)}else{storage.remove(sProfile,sName)}}}}return true},data:function(sName,uValue){var oData=AN.util.storage("an_data")||{};if(uValue===undefined){if(oData[sName]!==undefined){return oData[sName]}return null}else{uValue===null?delete oData[sName]:oData[sName]=uValue;return AN.util.storage("an_data",oData)}},getData:function(sFile,fToExec){var oExternal=$.make("o",AN.box,"external");if(oExternal[sFile]){fToExec(oExternal[sFile])}else{$.getScript($.sprintf("http://helianthus-annuus.googlecode.com/svn/other/an.v3.%s.js",sFile),function(){fToExec(oExternal[sFile])})}},getOpenerInfo:function(jDoc,fToExec){var oInfo=arguments.callee.oInfo;if(oInfo){if(oInfo.sId){fToExec(oInfo)}else{return setTimeout(function(){AN.util.getOpenerInfo(jDoc,fToExec)},100)}}else{oInfo=arguments.callee.oInfo={};if(jDoc.pageNo()==1){var jOpener=jDoc.replies(":first");fToExec(oInfo={sId:jOpener.data("sUserid"),sName:jOpener.data("sUserName")})}else{$.get("/view.aspx?message="+window.messageid,function(sHTML){var jTr=$.doc(sHTML).find(".repliers_left:first").parent();oInfo={sId:jTr.attr("userid"),sName:jTr.attr("username")};fToExec(oInfo)})}}},getOpacityStr:function(nOpacity){return $.support.opacity?$.sprintf("opacity: %s",nOpacity/10):$.sprintf("filter: alpha(opacity=%s)",nOpacity*10)},getOptions:function(sOptionName){var oOptions=$.make("o",arguments.callee,"oOptions");if($.isEmpty(oOptions)){$.each(AN.box.oOptions,function(sName){$.each(this,function(sPage,uValue){if($d.pageCode()&sPage){oOptions[sName]=uValue;return false}})})}return sOptionName?oOptions[sOptionName]:oOptions},getForumNo:function(){return location.hostname.replace(/forum(\d+).+/,"$1")*1},getPageNo:function(sURL){var sExtract=sURL.replace(/.+?page=(\d+).*/i,"$1");return isNaN(sExtract)?1:sExtract*1},getURL:function(oParam){var oSearch={};var aParam=location.search.substr(1).split("&");$.each(aParam,function(){var aPair=this.split("=");if(aPair[1]){oSearch[aPair[0]]=aPair[1]}});$.extend(oSearch,oParam);return"?"+$.param(oSearch)},isLoggedIn:function(){var bIsLoggedIn=arguments.callee.bIsLoggedIn;return(bIsLoggedIn!==undefined)?bIsLoggedIn:(arguments.callee.bIsLoggedIn=($("#ctl00_ContentPlaceHolder1_lb_UserName a:first").attr("href").indexOf("login.aspx")==-1))}},modFn:{getDB:function(bGetDefault){var oDB=(!AN.box.oSwitches)?AN.box:{};$.extend(oDB,(bGetDefault?{oSwitches:{},oOptions:{}}:{oSwitches:AN.util.storage("an_switches")||{},oOptions:AN.util.storage("an_options")||{}}));$.each(AN.mod,function(sMod){if(!AN.mod[sMod].fn){return}$.make("o",oDB.oSwitches,sMod);$.each(AN.mod[sMod].fn,function(sId,oFn){if(!oDB.oSwitches[sMod][sId]){$.make("a",oDB.oSwitches[sMod],sId);$.each(oFn.page,function(sPage,uDefault){if(uDefault===true||uDefault=="comp"){oDB.oSwitches[sMod][sId].push(sPage*1)}})}if(!oFn.options){return}$.each(oFn.options,function(sName,oOption){$.make("o",oDB.oOptions,sName);$.each(oFn.page,function(sPage){if(oDB.oOptions[sName][sPage]===undefined){oDB.oOptions[sName][sPage]=oOption.defaultValue}})})})});return oDB},execMods:function(jDoc){var nBegin=$.time();var execMod=function(sMod){if(!(AN.mod[sMod]&&AN.mod[sMod].fn)){return}AN.box.aBenchmark.push({type:"start",name:sMod});$.each(AN.mod[sMod].fn,function(sId,oFn){$.each(AN.box.oSwitches[sMod][sId],function(){if(oFn.page[this]!="disabled"&&this in oFn.page&&$d.pageCode()&this){var aHandler=[];if(!AN.firstRan&&oFn.once){aHandler.push(oFn.once)}if(oFn.infinite){aHandler.push(oFn.infinite)}if(aHandler.length){var oArg={sDesc:oFn.desc,aHandler:aHandler,oFn:oFn};oFn.defer?jDoc.defer(oFn.defer,oArg):execFn(oArg)}return false}})});AN.box.aBenchmark.push({type:"end",name:sMod})};var execFn=function(oArg){try{var nStart=$.time();$.each(oArg.aHandler,function(){this.call(oArg.oFn,jDoc,oArg.oFn)});AN.box.aBenchmark.push({type:"fn",name:oArg.sDesc,time:$.time(nStart)})}catch(err){if(AN.shared.log){AN.shared.log("請通知作者有關此錯誤");if(err.message){AN.shared.log("錯誤訊息: "+err.message)}if(err.type){AN.shared.log("錯誤類型: "+err.type)}if(err.lineNumber){AN.shared.log("錯誤行號: "+err.lineNumber)}AN.shared.log("出現地址: "+location.href);AN.shared.log($.sprintf("發生錯誤: %s",oArg.sDesc))}else{if(AN.box.debugMode){alert($.sprintf("ERROR ON EXECUATION: %s\r\n%s",oArg.sDesc,err.message))}}}};if(!jDoc){jDoc=$(document.body)}execMod("Kernel");execMod("User Interface");$.each(AN.mod,function(sMod){if(sMod!="Kernel"&&sMod!="User Interface"){execMod(sMod)}});setTimeout(function(){AN.box.aBenchmark.push({type:"start",name:"延期執行項目"});for(var i=1;i<=5;i++){$d.trigger("defer"+i);if(jDoc.aDefer&&jDoc.aDefer[i]){$.each(jDoc.aDefer[i],function(){execFn(this)})}}jDoc.aDefer=null;AN.box.aBenchmark.push({type:"end",name:"延期執行項目"});AN.firstRan=true;AN.shared("log2","所有功能執行完成");AN.box.aBenchmark.push({type:"final",time:$.time(nBegin)})},0)}}});if(JSON.stringify(document.createElement("input").value)!==""){(function(_stringify){JSON.stringify=function(o,f,s){return _stringify(o===""?"":o,f,s)}})(JSON.stringify)}$.event.special.click={add:function(handler){return function(event){if(event.type==="click"&&event.button!==undefined&&event.button!==0){return}handler.apply(this,arguments)}}};$.support.localStorage=!!(window.localStorage||window.globalStorage||false);$(function(){$('<div id="an"><div id="an-lso"></div></div>').appendTo("body");function exec(sStorageType){AN.box.storageMode=sStorageType;AN.modFn.getDB();AN.modFn.execMods()}if($.support.localStorage&&AN.util.cookie("an-storagemode")=="DOM"){exec("DOM")}else{var sURL="http://helianthus-annuus.googlecode.com/svn/other/lso.swf";if($.browser.msie){sURL+="?"+$.time()}AN.box.eLSO=$("#an-lso").toFlash(sURL)[0];(function(){AN.box.eLSO.get&&AN.box.eLSO.set("default","an_test_for_safari",":o)")&&AN.box.eLSO.get("default","an_test_for_safari")?exec("Flash"):setTimeout(arguments.callee,50)})()}})})();