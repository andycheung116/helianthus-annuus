/*
	Copyright (C) 2008  向日

	This program is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	This program is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/

// ==UserScript==
// @name Helianthus.annuus
// @namespace http://code.google.com/p/helianthus-annuus/
// @description by 向日
// @version 3.5.5.878
// @build-time 2009-12-07 19:47:28
// @include http://forum*.hkgolden.com/*
// @run-at document-start
// ==/UserScript==

(function(){var window,self,content=self=window=typeof unsafeWindow!="undefined"?unsafeWindow:this;var parent=window.parent;var top=window.top;var document=window.document;var navigator=window.navigator;var console=window.console;var JSON=window.JSON||{};var jQuery,$;var AN=window.AN={mod:{},version:"3.5.5.878"};if(document.body&&document.body.firstChild.className=="webkit-line-gutter-backdrop"){return}document.domain="hkgolden.com";if(window.opera&&window.opera.version&&window.opera.version()<10&&arguments.length==0){return(function(callee){window.opera.addEventListener("AfterScript",function(){window.opera.removeEventListener("AfterScript",arguments.callee,false);callee.call(window,null)},false)})(arguments.callee)}if(window.opera&&window.opera.addEventListener){var blockScripts=function(event){if(event.element.src?/pagead|imrworldwide/.test(event.element.src):/pixelinteractivemedia|imrworldwide|google-analytics|_getTracker|\(ads|InlineAd|PageAd|GoogleAd|google_ad/.test(event.element.text)){event.preventDefault()}};window.opera.addEventListener("BeforeScript",blockScripts,false);window.addEventListener("DOMContentLoaded",function(){window.opera.removeEventListener("BeforeScript",blockScripts,false)},false);
/*
 * jQuery JavaScript Library v1.4a1
 * http://jquery.com/
 *
 * Copyright (c) 2009 John Resig
 * Dual licensed under the MIT and GPL licenses.
 * http://docs.jquery.com/License
 *
 * Date: Fri Dec 4 12:51:47 2009 -0500
 */
}(function(window,undefined){var jQuery=function(selector,context){return arguments.length===0?rootjQuery:new jQuery.fn.init(selector,context)},_jQuery=window.jQuery,_$=window.$,document=window.document,rootjQuery,quickExpr=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,isSimple=/^.[^:#\[\.,]*$/,rnotwhite=/\S/,rtrim=/(\s|\u00A0)+|(\s|\u00A0)+$/g,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,userAgent=navigator.userAgent.toLowerCase(),toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,push=Array.prototype.push,slice=Array.prototype.slice,indexOf=Array.prototype.indexOf;jQuery.fn=jQuery.prototype={init:function(selector,context){var match,elem,ret,doc;if(!selector){return this}if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}if(typeof selector==="string"){match=quickExpr.exec(selector);if(match&&(match[1]||!context)){if(match[1]){doc=(context?context.ownerDocument||context:document);ret=rsingleTag.exec(selector);if(ret){selector=[doc.createElement(ret[1])]}else{ret=buildFragment([match[1]],[doc]);selector=(ret.cacheable?ret.fragment.cloneNode(true):ret.fragment).childNodes}}else{elem=document.getElementById(match[2]);if(elem){if(elem.id!==match[2]){return rootjQuery.find(selector)}this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else{if(!context&&/^\w+$/.test(selector)){this.selector=selector;this.context=document;selector=document.getElementsByTagName(selector)}else{if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return jQuery(context).find(selector)}}}}else{if(jQuery.isFunction(selector)){return rootjQuery.ready(selector)}}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.isArray(selector)?this.setArray(selector):jQuery.makeArray(selector,this)},selector:"",jquery:"1.4a1",length:0,size:function(){return this.length},toArray:function(){return slice.call(this,0)},get:function(num){return num==null?this.toArray():(num<0?this.slice(num)[0]:this[num])},pushStack:function(elems,name,selector){var ret=jQuery(elems||null);ret.prevObject=this;ret.context=this.context;if(name==="find"){ret.selector=this.selector+(this.selector?" ":"")+selector}else{if(name){ret.selector=this.selector+"."+name+"("+selector+")"}}return ret},setArray:function(elems){this.length=0;push.apply(this,elems);return this},each:function(callback,args){return jQuery.each(this,callback,args)},index:function(elem){if(!elem||typeof elem==="string"){return jQuery.inArray(this[0],elem?jQuery(elem):this.parent().children())}return jQuery.inArray(elem.jquery?elem[0]:elem,this)},is:function(selector){return !!selector&&jQuery.filter(selector,this).length>0},push:push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var target=arguments[0]||{},i=1,length=arguments.length,deep=false,options,name,src,copy;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(length===i){target=this;--i}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&jQuery.isObjectLiteral(copy)){var clone=src&&jQuery.isObjectLiteral(src)?src:{};target[name]=jQuery.extend(deep,clone,copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target};jQuery.extend({noConflict:function(deep){window.$=_$;if(deep){window.jQuery=_jQuery}return jQuery},isFunction:function(obj){return toString.call(obj)==="[object Function]"},isArray:function(obj){return toString.call(obj)==="[object Array]"},isObjectLiteral:function(obj){if(toString.call(obj)!=="[object Object]"||typeof obj.nodeType==="number"){return false}if(obj.constructor&&!hasOwnProperty.call(obj,"constructor")&&!hasOwnProperty.call(obj.constructor.prototype,"isPrototypeOf")){return false}var key;for(key in obj){}return key===undefined||hasOwnProperty.call(obj,key)},isEmptyObject:function(obj){for(var name in obj){return false}return true},isXMLDoc:function(elem){var documentElement=(elem?elem.ownerDocument||elem:0).documentElement;return documentElement?documentElement.nodeName!=="HTML":false},globalEval:function(data){if(data&&rnotwhite.test(data)){var head=document.getElementsByTagName("head")[0]||document.documentElement,script=document.createElement("script");script.type="text/javascript";if(jQuery.support.scriptEval){script.appendChild(document.createTextNode(data))}else{script.text=data}head.insertBefore(script,head.firstChild);head.removeChild(script)}},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase()},each:function(object,callback,args){var name,i=0,length=object.length,isObj=length===undefined||jQuery.isFunction(object);if(args){if(isObj){for(name in object){if(callback.apply(object[name],args)===false){break}}}else{for(;i<length;){if(callback.apply(object[i++],args)===false){break}}}}else{if(isObj){for(name in object){if(callback.call(object[name],name,object[name])===false){break}}}else{for(var value=object[0];i<length&&callback.call(value,i,value)!==false;value=object[++i]){}}}return object},trim:function(text){return(text||"").replace(rtrim,"")},makeArray:function(array,results){var ret=results||[];if(array!=null){if(array.length==null||typeof array==="string"||jQuery.isFunction(array)||array.setInterval){push.call(ret,array)}else{jQuery.merge(ret,array)}}return ret},inArray:function(elem,array){if(array.indexOf){return array.indexOf(elem)}for(var i=0,length=array.length;i<length;i++){if(array[i]===elem){return i}}return -1},merge:function(first,second){var pos,i=second.length;if(i&&i.nodeType){for(i=0;second[i];++i){}}pos=i+first.length;first.length=pos;while(i){first[--pos]=second[--i]}return first},grep:function(elems,callback,inv){var ret=[];for(var i=0,length=elems.length;i<length;i++){if(!inv!==!callback(elems[i],i)){ret.push(elems[i])}}return ret},map:function(elems,callback,arg){var ret=[],value;for(var i=0,length=elems.length;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value}}return ret.concat.apply([],ret)},browser:{version:(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/.exec(userAgent)||[0,"0"])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)}});if(indexOf){jQuery.inArray=function(elem,array){return indexOf.call(array,elem)}}rootjQuery=jQuery(document);function evalScript(i,elem){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:"script"})}else{jQuery.globalEval(elem.text||elem.textContent||elem.innerHTML||"")}if(elem.parentNode){elem.parentNode.removeChild(elem)}}function access(elems,key,value,exec,fn){var l=elems.length;if(typeof key==="object"){for(var k in key){access(elems,k,key[k],exec,fn)}return elems}if(value!==undefined){exec=exec&&jQuery.isFunction(value);for(var i=0;i<l;i++){var elem=elems[i],val=exec?value.call(elem,i):value;fn(elem,key,val)}return elems}return l?fn(elems[0],key):null}function now(){return(new Date).getTime()}var expando="jQuery"+now(),uuid=0,windowData={};var emptyObject={};jQuery.extend({cache:{},expando:expando,data:function(elem,name,data){elem=elem==window?windowData:elem;var id=elem[expando],cache=jQuery.cache,thisCache;if(!name&&!id){return null}if(!id){id=++uuid}if(cache[id]){thisCache=cache[id]}else{if(typeof data==="undefined"){thisCache=emptyObject}else{thisCache=cache[id]={}}}if(data!==undefined){elem[expando]=id;thisCache[name]=data}return name?thisCache[name]:thisCache},removeData:function(elem,name){elem=elem==window?windowData:elem;var id=elem[expando],cache=jQuery.cache,thisCache=cache[id];if(name){if(thisCache){delete thisCache[name];if(jQuery.isEmptyObject(thisCache)){jQuery.removeData(elem)}}}else{try{delete elem[expando]}catch(e){if(elem.removeAttribute){elem.removeAttribute(expando)}}delete cache[id]}},queue:function(elem,type,data){if(!elem){return}type=(type||"fx")+"queue";var q=jQuery.data(elem,type);if(!data){return q||[]}if(!q||jQuery.isArray(data)){q=jQuery.data(elem,type,jQuery.makeArray(data))}else{q.push(data)}return q},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),fn=queue.shift();if(fn==="inprogress"){fn=queue.shift()}if(fn){if(type=="fx"){queue.unshift("inprogress")}fn.call(elem,function(){jQuery.dequeue(elem,type)})}}});jQuery.fn.extend({data:function(key,value){if(typeof key==="undefined"&&this.length){return jQuery.data(this[0])}var parts=key.split(".");parts[1]=parts[1]?"."+parts[1]:"";if(value===undefined){var data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]);if(data===undefined&&this.length){data=jQuery.data(this[0],key)}return data===undefined&&parts[1]?this.data(parts[0]):data}else{return this.trigger("setData"+parts[1]+"!",[parts[0],value]).each(function(){jQuery.data(this,key,value)})}},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})},queue:function(type,data){if(typeof type!=="string"){data=type;type="fx"}if(data===undefined){return jQuery.queue(this[0],type)}return this.each(function(i,elem){var queue=jQuery.queue(this,type,data);if(type=="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(){var elem=this;setTimeout(function(){jQuery.dequeue(elem,type)},time)})},clearQueue:function(type){return this.queue(type||"fx",[])}});jQuery.event={add:function(elem,types,handler,data){if(elem.nodeType===3||elem.nodeType===8){return}if(elem.setInterval&&(elem!==window&&!elem.frameElement)){elem=window}if(!handler.guid){handler.guid=this.guid++}if(data!==undefined){var fn=handler;handler=this.proxy(fn);handler.data=data}var events=jQuery.data(elem,"events")||jQuery.data(elem,"events",{}),handle=jQuery.data(elem,"handle")||jQuery.data(elem,"handle",function(){return typeof jQuery!=="undefined"&&!jQuery.event.triggered?jQuery.event.handle.apply(arguments.callee.elem,arguments):undefined});handle.elem=elem;types=types.split(/\s+/);var type,i=0;while((type=types[i++])){var namespaces=type.split(".");type=namespaces.shift();handler.type=namespaces.slice(0).sort().join(".");var handlers=events[type],special=this.special[type]||{};if(!handlers){handlers=events[type]={};if(!special.setup||special.setup.call(elem,data,namespaces,handler)===false){if(elem.addEventListener){elem.addEventListener(type,handle,false)}else{if(elem.attachEvent){elem.attachEvent("on"+type,handle)}}}}if(special.add){var modifiedHandler=special.add.call(elem,handler,data,namespaces,handlers);if(modifiedHandler&&jQuery.isFunction(modifiedHandler)){modifiedHandler.guid=modifiedHandler.guid||handler.guid;handler=modifiedHandler}}handlers[handler.guid]=handler;this.global[type]=true}elem=null},guid:1,global:{},remove:function(elem,types,handler){if(elem.nodeType===3||elem.nodeType===8){return}var events=jQuery.data(elem,"events"),ret,type,fn;if(events){if(types===undefined||(typeof types==="string"&&types.charAt(0)===".")){for(type in events){this.remove(elem,type+(types||""))}}else{if(types.type){handler=types.handler;types=types.type}types=types.split(/\s+/);var i=0;while((type=types[i++])){var namespaces=type.split(".");type=namespaces.shift();var all=!namespaces.length,cleaned=jQuery.map(namespaces.slice(0).sort(),function(nm){return nm.replace(/[^\w\s\.\|`]/g,function(ch){return"\\"+ch})}),namespace=new RegExp("(^|\\.)"+cleaned.join("\\.(?:.*\\.)?")+"(\\.|$)"),special=this.special[type]||{};if(events[type]){if(handler){fn=events[type][handler.guid];delete events[type][handler.guid]}else{for(var handle in events[type]){if(all||namespace.test(events[type][handle].type)){delete events[type][handle]}}}if(special.remove){special.remove.call(elem,namespaces,fn)}for(ret in events[type]){break}if(!ret){if(!special.teardown||special.teardown.call(elem,namespaces)===false){if(elem.removeEventListener){elem.removeEventListener(type,jQuery.data(elem,"handle"),false)}else{if(elem.detachEvent){elem.detachEvent("on"+type,jQuery.data(elem,"handle"))}}}ret=null;delete events[type]}}}}for(ret in events){break}if(!ret){var handle=jQuery.data(elem,"handle");if(handle){handle.elem=null}jQuery.removeData(elem,"events");jQuery.removeData(elem,"handle")}}},trigger:function(event,data,elem){var type=event.type||event,bubbling=arguments[3];if(!bubbling){event=typeof event==="object"?event[expando]?event:jQuery.extend(jQuery.Event(type),event):jQuery.Event(type);if(type.indexOf("!")>=0){event.type=type=type.slice(0,-1);event.exclusive=true}if(!elem){event.stopPropagation();if(this.global[type]){jQuery.each(jQuery.cache,function(){if(this.events&&this.events[type]){jQuery.event.trigger(event,data,this.handle.elem)}})}}if(!elem||elem.nodeType===3||elem.nodeType===8){return undefined}event.result=undefined;event.target=elem;data=jQuery.makeArray(data);data.unshift(event)}event.currentTarget=elem;var handle=jQuery.data(elem,"handle");if(handle){handle.apply(elem,data)}var nativeFn,nativeHandler;try{nativeFn=elem[type];nativeHandler=elem["on"+type]}catch(e){}if((!nativeFn||(jQuery.nodeName(elem,"a")&&type==="click"))&&nativeHandler&&nativeHandler.apply(elem,data)===false){event.result=false}if(!bubbling&&nativeFn&&!event.isDefaultPrevented()&&!(jQuery.nodeName(elem,"a")&&type==="click")){this.triggered=true;try{nativeFn()}catch(e){}}this.triggered=false;if(!event.isPropagationStopped()){var parent=elem.parentNode||elem.ownerDocument;if(parent){jQuery.event.trigger(event,data,parent,true)}}},handle:function(event){var all,handlers;event=arguments[0]=jQuery.event.fix(event||window.event);event.currentTarget=this;var namespaces=event.type.split(".");event.type=namespaces.shift();all=!namespaces.length&&!event.exclusive;var namespace=new RegExp("(^|\\.)"+namespaces.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)");handlers=(jQuery.data(this,"events")||{})[event.type];for(var j in handlers){var handler=handlers[j];if(all||namespace.test(handler.type)){event.handler=handler;event.data=handler.data;var ret=handler.apply(this,arguments);if(ret!==undefined){event.result=ret;if(ret===false){event.preventDefault();event.stopPropagation()}}if(event.isImmediatePropagationStopped()){break}}}},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(event){if(event[expando]){return event}var originalEvent=event;event=jQuery.Event(originalEvent);for(var i=this.props.length,prop;i;){prop=this.props[--i];event[prop]=originalEvent[prop]}if(!event.target){event.target=event.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement}if(event.pageX==null&&event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.which&&((event.charCode||event.charCode===0)?event.charCode:event.keyCode)){event.which=event.charCode||event.keyCode}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey}if(!event.which&&event.button!==undefined){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)))}return event},proxy:function(fn,proxy,thisObject){if(proxy!==undefined&&!jQuery.isFunction(proxy)){thisObject=proxy;proxy=undefined}proxy=proxy||function(){return fn.apply(thisObject!==undefined?thisObject:this,arguments)};proxy.guid=fn.guid=fn.guid||proxy.guid||this.guid++;return proxy},special:{ready:{setup:bindReady,teardown:function(){}},live:{add:function(proxy,data,namespaces,live){jQuery.extend(proxy,data||{});proxy.guid+=data.selector+data.live;jQuery.event.add(this,data.live,liveHandler,data)},remove:function(namespaces){if(namespaces.length){var remove=0,name=new RegExp("(^|\\.)"+namespaces[0]+"(\\.|$)");jQuery.each((jQuery.data(this,"events").live||{}),function(){if(name.test(this.type)){remove++}});if(remove<1){jQuery.event.remove(this,namespaces[0],liveHandler)}}},special:{}}}};jQuery.Event=function(src){if(!this.preventDefault){return new jQuery.Event(src)}if(src&&src.type){this.originalEvent=src;this.type=src.type}else{this.type=src}this.timeStamp=now();this[expando]=true};function returnFalse(){return false}function returnTrue(){return true}jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return}if(e.preventDefault){e.preventDefault()}e.returnValue=false},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};var withinElement=function(event){var parent=event.relatedTarget;while(parent&&parent!=this){try{parent=parent.parentNode}catch(e){break}}if(parent!=this){event.type=event.data;jQuery.event.handle.apply(this,arguments)}},delegate=function(event){event.type=event.data;jQuery.event.handle.apply(this,arguments)};jQuery.each({mouseover:"mouseenter",mouseout:"mouseleave"},function(orig,fix){jQuery.event.special[fix]={setup:function(data){jQuery.event.add(this,orig,data&&data.selector?delegate:withinElement,fix)},teardown:function(data){jQuery.event.remove(this,orig,data&&data.selector?delegate:withinElement)}}});jQuery.event.special.submit={setup:function(data,namespaces,fn){if(!jQuery.support.submitBubbles&&this.nodeName.toLowerCase()!=="form"){jQuery.event.add(this,"click.specialSubmit."+fn.guid,function(e){var elem=e.target,type=elem.type;if((type==="submit"||type==="image")&&jQuery(elem).closest("form").length){return trigger("submit",this,arguments)}});jQuery.event.add(this,"keypress.specialSubmit."+fn.guid,function(e){var elem=e.target,type=elem.type;if((type==="text"||type==="password")&&jQuery(elem).closest("form").length&&e.keyCode===13){return trigger("submit",this,arguments)}})}return false},remove:function(namespaces,fn){jQuery.event.remove(this,"click.specialSubmit"+(fn?"."+fn.guid:""));jQuery.event.remove(this,"keypress.specialSubmit"+(fn?"."+fn.guid:""))}};jQuery.event.special.change={filters:{click:function(e){var elem=e.target;if(elem.nodeName.toLowerCase()==="input"&&elem.type==="checkbox"){return trigger("change",this,arguments)}return changeFilters.keyup.call(this,e)},keyup:function(e){var elem=e.target,data,index=elem.selectedIndex+"";if(elem.nodeName.toLowerCase()==="select"){data=jQuery.data(elem,"_change_data");jQuery.data(elem,"_change_data",index);if((elem.type==="select-multiple"||data!=null)&&data!==index){return trigger("change",this,arguments)}}},beforeactivate:function(e){var elem=e.target;if(elem.nodeName.toLowerCase()==="input"&&elem.type==="radio"&&!elem.checked){return trigger("change",this,arguments)}},blur:function(e){var elem=e.target,nodeName=elem.nodeName.toLowerCase();if((nodeName==="textarea"||(nodeName==="input"&&(elem.type==="text"||elem.type==="password")))&&jQuery.data(elem,"_change_data")!==elem.value){return trigger("change",this,arguments)}},focus:function(e){var elem=e.target,nodeName=elem.nodeName.toLowerCase();if(nodeName==="textarea"||(nodeName==="input"&&(elem.type==="text"||elem.type==="password"))){jQuery.data(elem,"_change_data",elem.value)}}},setup:function(data,namespaces,fn){if(!jQuery.support.changeBubbles){for(var type in changeFilters){jQuery.event.add(this,type+".specialChange."+fn.guid,changeFilters[type])}}return false},remove:function(namespaces,fn){if(!jQuery.support.changeBubbles){for(var type in changeFilters){jQuery.event.remove(this,type+".specialChange"+(fn?"."+fn.guid:""),changeFilters[type])}}}};var changeFilters=jQuery.event.special.change.filters;function trigger(type,elem,args){args[0].type=type;return jQuery.event.handle.apply(elem,args)}jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var event=jQuery.event,handle=event.handle;function ieHandler(){arguments[0].type=orig;return handle.apply(this,arguments)}event.special[orig]={setup:function(){if(this.addEventListener){this.addEventListener(orig,handle,true)}else{event.add(this,fix,ieHandler)}},teardown:function(){if(this.removeEventListener){this.removeEventListener(orig,handle,true)}else{event.remove(this,fix,ieHandler)}}}});jQuery.fn.extend({bind:function(type,data,fn,thisObject){if(typeof type==="object"){for(var key in type){this.bind(key,data,type[key],fn)}return this}if(jQuery.isFunction(data)){thisObject=fn;fn=data;data=undefined}fn=thisObject===undefined?fn:jQuery.event.proxy(fn,thisObject);return type==="unload"?this.one(type,data,fn,thisObject):this.each(function(){jQuery.event.add(this,type,fn,data)})},one:function(type,data,fn,thisObject){if(typeof type==="object"){for(var key in type){this.one(key,data,type[key],fn)}return this}if(jQuery.isFunction(data)){thisObject=fn;fn=data;data=undefined}fn=thisObject===undefined?fn:jQuery.event.proxy(fn,thisObject);var one=jQuery.event.proxy(fn,function(event){jQuery(this).unbind(event,one);return fn.apply(this,arguments)});return this.each(function(){jQuery.event.add(this,type,one,data)})},unbind:function(type,fn){if(typeof type==="object"&&!type.preventDefault){for(var key in type){this.unbind(key,type[key])}return this}return this.each(function(){jQuery.event.remove(this,type,fn)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){if(this[0]){var event=jQuery.Event(type);event.preventDefault();event.stopPropagation();jQuery.event.trigger(event,data,this[0]);return event.result}},toggle:function(fn){var args=arguments,i=1;while(i<args.length){jQuery.event.proxy(fn,args[i++])}return this.click(jQuery.event.proxy(fn,function(event){var lastToggle=(jQuery.data(this,"lastToggle"+fn.guid)||0)%i;jQuery.data(this,"lastToggle"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false}))},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},ready:function(fn){bindReady();if(jQuery.isReady){fn.call(document,jQuery)}else{jQuery.readyList.push(fn)}return this},live:function(type,data,fn,thisObject){if(jQuery.isFunction(data)){if(fn!==undefined){thisObject=fn}fn=data;data=undefined}jQuery(this.context).bind(liveConvert(type,this.selector),{data:data,selector:this.selector,live:type},fn,thisObject);return this},die:function(type,fn){jQuery(this.context).unbind(liveConvert(type,this.selector),fn?{guid:fn.guid+this.selector+type}:null);return this}});function liveHandler(event){var stop=true,elems=[],selectors=[],args=arguments,related,match,fn,elem,j,i,data,live=jQuery.extend({},jQuery.data(this,"events").live);for(j in live){fn=live[j];if(fn.live===event.type||fn.altLive&&jQuery.inArray(event.type,fn.altLive)>-1){data=fn.data;if(!(data.beforeFilter&&data.beforeFilter[event.type]&&!data.beforeFilter[event.type](event))){selectors.push(fn.selector)}}else{delete live[j]}}match=jQuery(event.target).closest(selectors,event.currentTarget);for(i=0,l=match.length;i<l;i++){for(j in live){fn=live[j];elem=match[i].elem;related=null;if(match[i].selector===fn.selector){if(fn.live==="mouseenter"||fn.live==="mouseleave"){related=jQuery(event.relatedTarget).closest(fn.selector)[0]}if(!related||related!==elem){elems.push({elem:elem,fn:fn})}}}}for(i=0,l=elems.length;i<l;i++){match=elems[i];event.currentTarget=match.elem;event.data=match.fn.data;if(match.fn.apply(match.elem,args)===false){stop=false;break}}return stop}function liveConvert(type,selector){return["live",type,selector.replace(/\./g,"`").replace(/ /g,"|")].join(".")}jQuery.extend({isReady:false,readyList:[],ready:function(){if(!jQuery.isReady){if(!document.body){return setTimeout(jQuery.ready,13)}jQuery.isReady=true;if(jQuery.readyList){var fn,i=0;while((fn=jQuery.readyList[i++])){fn.call(document,jQuery)}jQuery.readyList=null}jQuery(document).triggerHandler("ready")}}});var readyBound=false;function bindReady(){if(readyBound){return}readyBound=true;if(document.readyState==="complete"){return jQuery.ready()}if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);jQuery.ready()},false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);jQuery.ready()}});var toplevel=false;try{toplevel=window.frameElement==null}catch(e){}if(document.documentElement.doScroll&&toplevel){(function(){if(jQuery.isReady){return}try{document.documentElement.doScroll("left")}catch(error){setTimeout(arguments.callee,0);return}jQuery.ready()})()}}}jQuery.event.add(window,"load",jQuery.ready)}jQuery.each(("blur focus load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(i,name){jQuery.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name)}});
/*@cc_on
jQuery( window ).bind( 'unload', function() {
	for ( var id in jQuery.cache ) {
		// Skip the window
		if ( id != 1 && jQuery.cache[ id ].handle ) {
			jQuery.event.remove( jQuery.cache[ id ].handle.elem );
		}
	}
});
@*/
(function(){jQuery.support={};var root=document.documentElement,script=document.createElement("script"),div=document.createElement("div"),id="script"+now();div.style.display="none";div.innerHTML='   <link/><table></table><a href="/a" style="color:red;float:left;opacity:.55;">a</a><select><option>text</option></select>';var all=div.getElementsByTagName("*"),a=div.getElementsByTagName("a")[0];if(!all||!all.length||!a){return}jQuery.support={leadingWhitespace:div.firstChild.nodeType==3,tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/red/.test(a.getAttribute("style")),hrefNormalized:a.getAttribute("href")==="/a",opacity:a.style.opacity==="0.55",cssFloat:!!a.style.cssFloat,scriptEval:false,noCloneEvent:true,boxModel:null};script.type="text/javascript";try{script.appendChild(document.createTextNode("window."+id+"=1;"))}catch(e){}root.insertBefore(script,root.firstChild);if(window[id]){jQuery.support.scriptEval=true;delete window[id]}root.removeChild(script);if(div.attachEvent&&div.fireEvent){div.attachEvent("onclick",function click(){jQuery.support.noCloneEvent=false;div.detachEvent("onclick",click)});div.cloneNode(true).fireEvent("onclick")}jQuery(function(){var div=document.createElement("div");div.style.width=div.style.paddingLeft="1px";document.body.appendChild(div);jQuery.boxModel=jQuery.support.boxModel=div.offsetWidth===2;document.body.removeChild(div).style.display="none";div=null});var eventSupported=function(eventName){var el=document.createElement("div");eventName="on"+eventName;var isSupported=(eventName in el);if(!isSupported){el.setAttribute(eventName,"return;");isSupported=typeof el[eventName]==="function"}el=null;return isSupported};jQuery.support.submitBubbles=eventSupported("submit");jQuery.support.changeBubbles=eventSupported("change");root=script=div=all=a=null})();jQuery.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};
/*
 * Sizzle CSS Selector Engine - v1.0
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var chunker=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,done=0,toString=Object.prototype.toString,hasDuplicate=false,baseHasDuplicate=true;[0,0].sort(function(){baseHasDuplicate=false;return 0});var Sizzle=function(selector,context,results,seed){results=results||[];var origContext=context=context||document;if(context.nodeType!==1&&context.nodeType!==9){return[]}if(!selector||typeof selector!=="string"){return results}var parts=[],m,set,checkSet,extra,prune=true,contextXML=isXML(context),soFar=selector;while((chunker.exec(""),m=chunker.exec(soFar))!==null){soFar=m[3];parts.push(m[1]);if(m[2]){extra=m[3];break}}if(parts.length>1&&origPOS.exec(selector)){if(parts.length===2&&Expr.relative[parts[0]]){set=posProcess(parts[0]+parts[1],context)}else{set=Expr.relative[parts[0]]?[context]:Sizzle(parts.shift(),context);while(parts.length){selector=parts.shift();if(Expr.relative[selector]){selector+=parts.shift()}set=posProcess(selector,set)}}}else{if(!seed&&parts.length>1&&context.nodeType===9&&!contextXML&&Expr.match.ID.test(parts[0])&&!Expr.match.ID.test(parts[parts.length-1])){var ret=Sizzle.find(parts.shift(),context,contextXML);context=ret.expr?Sizzle.filter(ret.expr,ret.set)[0]:ret.set[0]}if(context){var ret=seed?{expr:parts.pop(),set:makeArray(seed)}:Sizzle.find(parts.pop(),parts.length===1&&(parts[0]==="~"||parts[0]==="+")&&context.parentNode?context.parentNode:context,contextXML);set=ret.expr?Sizzle.filter(ret.expr,ret.set):ret.set;if(parts.length>0){checkSet=makeArray(set)}else{prune=false}while(parts.length){var cur=parts.pop(),pop=cur;if(!Expr.relative[cur]){cur=""}else{pop=parts.pop()}if(pop==null){pop=context}Expr.relative[cur](checkSet,pop,contextXML)}}else{checkSet=parts=[]}}if(!checkSet){checkSet=set}if(!checkSet){throw"Syntax error, unrecognized expression: "+(cur||selector)}if(toString.call(checkSet)==="[object Array]"){if(!prune){results.push.apply(results,checkSet)}else{if(context&&context.nodeType===1){for(var i=0;checkSet[i]!=null;i++){if(checkSet[i]&&(checkSet[i]===true||checkSet[i].nodeType===1&&contains(context,checkSet[i]))){results.push(set[i])}}}else{for(var i=0;checkSet[i]!=null;i++){if(checkSet[i]&&checkSet[i].nodeType===1){results.push(set[i])}}}}}else{makeArray(checkSet,results)}if(extra){Sizzle(extra,origContext,results,seed);Sizzle.uniqueSort(results)}return results};Sizzle.uniqueSort=function(results){if(sortOrder){hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate){for(var i=1;i<results.length;i++){if(results[i]===results[i-1]){results.splice(i--,1)}}}}return results};Sizzle.matches=function(expr,set){return Sizzle(expr,null,null,set)};Sizzle.find=function(expr,context,isXML){var set,match;if(!expr){return[]}for(var i=0,l=Expr.order.length;i<l;i++){var type=Expr.order[i],match;if((match=Expr.leftMatch[type].exec(expr))){var left=match[1];match.splice(1,1);if(left.substr(left.length-1)!=="\\"){match[1]=(match[1]||"").replace(/\\/g,"");set=Expr.find[type](match,context,isXML);if(set!=null){expr=expr.replace(Expr.match[type],"");break}}}}if(!set){set=context.getElementsByTagName("*")}return{set:set,expr:expr}};Sizzle.filter=function(expr,set,inplace,not){var old=expr,result=[],curLoop=set,match,anyFound,isXMLFilter=set&&set[0]&&isXML(set[0]);while(expr&&set.length){for(var type in Expr.filter){if((match=Expr.match[type].exec(expr))!=null){var filter=Expr.filter[type],found,item;anyFound=false;if(curLoop==result){result=[]}if(Expr.preFilter[type]){match=Expr.preFilter[type](match,curLoop,inplace,result,not,isXMLFilter);if(!match){anyFound=found=true}else{if(match===true){continue}}}if(match){for(var i=0;(item=curLoop[i])!=null;i++){if(item){found=filter(item,match,i,curLoop);var pass=not^!!found;if(inplace&&found!=null){if(pass){anyFound=true}else{curLoop[i]=false}}else{if(pass){result.push(item);anyFound=true}}}}}if(found!==undefined){if(!inplace){curLoop=result}expr=expr.replace(Expr.match[type],"");if(!anyFound){return[]}break}}}if(expr==old){if(anyFound==null){throw"Syntax error, unrecognized expression: "+expr}else{break}}old=expr}return curLoop};var Expr=Sizzle.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(elem){return elem.getAttribute("href")}},relative:{"+":function(checkSet,part,isXML){var isPartStr=typeof part==="string",isTag=isPartStr&&!/\W/.test(part),isPartStrNotTag=isPartStr&&!isTag;if(isTag&&!isXML){part=part.toUpperCase()}for(var i=0,l=checkSet.length,elem;i<l;i++){if((elem=checkSet[i])){while((elem=elem.previousSibling)&&elem.nodeType!==1){}checkSet[i]=isPartStrNotTag||elem&&elem.nodeName===part?elem||false:elem===part}}if(isPartStrNotTag){Sizzle.filter(part,checkSet,true)}},">":function(checkSet,part,isXML){var isPartStr=typeof part==="string";if(isPartStr&&!/\W/.test(part)){part=isXML?part:part.toUpperCase();for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var parent=elem.parentNode;checkSet[i]=parent.nodeName===part?parent:false}}}else{for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){checkSet[i]=isPartStr?elem.parentNode:elem.parentNode===part}}if(isPartStr){Sizzle.filter(part,checkSet,true)}}},"":function(checkSet,part,isXML){var doneName=done++,checkFn=dirCheck;if(!/\W/.test(part)){var nodeCheck=part=isXML?part:part.toUpperCase();checkFn=dirNodeCheck}checkFn("parentNode",part,doneName,checkSet,nodeCheck,isXML)},"~":function(checkSet,part,isXML){var doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!/\W/.test(part)){var nodeCheck=part=isXML?part:part.toUpperCase();checkFn=dirNodeCheck}checkFn("previousSibling",part,doneName,checkSet,nodeCheck,isXML)}},find:{ID:function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m?[m]:[]}},NAME:function(match,context,isXML){if(typeof context.getElementsByName!=="undefined"){var ret=[],results=context.getElementsByName(match[1]);for(var i=0,l=results.length;i<l;i++){if(results[i].getAttribute("name")===match[1]){ret.push(results[i])}}return ret.length===0?null:ret}},TAG:function(match,context){return context.getElementsByTagName(match[1])}},preFilter:{CLASS:function(match,curLoop,inplace,result,not,isXML){match=" "+match[1].replace(/\\/g,"")+" ";if(isXML){return match}for(var i=0,elem;(elem=curLoop[i])!=null;i++){if(elem){if(not^(elem.className&&(" "+elem.className+" ").indexOf(match)>=0)){if(!inplace){result.push(elem)}}else{if(inplace){curLoop[i]=false}}}}return false},ID:function(match){return match[1].replace(/\\/g,"")},TAG:function(match,curLoop){for(var i=0;curLoop[i]===false;i++){}return curLoop[i]&&isXML(curLoop[i])?match[1]:match[1].toUpperCase()},CHILD:function(match){if(match[1]=="nth"){var test=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(match[2]=="even"&&"2n"||match[2]=="odd"&&"2n+1"||!/\D/.test(match[2])&&"0n+"+match[2]||match[2]);match[2]=(test[1]+(test[2]||1))-0;match[3]=test[3]-0}match[0]=done++;return match},ATTR:function(match,curLoop,inplace,result,not,isXML){var name=match[1].replace(/\\/g,"");if(!isXML&&Expr.attrMap[name]){match[1]=Expr.attrMap[name]}if(match[2]==="~="){match[4]=" "+match[4]+" "}return match},PSEUDO:function(match,curLoop,inplace,result,not){if(match[1]==="not"){if((chunker.exec(match[3])||"").length>1||/^\w/.test(match[3])){match[3]=Sizzle(match[3],null,null,curLoop)}else{var ret=Sizzle.filter(match[3],curLoop,inplace,true^not);if(!inplace){result.push.apply(result,ret)}return false}}else{if(Expr.match.POS.test(match[0])||Expr.match.CHILD.test(match[0])){return true}}return match},POS:function(match){match.unshift(true);return match}},filters:{enabled:function(elem){return elem.disabled===false&&elem.type!=="hidden"},disabled:function(elem){return elem.disabled===true},checked:function(elem){return elem.checked===true},selected:function(elem){elem.parentNode.selectedIndex;return elem.selected===true},parent:function(elem){return !!elem.firstChild},empty:function(elem){return !elem.firstChild},has:function(elem,i,match){return !!Sizzle(match[3],elem).length},header:function(elem){return/h\d/i.test(elem.nodeName)},text:function(elem){return"text"===elem.type},radio:function(elem){return"radio"===elem.type},checkbox:function(elem){return"checkbox"===elem.type},file:function(elem){return"file"===elem.type},password:function(elem){return"password"===elem.type},submit:function(elem){return"submit"===elem.type},image:function(elem){return"image"===elem.type},reset:function(elem){return"reset"===elem.type},button:function(elem){return"button"===elem.type||elem.nodeName.toUpperCase()==="BUTTON"},input:function(elem){return/input|select|textarea|button/i.test(elem.nodeName)}},setFilters:{first:function(elem,i){return i===0},last:function(elem,i,match,array){return i===array.length-1},even:function(elem,i){return i%2===0},odd:function(elem,i){return i%2===1},lt:function(elem,i,match){return i<match[3]-0},gt:function(elem,i,match){return i>match[3]-0},nth:function(elem,i,match){return match[3]-0==i},eq:function(elem,i,match){return match[3]-0==i}},filter:{PSEUDO:function(elem,match,i,array){var name=match[1],filter=Expr.filters[name];if(filter){return filter(elem,i,match,array)}else{if(name==="contains"){return(elem.textContent||elem.innerText||"").indexOf(match[3])>=0}else{if(name==="not"){var not=match[3];for(var i=0,l=not.length;i<l;i++){if(not[i]===elem){return false}}return true}}}},CHILD:function(elem,match){var type=match[1],node=elem;switch(type){case"only":case"first":while((node=node.previousSibling)){if(node.nodeType===1){return false}}if(type=="first"){return true}node=elem;case"last":while((node=node.nextSibling)){if(node.nodeType===1){return false}}return true;case"nth":var first=match[2],last=match[3];if(first==1&&last==0){return true}var doneName=match[0],parent=elem.parentNode;if(parent&&(parent.sizcache!==doneName||!elem.nodeIndex)){var count=0;for(node=parent.firstChild;node;node=node.nextSibling){if(node.nodeType===1){node.nodeIndex=++count}}parent.sizcache=doneName}var diff=elem.nodeIndex-last;if(first==0){return diff==0}else{return(diff%first==0&&diff/first>=0)}}},ID:function(elem,match){return elem.nodeType===1&&elem.getAttribute("id")===match},TAG:function(elem,match){return(match==="*"&&elem.nodeType===1)||elem.nodeName===match},CLASS:function(elem,match){return(" "+(elem.className||elem.getAttribute("class"))+" ").indexOf(match)>-1},ATTR:function(elem,match){var name=match[1],result=Expr.attrHandle[name]?Expr.attrHandle[name](elem):elem[name]!=null?elem[name]:elem.getAttribute(name),value=result+"",type=match[2],check=match[4];return result==null?type==="!=":type==="="?value===check:type==="*="?value.indexOf(check)>=0:type==="~="?(" "+value+" ").indexOf(check)>=0:!check?value&&result!==false:type==="!="?value!=check:type==="^="?value.indexOf(check)===0:type==="$="?value.substr(value.length-check.length)===check:type==="|="?value===check||value.substr(0,check.length+1)===check+"-":false},POS:function(elem,match,i,array){var name=match[2],filter=Expr.setFilters[name];if(filter){return filter(elem,i,match,array)}}}};var origPOS=Expr.match.POS;for(var type in Expr.match){Expr.match[type]=new RegExp(Expr.match[type].source+/(?![^\[]*\])(?![^\(]*\))/.source);Expr.leftMatch[type]=new RegExp(/(^(?:.|\r|\n)*?)/.source+Expr.match[type].source)}var makeArray=function(array,results){array=Array.prototype.slice.call(array,0);if(results){results.push.apply(results,array);return results}return array};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(e){makeArray=function(array,results){var ret=results||[];if(toString.call(array)==="[object Array]"){Array.prototype.push.apply(ret,array)}else{if(typeof array.length==="number"){for(var i=0,l=array.length;i<l;i++){ret.push(array[i])}}else{for(var i=0;array[i];i++){ret.push(array[i])}}}return ret}}var sortOrder;if(document.documentElement.compareDocumentPosition){sortOrder=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b){hasDuplicate=true}return a.compareDocumentPosition?-1:1}var ret=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(ret===0){hasDuplicate=true}return ret}}else{if("sourceIndex" in document.documentElement){sortOrder=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b){hasDuplicate=true}return a.sourceIndex?-1:1}var ret=a.sourceIndex-b.sourceIndex;if(ret===0){hasDuplicate=true}return ret}}else{if(document.createRange){sortOrder=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b){hasDuplicate=true}return a.ownerDocument?-1:1}var aRange=a.ownerDocument.createRange(),bRange=b.ownerDocument.createRange();aRange.setStart(a,0);aRange.setEnd(a,0);bRange.setStart(b,0);bRange.setEnd(b,0);var ret=aRange.compareBoundaryPoints(Range.START_TO_END,bRange);if(ret===0){hasDuplicate=true}return ret}}}}(function(){var form=document.createElement("div"),id="script"+(new Date).getTime();form.innerHTML="<a name='"+id+"'/>";var root=document.documentElement;root.insertBefore(form,root.firstChild);if(document.getElementById(id)){Expr.find.ID=function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m?m.id===match[1]||typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id").nodeValue===match[1]?[m]:undefined:[]}};Expr.filter.ID=function(elem,match){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return elem.nodeType===1&&node&&node.nodeValue===match}}root.removeChild(form);root=form=null})();(function(){var div=document.createElement("div");div.appendChild(document.createComment(""));if(div.getElementsByTagName("*").length>0){Expr.find.TAG=function(match,context){var results=context.getElementsByTagName(match[1]);if(match[1]==="*"){var tmp=[];for(var i=0;results[i];i++){if(results[i].nodeType===1){tmp.push(results[i])}}results=tmp}return results}}div.innerHTML="<a href='#'></a>";if(div.firstChild&&typeof div.firstChild.getAttribute!=="undefined"&&div.firstChild.getAttribute("href")!=="#"){Expr.attrHandle.href=function(elem){return elem.getAttribute("href",2)}}div=null})();if(document.querySelectorAll){(function(){var oldSizzle=Sizzle,div=document.createElement("div");div.innerHTML="<p class='TEST'></p>";if(div.querySelectorAll&&div.querySelectorAll(".TEST").length===0){return}Sizzle=function(query,context,extra,seed){context=context||document;if(!seed&&context.nodeType===9&&!isXML(context)){try{return makeArray(context.querySelectorAll(query),extra)}catch(e){}}return oldSizzle(query,context,extra,seed)};for(var prop in oldSizzle){Sizzle[prop]=oldSizzle[prop]}div=null})()}if(document.getElementsByClassName&&document.documentElement.getElementsByClassName){(function(){var div=document.createElement("div");div.innerHTML="<div class='test e'></div><div class='test'></div>";if(div.getElementsByClassName("e").length===0){return}div.lastChild.className="e";if(div.getElementsByClassName("e").length===1){return}Expr.order.splice(1,0,"CLASS");Expr.find.CLASS=function(match,context,isXML){if(typeof context.getElementsByClassName!=="undefined"&&!isXML){return context.getElementsByClassName(match[1])}};div=null})()}function dirNodeCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){var sibDir=dir=="previousSibling"&&!isXML;for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){if(sibDir&&elem.nodeType===1){elem.sizcache=doneName;elem.sizset=i}elem=elem[dir];var match=false;while(elem){if(elem.sizcache===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1&&!isXML){elem.sizcache=doneName;elem.sizset=i}if(elem.nodeName===cur){match=elem;break}elem=elem[dir]}checkSet[i]=match}}}function dirCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){var sibDir=dir=="previousSibling"&&!isXML;for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){if(sibDir&&elem.nodeType===1){elem.sizcache=doneName;elem.sizset=i}elem=elem[dir];var match=false;while(elem){if(elem.sizcache===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1){if(!isXML){elem.sizcache=doneName;elem.sizset=i}if(typeof cur!=="string"){if(elem===cur){match=true;break}}else{if(Sizzle.filter(cur,[elem]).length>0){match=elem;break}}}elem=elem[dir]}checkSet[i]=match}}}var contains=document.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)&16}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};var isXML=function(elem){return elem.nodeType===9&&elem.documentElement.nodeName!=="HTML"||!!elem.ownerDocument&&elem.ownerDocument.documentElement.nodeName!=="HTML"};var posProcess=function(selector,context){var tmpSet=[],later="",match,root=context.nodeType?[context]:context;while((match=Expr.match.PSEUDO.exec(selector))){later+=match[0];selector=selector.replace(Expr.match.PSEUDO,"")}selector=Expr.relative[selector]?selector+"*":selector;for(var i=0,l=root.length;i<l;i++){Sizzle(selector,root[i],tmpSet)}return Sizzle.filter(later,tmpSet)};jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.filters;jQuery.unique=Sizzle.uniqueSort;return;window.Sizzle=Sizzle})();var runtil=/Until$/,rparentsprev=/^(?:parents|prevUntil|prevAll)/,rmultiselector=/,/,slice=Array.prototype.slice;var winnow=function(elements,qualifier,keep){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return !!qualifier.call(elem,i)===keep})}else{if(qualifier.nodeType){return jQuery.grep(elements,function(elem,i){return(elem===qualifier)===keep})}else{if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep)}else{qualifier=jQuery.filter(qualifier,elements)}}}}return jQuery.grep(elements,function(elem,i){return(jQuery.inArray(elem,qualifier)>=0)===keep})};jQuery.fn.extend({find:function(selector){var ret=this.pushStack("","find",selector),length=0;for(var i=0,l=this.length;i<l;i++){length=ret.length;jQuery.find(selector,this[i],ret);if(i>0){for(var n=length;n<ret.length;n++){for(var r=0;r<length;r++){if(ret[r]===ret[n]){ret.splice(n--,1);break}}}}}return ret},not:function(selector){return this.pushStack(winnow(this,selector,false),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,true),"filter",selector)},closest:function(selectors,context){if(jQuery.isArray(selectors)){var ret=[],cur=this[0],match,matches={},selector;if(cur&&selectors.length){for(var i=0,l=selectors.length;i<l;i++){selector=selectors[i];if(!matches[selector]){matches[selector]=jQuery.expr.match.POS.test(selector)?jQuery(selector,context||this.context):selector}}while(cur&&cur.ownerDocument&&cur!==context){for(selector in matches){match=matches[selector];if(match.jquery?match.index(cur)>-1:jQuery(cur).is(match)){ret.push({selector:selector,elem:cur});delete matches[selector]}}cur=cur.parentNode}}return ret}var pos=jQuery.expr.match.POS.test(selectors)?jQuery(selectors,context||this.context):null;return this.map(function(i,cur){while(cur&&cur.ownerDocument&&cur!==context){if(pos?pos.index(cur)>-1:jQuery(cur).is(selectors)){return cur}cur=cur.parentNode}return null})},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context||this.context):jQuery.makeArray(selector),all=jQuery.merge(this.get(),set);return this.pushStack(set[0]&&(set[0].setInterval||set[0].nodeType===9||(set[0].parentNode&&set[0].parentNode.nodeType!==11))?jQuery.unique(all):all)},eq:function(i){return i===-1?this.slice(i):this.slice(i,+i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(slice.apply(this,arguments),"slice",slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},andSelf:function(){return this.add(this.prevObject)},end:function(){return this.prevObject||jQuery(null)}});jQuery.each({parent:function(elem){return elem.parentNode},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return jQuery.nth(elem,2,"nextSibling")},prev:function(elem){return jQuery.nth(elem,2,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name)){selector=until}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret)}ret=this.length>1?jQuery.unique(ret):ret;if((this.length>1||rmultiselector.test(selector))&&rparentsprev.test(name)){ret=ret.reverse()}return this.pushStack(ret,name,slice.call(arguments).join(","))}});jQuery.extend({filter:function(expr,elems,not){if(not){expr=":not("+expr+")"}return jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur)}cur=cur[dir]}return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType===1&&++num===result){break}}return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n)}}return r}});jQuery.fn.extend({attr:function(name,value){return access(this,name,value,true,jQuery.attr)},addClass:function(value){if(value&&typeof value==="string"){var classNames=(value||"").split(/\s+/);for(var i=0,l=this.length;i<l;i++){var elem=this[i];if(elem.nodeType===1){if(!elem.className){elem.className=value}else{var className=" "+elem.className+" ";for(var c=0,cl=classNames.length;c<cl;c++){if(className.indexOf(" "+classNames[c]+" ")<0){elem.className+=" "+classNames[c]}}}}}}return this},removeClass:function(value){if((value&&typeof value==="string")||value===undefined){var classNames=(value||"").split(/\s+/);for(var i=0,l=this.length;i<l;i++){var elem=this[i];if(elem.nodeType===1&&elem.className){if(value){var className=" "+elem.className+" ";for(var c=0,cl=classNames.length;c<cl;c++){className=className.replace(" "+classNames[c]+" "," ")}elem.className=className.substring(1,className.length-1)}else{elem.className=""}}}}return this},hasClass:function(selector){var className=" "+selector+" ";for(var i=0,l=this.length;i<l;i++){if((" "+this[i].className+" ").indexOf(className)>-1){return true}}return false},val:function(value){if(value===undefined){var elem=this[0];if(elem){if(jQuery.nodeName(elem,"option")){return(elem.attributes.value||{}).specified?elem.value:elem.text}if(jQuery.nodeName(elem,"select")){var index=elem.selectedIndex,values=[],options=elem.options,one=elem.type=="select-one";if(index<0){return null}for(var i=one?index:0,max=one?index+1:options.length;i<max;i++){var option=options[i];if(option.selected){value=jQuery(option).val();if(one){return value}values.push(value)}}return values}return(elem.value||"").replace(/\r/g,"")}return undefined}if(typeof value==="number"){value+=""}var val=value;return this.each(function(){if(jQuery.isFunction(value)){val=value.call(this);if(typeof val==="number"){val+=""}}if(this.nodeType!=1){return}if(jQuery.isArray(val)&&/radio|checkbox/.test(this.type)){this.checked=jQuery.inArray(this.value||this.name,val)>=0}else{if(jQuery.nodeName(this,"select")){var values=jQuery.makeArray(val);jQuery("option",this).each(function(){this.selected=jQuery.inArray(this.value||this.text,values)>=0});if(!values.length){this.selectedIndex=-1}}else{this.value=val}}})}});jQuery.each({removeAttr:function(name){jQuery.attr(this,name,"");if(this.nodeType==1){this.removeAttribute(name)}},toggleClass:function(classNames,state){var type=typeof classNames;if(type==="string"){var isBool=typeof state==="boolean",className,i=0,classNames=classNames.split(/\s+/);while((className=classNames[i++])){state=isBool?state:!jQuery(this).hasClass(className);jQuery(this)[state?"addClass":"removeClass"](className)}}else{if(type==="undefined"||type==="boolean"){if(this.className){jQuery.data(this,"__className__",this.className)}this.className=this.className||classNames===false?"":jQuery.data(this,"__className__")||""}}}},function(name,fn){jQuery.fn[name]=function(){return this.each(fn,arguments)}});jQuery.extend({attr:function(elem,name,value){if(!elem||elem.nodeType==3||elem.nodeType==8){return undefined}if(name in jQuery.fn&&name!=="attr"){return jQuery(elem)[name](value)}var notxml=elem.nodeType!==1||!jQuery.isXMLDoc(elem),set=value!==undefined;name=notxml&&jQuery.props[name]||name;if(elem.nodeType===1){var special=/href|src|style/.test(name);if(name=="selected"&&elem.parentNode){elem.parentNode.selectedIndex}if(name in elem&&notxml&&!special){if(set){if(name=="type"&&/(button|input)/i.test(elem.nodeName)&&elem.parentNode){throw"type property can't be changed"}elem[name]=value}if(jQuery.nodeName(elem,"form")&&elem.getAttributeNode(name)){return elem.getAttributeNode(name).nodeValue}if(name=="tabIndex"){var attributeNode=elem.getAttributeNode("tabIndex");return attributeNode&&attributeNode.specified?attributeNode.value:/(button|input|object|select|textarea)/i.test(elem.nodeName)?0:/^(a|area)$/i.test(elem.nodeName)&&elem.href?0:undefined}return elem[name]}if(!jQuery.support.style&&notxml&&name=="style"){if(set){elem.style.cssText=""+value}return elem.style.cssText}if(set){elem.setAttribute(name,""+value)}var attr=!jQuery.support.hrefNormalized&&notxml&&special?elem.getAttribute(name,2):elem.getAttribute(name);return attr===null?undefined:attr}return jQuery.style(elem,name,value)}});var rinlinejQuery=/ jQuery\d+="(?:\d+|null)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/(<([\w:]+)[^>]*?)\/>/g,rselfClosing=/^(?:abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&\w+;/,fcloseTag=function(all,front,tag){return rselfClosing.test(tag)?all:front+"></"+tag+">"},wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!jQuery.support.htmlSerialize){wrapMap._default=[1,"div<div>","</div>"]}jQuery.fn.extend({text:function(text){if(typeof text!=="object"&&text!==undefined){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(text))}var ret="";jQuery.each(this,function(){if(this.nodeType===3||this.nodeType===4){ret+=this.nodeValue}else{if(this.nodeType!==8){ret+=jQuery.fn.text.call(this.childNodes)}}});return ret},wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(){jQuery(this).wrapAll(html.apply(this,arguments))})}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone();if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){return this.each(function(){jQuery(this).contents().wrapAll(html)})},wrap:function(html){return this.each(function(){jQuery(this).wrapAll(html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.insertBefore(elem,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this)})}else{if(arguments.length){var set=jQuery(arguments[0]);set.push.apply(set,this.toArray());return this.pushStack(set,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})}else{if(arguments.length){var set=this.pushStack(this,"after",arguments);set.push.apply(set,jQuery(arguments[0]).toArray());return set}}},clone:function(events){var ret=this.map(function(){if(!jQuery.support.noCloneEvent&&!jQuery.isXMLDoc(this)){var html=this.outerHTML,ownerDocument=this.ownerDocument;if(!html){var div=ownerDocument.createElement("div");div.appendChild(this.cloneNode(true));html=div.innerHTML}return jQuery.clean([html.replace(rinlinejQuery,"").replace(rleadingWhitespace,"")],ownerDocument)[0]}else{return this.cloneNode(true)}});if(events===true){cloneCopyEvent(this,ret);cloneCopyEvent(this.find("*"),ret.find("*"))}return ret},html:function(value){if(value===undefined){return this[0]?this[0].innerHTML.replace(rinlinejQuery,""):null}else{if(typeof value==="string"&&!/<script/i.test(value)&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){try{for(var i=0,l=this.length;i<l;i++){if(this[i].nodeType===1){cleanData(this[i].getElementsByTagName("*"));this[i].innerHTML=value}}}catch(e){this.empty().append(value)}}else{this.empty().append(value)}}return this},replaceWith:function(value){if(this[0]&&this[0].parentNode){return this.after(value).remove()}else{return this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value)}},detach:function(selector){return this.remove(selector,true)},domManip:function(args,table,callback){var results,first,value=args[0],scripts=[];if(jQuery.isFunction(value)){return this.each(function(){args[0]=value.call(this);return jQuery(this).domManip(args,table,callback)})}if(this[0]){if(args[0]&&args[0].parentNode&&args[0].parentNode.nodeType===11){results={fragment:args[0].parentNode}}else{results=buildFragment(args,this,scripts)}first=results.fragment.firstChild;if(first){table=table&&jQuery.nodeName(first,"tr");for(var i=0,l=this.length;i<l;i++){callback.call(table?root(this[i],first):this[i],results.cacheable||this.length>1||i>0?results.fragment.cloneNode(true):results.fragment)}}if(scripts){jQuery.each(scripts,evalScript)}}return this;function root(elem,cur){return jQuery.nodeName(elem,"table")?(elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody"))):elem}}});function cloneCopyEvent(orig,ret){var i=0;ret.each(function(){if(this.nodeName!==orig[i].nodeName){return}var events=jQuery.data(orig[i],"events");for(var type in events){for(var handler in events[type]){jQuery.event.add(this,type,events[type][handler],events[type][handler].data)}}})}function buildFragment(args,nodes,scripts){var fragment,cacheable,cached,cacheresults,doc;if(args.length===1&&typeof args[0]==="string"&&args[0].length<512&&args[0].indexOf("<option")<0){cacheable=true;cacheresults=jQuery.fragments[args[0]];if(cacheresults){if(cacheresults!==1){fragment=cacheresults}cached=true}}if(!fragment){doc=(nodes&&nodes[0]?nodes[0].ownerDocument||nodes[0]:document);fragment=doc.createDocumentFragment();jQuery.clean(args,doc,fragment,scripts)}if(cacheable){jQuery.fragments[args[0]]=cacheresults?fragment:1}return{fragment:fragment,cacheable:cacheable}}jQuery.fragments={};jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var ret=[],insert=jQuery(selector);for(var i=0,l=insert.length;i<l;i++){var elems=(i>0?this.clone(true):this).get();jQuery.fn[original].apply(jQuery(insert[i]),elems);ret=ret.concat(elems)}return this.pushStack(ret,name,insert.selector)}});jQuery.each({remove:function(selector,keepData){if(!selector||jQuery.filter(selector,[this]).length){if(!keepData&&this.nodeType===1){cleanData(this.getElementsByTagName("*"));cleanData([this])}if(this.parentNode){this.parentNode.removeChild(this)}}},empty:function(){if(this.nodeType===1){cleanData(this.getElementsByTagName("*"))}while(this.firstChild){this.removeChild(this.firstChild)}}},function(name,fn){jQuery.fn[name]=function(){return this.each(fn,arguments)}});jQuery.extend({clean:function(elems,context,fragment,scripts){context=context||document;if(typeof context.createElement==="undefined"){context=context.ownerDocument||context[0]&&context[0].ownerDocument||document}var ret=[],div=context.createElement("div");jQuery.each(elems,function(i,elem){if(typeof elem==="number"){elem+=""}if(!elem){return}if(typeof elem==="string"&&!rhtml.test(elem)){elem=context.createTextNode(elem)}else{if(typeof elem==="string"){elem=elem.replace(rxhtmlTag,fcloseTag);var tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,depth=wrap[0];div.innerHTML=wrap[1]+elem+wrap[2];while(depth--){div=div.lastChild}if(!jQuery.support.tbody){var hasBody=rtbody.test(elem),tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]=="<table>"&&!hasBody?div.childNodes:[];for(var j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j])}}}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild)}elem=jQuery.makeArray(div.childNodes)}}if(elem.nodeType){ret.push(elem)}else{ret=jQuery.merge(ret,elem)}});if(fragment){for(var i=0;ret[i];i++){if(scripts&&jQuery.nodeName(ret[i],"script")&&(!ret[i].type||ret[i].type.toLowerCase()==="text/javascript")){scripts.push(ret[i].parentNode?ret[i].parentNode.removeChild(ret[i]):ret[i])}else{if(ret[i].nodeType===1){ret.splice.apply(ret,[i+1,0].concat(jQuery.makeArray(ret[i].getElementsByTagName("script"))))}fragment.appendChild(ret[i])}}}return ret}});function cleanData(elems){for(var i=0,elem,id;(elem=elems[i])!=null;i++){if((id=elem[expando])){delete jQuery.cache[id]}}}var rexclude=/z-?index|font-?weight|opacity|zoom|line-?height/i,ralpha=/alpha\([^)]*\)/,ropacity=/opacity=([^)]*)/,rfloat=/float/i,rdashAlpha=/-([a-z])/ig,rupper=/([A-Z])/g,rnumpx=/^\d+(?:px)?$/i,rnum=/^\d/,getComputedStyle=document.defaultView&&document.defaultView.getComputedStyle,styleFloat=jQuery.support.cssFloat?"cssFloat":"styleFloat",fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn.css=function(name,value){return access(this,name,value,true,function(elem,name,value){if(value===undefined){return jQuery.css(elem,name)}if(typeof value==="number"&&!rexclude.test(name)){value+="px"}jQuery.style(elem,name,value)})};jQuery.extend({style:function(elem,name,value){if(!elem||elem.nodeType===3||elem.nodeType===8){return undefined}if((name==="width"||name==="height")&&parseFloat(value)<0){value=undefined}var style=elem.style||elem,set=value!==undefined;if(!jQuery.support.opacity&&name==="opacity"){if(set){style.zoom=1;var opacity=parseInt(value,10)+""==="NaN"?"":"alpha(opacity="+value*100+")";var filter=style.filter||jQuery.curCSS(elem,"filter")||"";style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):opacity}return style.filter&&style.filter.indexOf("opacity=")>=0?(parseFloat(ropacity.exec(style.filter)[1])/100)+"":""}if(rfloat.test(name)){name=styleFloat}name=name.replace(rdashAlpha,fcamelCase);if(set){style[name]=value}return style[name]},css:function(elem,name,force,extra){if(name==="width"||name==="height"){var val,props={position:"absolute",visibility:"hidden",display:"block"},which=name==="width"?["Left","Right"]:["Top","Bottom"];function getWH(){val=name==="width"?elem.offsetWidth:elem.offsetHeight;if(extra==="border"){return}jQuery.each(which,function(){if(!extra){val-=parseFloat(jQuery.curCSS(elem,"padding"+this,true))||0}if(extra==="margin"){val+=parseFloat(jQuery.curCSS(elem,"margin"+this,true))||0}else{val-=parseFloat(jQuery.curCSS(elem,"border"+this+"Width",true))||0}})}if(elem.offsetWidth!==0){getWH()}else{jQuery.swap(elem,props,getWH)}return Math.max(0,Math.round(val))}return jQuery.curCSS(elem,name,force)},curCSS:function(elem,name,force){var ret,style=elem.style,filter;if(!jQuery.support.opacity&&name==="opacity"&&elem.currentStyle){ret=ropacity.test(elem.currentStyle.filter||"")?(parseFloat(RegExp.$1)/100)+"":"";return ret===""?"1":ret}if(rfloat.test(name)){name=styleFloat}if(!force&&style&&style[name]){ret=style[name]}else{if(getComputedStyle){if(rfloat.test(name)){name="float"}name=name.replace(rupper,"-$1").toLowerCase();var computedStyle=elem.ownerDocument.defaultView.getComputedStyle(elem,null);if(computedStyle){ret=computedStyle.getPropertyValue(name)}if(name==="opacity"&&ret===""){ret="1"}}else{if(elem.currentStyle){var camelCase=name.replace(rdashAlpha,fcamelCase);ret=elem.currentStyle[name]||elem.currentStyle[camelCase];if(!rnumpx.test(ret)&&rnum.test(ret)){var left=style.left,rsLeft=elem.runtimeStyle.left;elem.runtimeStyle.left=elem.currentStyle.left;style.left=camelCase==="fontSize"?"1em":(ret||0);ret=style.pixelLeft+"px";style.left=left;elem.runtimeStyle.left=rsLeft}}}}return ret},swap:function(elem,options,callback){var old={};for(var name in options){old[name]=elem.style[name];elem.style[name]=options[name]}callback.call(elem);for(var name in options){elem.style[name]=old[name]}}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){var width=elem.offsetWidth,height=elem.offsetHeight,force=/^tr$/i.test(elem.nodeName);return width===0&&height===0&&!force?true:width!==0&&height!==0&&!force?false:jQuery.curCSS(elem,"display")==="none"};jQuery.expr.filters.visible=function(elem){return !jQuery.expr.filters.hidden(elem)}}var jsc=now(),rscript=/<script(.|\s)*?\/script>/g,rselectTextarea=/select|textarea/i,rinput=/text|hidden|password|search/i,jsre=/=\?(&|$)/,rquery=/\?/,rts=/(\?|&)_=.*?(&|$)/,rurl=/^(\w+:)?\/\/([^\/?#]+)/,r20=/%20/g;jQuery.fn.extend({_load:jQuery.fn.load,load:function(url,params,callback){if(typeof url!=="string"){return this._load(url)}else{if(!this.length){return this}}var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=null}else{if(typeof params==="object"){params=jQuery.param(params);type="POST"}}}jQuery.ajax({url:url,type:type,dataType:"html",data:params,context:this,complete:function(res,status){if(status==="success"||status==="notmodified"){this.html(selector?jQuery("<div />").append(res.responseText.replace(rscript,"")).find(selector):res.responseText)}if(callback){this.each(callback,[res.responseText,status,res])}}});return this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val}}):{name:elem.name,value:val}}).get()}});jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f)}});jQuery.extend({get:function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=null}return jQuery.ajax({type:"GET",url:url,data:data,success:callback,dataType:type})},getScript:function(url,callback){return jQuery.get(url,null,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},post:function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data={}}return jQuery.ajax({type:"POST",url:url,data:data,success:callback,dataType:type})},ajaxSetup:function(settings){jQuery.extend(jQuery.ajaxSettings,settings)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:function(){return window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest()},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(s){s=jQuery.extend(true,{},jQuery.ajaxSettings,s);var jsonp,status,data,callbackContext=s.context||window,type=s.type.toUpperCase();if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data)}if(s.dataType==="jsonp"){if(type==="GET"){if(!jsre.test(s.url)){s.url+=(rquery.test(s.url)?"&":"?")+(s.jsonp||"callback")+"=?"}}else{if(!s.data||!jsre.test(s.data)){s.data=(s.data?s.data+"&":"")+(s.jsonp||"callback")+"=?"}}s.dataType="json"}if(s.dataType==="json"&&(s.data&&jsre.test(s.data)||jsre.test(s.url))){jsonp="jsonp"+jsc++;if(s.data){s.data=(s.data+"").replace(jsre,"="+jsonp+"$1")}s.url=s.url.replace(jsre,"="+jsonp+"$1");s.dataType="script";window[jsonp]=function(tmp){data=tmp;success();complete();window[jsonp]=undefined;try{delete window[jsonp]}catch(e){}if(head){head.removeChild(script)}}}if(s.dataType==="script"&&s.cache===null){s.cache=false}if(s.cache===false&&type==="GET"){var ts=now();var ret=s.url.replace(rts,"$1_="+ts+"$2");s.url=ret+((ret===s.url)?(rquery.test(s.url)?"&":"?")+"_="+ts:"")}if(s.data&&type==="GET"){s.url+=(rquery.test(s.url)?"&":"?")+s.data}if(s.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var parts=rurl.exec(s.url),remote=parts&&(parts[1]&&parts[1]!==location.protocol||parts[2]!==location.host);if(s.dataType==="script"&&type==="GET"&&remote){var head=document.getElementsByTagName("head")[0]||document.documentElement;var script=document.createElement("script");script.src=s.url;if(s.scriptCharset){script.charset=s.scriptCharset}if(!jsonp){var done=false;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){done=true;success();complete();script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script)}}}}head.insertBefore(script,head.firstChild);return undefined}var requestDone=false;var xhr=s.xhr();if(s.username){xhr.open(type,s.url,s.async,s.username,s.password)}else{xhr.open(type,s.url,s.async)}try{if(s.data){xhr.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){if(jQuery.lastModified[s.url]){xhr.setRequestHeader("If-Modified-Since",jQuery.lastModified[s.url])}if(jQuery.etag[s.url]){xhr.setRequestHeader("If-None-Match",jQuery.etag[s.url])}}if(!remote){xhr.setRequestHeader("X-Requested-With","XMLHttpRequest")}xhr.setRequestHeader("Accept",s.dataType&&s.accepts[s.dataType]?s.accepts[s.dataType]+", */*":s.accepts._default)}catch(e){}if(s.beforeSend&&s.beforeSend.call(callbackContext,xhr,s)===false){if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}xhr.abort();return false}if(s.global){trigger("ajaxSend",[xhr,s])}var onreadystatechange=function(isTimeout){if(!xhr||xhr.readyState===0){if(ival){clearInterval(ival);ival=null;if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}}}else{if(!requestDone&&xhr&&(xhr.readyState===4||isTimeout==="timeout")){requestDone=true;if(ival){clearInterval(ival);ival=null}status=isTimeout==="timeout"?"timeout":!jQuery.httpSuccess(xhr)?"error":s.ifModified&&jQuery.httpNotModified(xhr,s.url)?"notmodified":"success";if(status==="success"){try{data=jQuery.httpData(xhr,s.dataType,s)}catch(e){status="parsererror"}}if(status==="success"||status==="notmodified"){if(!jsonp){success()}}else{jQuery.handleError(s,xhr,status)}complete();if(isTimeout){xhr.abort()}if(s.async){xhr=null}}}};if(s.async){var ival=setInterval(onreadystatechange,13);if(s.timeout>0){setTimeout(function(){if(xhr&&!requestDone){onreadystatechange("timeout")}},s.timeout)}}try{xhr.send(type==="POST"||type==="PUT"?s.data:null)}catch(e){jQuery.handleError(s,xhr,null,e);complete()}if(!s.async){onreadystatechange()}function success(){if(s.success){s.success.call(callbackContext,data,status,xhr)}if(s.global){trigger("ajaxSuccess",[xhr,s])}}function complete(){if(s.complete){s.complete.call(callbackContext,xhr,status)}if(s.global){trigger("ajaxComplete",[xhr,s])}if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}}function trigger(type,args){(s.context?jQuery(s.context):jQuery.event).trigger(type,args)}return xhr},handleError:function(s,xhr,status,e){if(s.error){s.error.call(s.context||window,xhr,status,e)}if(s.global){(s.context?jQuery(s.context):jQuery.event).trigger("ajaxError",[xhr,s,e])}},active:0,httpSuccess:function(xhr){try{return !xhr.status&&location.protocol==="file:"||(xhr.status>=200&&xhr.status<300)||xhr.status===304||xhr.status===1223||xhr.status===0}catch(e){}return false},httpNotModified:function(xhr,url){var lastModified=xhr.getResponseHeader("Last-Modified"),etag=xhr.getResponseHeader("Etag");if(lastModified){jQuery.lastModified[url]=lastModified}if(etag){jQuery.etag[url]=etag}return xhr.status===304||xhr.status===0},httpData:function(xhr,type,s){var ct=xhr.getResponseHeader("content-type"),xml=type==="xml"||!type&&ct&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.nodeName==="parsererror"){throw"parsererror"}if(s&&s.dataFilter){data=s.dataFilter(data,type)}if(typeof data==="string"){if(type==="script"){jQuery.globalEval(data)}if(type==="json"){if(typeof JSON==="object"&&JSON.parse){data=JSON.parse(data)}else{data=(new Function("return "+data))()}}}return data},param:function(a){var s=[],param_traditional=jQuery.param.traditional;function add(key,value){value=jQuery.isFunction(value)?value():value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)}if(jQuery.isArray(a)||a.jquery){jQuery.each(a,function(){add(this.name,this.value)})}else{jQuery.each(a,function buildParams(prefix,obj){if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){add(prefix+(param_traditional?"":"[]"),v)})}else{if(typeof obj=="object"){if(param_traditional){add(prefix,obj)}else{jQuery.each(obj,function(k,v){buildParams(prefix?prefix+"["+k+"]":k,v)})}}else{add(prefix,obj)}}})}return s.join("&").replace(r20,"+")}});var elemdisplay={},timerId,fxAttrs=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];function genFx(type,num){var obj={};jQuery.each(fxAttrs.concat.apply([],fxAttrs.slice(0,num)),function(){obj[this]=type});return obj}jQuery.fn.extend({show:function(speed,callback){if(speed!=null){return this.animate(genFx("show",3),speed,callback)}else{for(var i=0,l=this.length;i<l;i++){var old=jQuery.data(this[i],"olddisplay");this[i].style.display=old||"";if(jQuery.css(this[i],"display")==="none"){var nodeName=this[i].nodeName,display;if(elemdisplay[nodeName]){display=elemdisplay[nodeName]}else{var elem=jQuery("<"+nodeName+" />").appendTo("body");display=elem.css("display");if(display==="none"){display="block"}elem.remove();elemdisplay[nodeName]=display}jQuery.data(this[i],"olddisplay",display)}}for(var i=0,l=this.length;i<l;i++){this[i].style.display=jQuery.data(this[i],"olddisplay")||""}return this}},hide:function(speed,callback){if(speed!=null){return this.animate(genFx("hide",3),speed,callback)}else{for(var i=0,l=this.length;i<l;i++){var old=jQuery.data(this[i],"olddisplay");if(!old&&old!=="none"){jQuery.data(this[i],"olddisplay",jQuery.css(this[i],"display"))}}for(var i=0,l=this.length;i<l;i++){this[i].style.display="none"}return this}},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2){var bool=typeof fn==="boolean";return jQuery.isFunction(fn)&&jQuery.isFunction(fn2)?this._toggle.apply(this,arguments):fn==null||bool?this.each(function(){var state=bool?fn:jQuery(this).is(":hidden");jQuery(this)[state?"show":"hide"]()}):this.animate(genFx("toggle",3),fn,fn2)},fadeTo:function(speed,to,callback){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:to},speed,callback)},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);return this[optall.queue===false?"each":"queue"](function(){var opt=jQuery.extend({},optall),p,hidden=this.nodeType==1&&jQuery(this).is(":hidden"),self=this;for(p in prop){var name=p.replace(rdashAlpha,fcamelCase);if(p!==name){prop[name]=prop[p];delete prop[p];p=name}if(prop[p]=="hide"&&hidden||prop[p]=="show"&&!hidden){return opt.complete.call(this)}if((p=="height"||p=="width")&&this.style){opt.display=jQuery.css(this,"display");opt.overflow=this.style.overflow}}if(opt.overflow!=null){this.style.overflow="hidden"}opt.curAnim=jQuery.extend({},prop);jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);if(/toggle|show|hide/.test(val)){e[val=="toggle"?hidden?"show":"hide":val](prop)}else{var parts=/^([+-]=)?([\d+-.]+)(.*)$/.exec(val),start=e.cur(true)||0;if(parts){var end=parseFloat(parts[2]),unit=parts[3]||"px";if(unit!="px"){self.style[name]=(end||1)+unit;start=((end||1)/e.cur(true))*start;self.style[name]=start+unit}if(parts[1]){end=((parts[1]=="-="?-1:1)*end)+start}e.custom(start,end,unit)}else{e.custom(start,val,"")}}});if(jQuery.isEmptyObject(prop)){return optall.complete.call(this)}return true})},stop:function(clearQueue,gotoEnd){var timers=jQuery.timers;if(clearQueue){this.queue([])}this.each(function(){for(var i=timers.length-1;i>=0;i--){if(timers[i].elem==this){if(gotoEnd){timers[i](true)}timers.splice(i,1)}}});if(!gotoEnd){this.dequeue()}return this}});jQuery.each({slideDown:genFx("show",1),slideUp:genFx("hide",1),slideToggle:genFx("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(name,props){jQuery.fn[name]=function(speed,callback){return this.animate(props,speed,callback)}});jQuery.extend({speed:function(speed,easing,fn){var opt=typeof speed==="object"?speed:{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:jQuery.fx.speeds[opt.duration]||jQuery.fx.speeds._default;opt.old=opt.complete;opt.complete=function(){if(opt.queue!==false){jQuery(this).dequeue()}if(jQuery.isFunction(opt.old)){opt.old.call(this)}};return opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum}},timers:[],fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;if(!options.orig){options.orig={}}}});jQuery.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this);if((this.prop=="height"||this.prop=="width")&&this.elem.style){this.elem.style.display="block"}},cur:function(force){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var r=parseFloat(jQuery.css(this.elem,this.prop,force));return r&&r>-10000?r:parseFloat(jQuery.curCSS(this.elem,this.prop))||0},custom:function(from,to,unit){this.startTime=now();this.start=from;this.end=to;this.unit=unit||this.unit||"px";this.now=this.start;this.pos=this.state=0;var self=this;function t(gotoEnd){return self.step(gotoEnd)}t.elem=this.elem;if(t()&&jQuery.timers.push(t)&&!timerId){timerId=setInterval(jQuery.fx.tick,13)}},show:function(){this.options.orig[this.prop]=jQuery.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop=="width"||this.prop=="height"?1:0,this.cur());jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(gotoEnd){var t=now();if(gotoEnd||t>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var done=true;for(var i in this.options.curAnim){if(this.options.curAnim[i]!==true){done=false}}if(done){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(jQuery.css(this.elem,"display")=="none"){this.elem.style.display="block"}}if(this.options.hide){jQuery(this.elem).hide()}if(this.options.hide||this.options.show){for(var p in this.options.curAnim){jQuery.style(this.elem,p,this.options.orig[p])}}this.options.complete.call(this.elem)}return false}else{var n=t-this.startTime;this.state=n/this.options.duration;this.pos=jQuery.easing[this.options.easing||(jQuery.easing.swing?"swing":"linear")](this.state,n,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};jQuery.extend(jQuery.fx,{tick:function(){var timers=jQuery.timers;for(var i=0;i<timers.length;i++){if(!timers[i]()){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}},stop:function(){clearInterval(timerId);timerId=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(fx){jQuery.style(fx.elem,"opacity",fx.now)},_default:function(fx){if(fx.elem.style&&fx.elem.style[fx.prop]!=null){fx.elem.style[fx.prop]=fx.now+fx.unit}else{fx.elem[fx.prop]=fx.now}}}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length}}if("getBoundingClientRect" in document.documentElement){jQuery.fn.offset=function(options){var elem=this[0];if(!elem||!elem.ownerDocument){return null}if(options){return this.each(function(){jQuery.offset.setOffset(this,options)})}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}var box=elem.getBoundingClientRect(),doc=elem.ownerDocument,body=doc.body,docElem=doc.documentElement,clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,top=box.top+(self.pageYOffset||jQuery.support.boxModel&&docElem.scrollTop||body.scrollTop)-clientTop,left=box.left+(self.pageXOffset||jQuery.support.boxModel&&docElem.scrollLeft||body.scrollLeft)-clientLeft;return{top:top,left:left}}}else{jQuery.fn.offset=function(options){var elem=this[0];if(!elem||!elem.ownerDocument){return null}if(options){return this.each(function(){jQuery.offset.setOffset(this,options)})}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}jQuery.offset.initialize();var offsetParent=elem.offsetParent,prevOffsetParent=elem,doc=elem.ownerDocument,computedStyle,docElem=doc.documentElement,body=doc.body,defaultView=doc.defaultView,prevComputedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top=elem.offsetTop,left=elem.offsetLeft;while((elem=elem.parentNode)&&elem!==body&&elem!==docElem){if(jQuery.offset.supportsFixedPosition&&prevComputedStyle.position==="fixed"){break}computedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle;top-=elem.scrollTop;left-=elem.scrollLeft;if(elem===offsetParent){top+=elem.offsetTop;left+=elem.offsetLeft;if(jQuery.offset.doesNotAddBorder&&!(jQuery.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(elem.nodeName))){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevOffsetParent=offsetParent,offsetParent=elem.offsetParent}if(jQuery.offset.subtractsBorderForOverflowNotVisible&&computedStyle.overflow!=="visible"){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevComputedStyle=computedStyle}if(prevComputedStyle.position==="relative"||prevComputedStyle.position==="static"){top+=body.offsetTop;left+=body.offsetLeft}if(jQuery.offset.supportsFixedPosition&&prevComputedStyle.position==="fixed"){top+=Math.max(docElem.scrollTop,body.scrollTop);left+=Math.max(docElem.scrollLeft,body.scrollLeft)}return{top:top,left:left}}}jQuery.offset={initialize:function(){var body=document.body,container=document.createElement("div"),innerDiv,checkDiv,table,td,bodyMarginTop=parseFloat(jQuery.curCSS(body,"marginTop",true))||0,html='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';jQuery.extend(container.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});container.innerHTML=html;body.insertBefore(container,body.firstChild);innerDiv=container.firstChild;checkDiv=innerDiv.firstChild;td=innerDiv.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(checkDiv.offsetTop!==5);this.doesAddBorderForTableAndCells=(td.offsetTop===5);checkDiv.style.position="fixed",checkDiv.style.top="20px";this.supportsFixedPosition=(checkDiv.offsetTop===20||checkDiv.offsetTop===15);checkDiv.style.position=checkDiv.style.top="";innerDiv.style.overflow="hidden",innerDiv.style.position="relative";this.subtractsBorderForOverflowNotVisible=(checkDiv.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(body.offsetTop!==bodyMarginTop);body.removeChild(container);body=container=innerDiv=checkDiv=table=td=null;jQuery.offset.initialize=function(){}},bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;jQuery.offset.initialize();if(jQuery.offset.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.curCSS(body,"marginTop",true))||0;left+=parseFloat(jQuery.curCSS(body,"marginLeft",true))||0}return{top:top,left:left}},setOffset:function(elem,options){if(/static/.test(jQuery.curCSS(elem,"position"))){elem.style.position="relative"}var curElem=jQuery(elem),curOffset=curElem.offset(),curTop=parseInt(jQuery.curCSS(elem,"top",true),10)||0,curLeft=parseInt(jQuery.curCSS(elem,"left",true),10)||0,props={top:(options.top-curOffset.top)+curTop,left:(options.left-curOffset.left)+curLeft};if("using" in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({position:function(){if(!this[0]){return null}var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=/^body|html$/i.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat(jQuery.curCSS(elem,"marginTop",true))||0;offset.left-=parseFloat(jQuery.curCSS(elem,"marginLeft",true))||0;parentOffset.top+=parseFloat(jQuery.curCSS(offsetParent[0],"borderTopWidth",true))||0;parentOffset.left+=parseFloat(jQuery.curCSS(offsetParent[0],"borderLeftWidth",true))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&(!/^body|html$/i.test(offsetParent.nodeName)&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent})}});jQuery.each(["Left","Top"],function(i,name){var method="scroll"+name;jQuery.fn[method]=function(val){var elem=this[0],win;if(!elem){return null}if(val!==undefined){return this.each(function(){win=getWindow(this);win?win.scrollTo(!i?val:jQuery(win).scrollLeft(),i?val:jQuery(win).scrollTop()):this[method]=val})}else{win=getWindow(elem);return win?("pageXOffset" in win)?win[i?"pageYOffset":"pageXOffset"]:jQuery.support.boxModel&&win.document.documentElement[method]||win.document.body[method]:elem[method]}}});function getWindow(elem){return("scrollTo" in elem&&elem.document)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false}jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();jQuery.fn["inner"+name]=function(){return this[0]?jQuery.css(this[0],type,false,"padding"):null};jQuery.fn["outer"+name]=function(margin){return this[0]?jQuery.css(this[0],type,false,margin?"margin":"border"):null};jQuery.fn[type]=function(size){var elem=this[0];if(!elem){return null}return("scrollTo" in elem&&elem.document)?elem.document.compatMode==="CSS1Compat"&&elem.document.documentElement["client"+name]||elem.document.body["client"+name]:(elem.nodeType===9)?Math.max(elem.documentElement["client"+name],elem.body["scroll"+name],elem.documentElement["scroll"+name],elem.body["offset"+name],elem.documentElement["offset"+name]):size===undefined?jQuery.css(elem,type):this.css(type,typeof size==="string"?size:size+"px")}});window.jQuery=window.$=jQuery})(window);jQuery=$=window.jQuery.noConflict();if($.browser.mozilla&&typeof unsafeWindow!="undefined"){jQuery.isReady=true;
/*
 * jQuery doTimeout: Like setTimeout, but better! - v0.4 - 7/15/2009
 * http://benalman.com/projects/jquery-dotimeout-plugin/
 * 
 * Copyright (c) 2009 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
}(function($){var cache={},doTimeout="doTimeout",aps=Array.prototype.slice;$[doTimeout]=function(){return p_doTimeout.apply(window,[0].concat(aps.call(arguments)))};$.fn[doTimeout]=function(){var args=aps.call(arguments),result=p_doTimeout.apply(this,[doTimeout+args[0]].concat(args));return typeof args[0]==="number"||typeof args[1]==="number"?this:result};function p_doTimeout(jquery_data_key){var that=this,elem,data={},args=arguments,slice_args=4,id=args[1],delay=args[2],callback=args[3];if(typeof id!=="string"){slice_args--;id=jquery_data_key=0;delay=args[1];callback=args[2]}if(jquery_data_key){elem=that.eq(0);elem.data(jquery_data_key,data=elem.data(jquery_data_key)||{})}else{if(id){data=cache[id]||(cache[id]={})}}data.id&&clearTimeout(data.id);delete data.id;function cleanup(){if(jquery_data_key){elem.removeData(jquery_data_key)}else{if(id){delete cache[id]}}}function actually_setTimeout(){data.id=setTimeout(function(){data.fn()},delay)}if(callback){data.fn=function(no_polling_loop){callback.apply(that,aps.call(args,slice_args))&&!no_polling_loop?actually_setTimeout():cleanup()};actually_setTimeout()}else{if(data.fn){delay===undefined?cleanup():data.fn(delay===false);return true}else{cleanup()}}}})(jQuery);(function(d){var a={"%":function(e){return"%"},b:function(e){return parseInt(e,10).toString(2)},c:function(e){return String.fromCharCode(parseInt(e,10))},d:function(e){return parseInt(e,10)?parseInt(e,10):0},u:function(e){return Math.abs(e)},f:function(f,e){return(e>-1)?Math.round(parseFloat(f)*Math.pow(10,e))/Math.pow(10,e):parseFloat(f)},o:function(e){return parseInt(e,10).toString(8)},s:function(e){return e},x:function(e){return(""+parseInt(e,10).toString(16)).toLowerCase()},X:function(e){return(""+parseInt(e,10).toString(16)).toUpperCase()}};var c=/%(?:(\d+)?(?:\.(\d+))?|\(([^)]+)\))([%bcdufosxX])/g;var b=function(f){if(f.length==1&&typeof f[0]=="object"){f=f[0];return function(i,h,k,j,g,m,l){return a[g](f[j])}}else{var e=0;return function(i,h,k,j,g,m,l){return a[g](f[e++],k)}}};d.extend({sprintf:function(f){var e=Array.apply(null,arguments).slice(1);return f.replace(c,b(e))},vsprintf:function(f,e){return f.replace(c,b(e))}})})(jQuery);(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})();AN.mod["Ajax Integrator"]={ver:"N/A",author:"向日",fn:{"b17a0463-e46c-4420-a8f5-f169fac20aec":{desc:"AJAX化頁面讀取",page:{32:true},type:7,options:{bCheckOnBottom:{desc:"到頁底自動更新帖子",defaultValue:true,type:"checkbox"},nCheckInterval:{desc:"自動更新間隔(秒)",defaultValue:30,type:"text"},bAddCheckBtn:{desc:"加入更新帖子按扭",defaultValue:true,type:"checkbox"},bAppendReplies:{desc:"延展帖子回覆",defaultValue:false,type:"checkbox"},bRemovePageBoxes:{desc:"移除轉頁格",defauleValue:false,type:"checkbox"},bAjaxifyReplying:{desc:"AJAX化回覆",defaultValue:true,type:"checkbox"},bShowPageNo:{desc:"顯示資料: 本頁頁數",defaultValue:true,type:"checkbox"}},once:function(jDoc){jDoc.defer(1,"移除原有轉頁功能",function(){window.changePage=$.blank});var jPageTools;var handlePage=function(jScope){var jTable=$(".repliers:last",jScope).up("table");(oPages[nCurPageNo]={jDiv:jTable.parent(),jEndTable:jTable.next().next(),jPageBoxes:$("select[name=page]",jScope).up("div",3)}).jPageBoxes.find("a").click(getPage).end().find("select").data("an-pageNo",nCurPageNo).change(getPage);if(!oPages.nLastest||oPages.nLastest<nCurPageNo){oPages.nLastest=nCurPageNo}};var getPage=function(event){AN.shared("log","正在準備轉頁...");if(event){event.preventDefault()}toggleTimer(false);var handleLeftOver=function(jDiv){if(!AN.util.getOptions("bAppendReplies")){oPages[nCurPageNo].jDiv.hide()}if(event){(jDiv||oPages[nTargetPageNo].jDiv)[0].scrollIntoView()}$("#an-info-curpage").text($.sprintf("第%s頁",nTargetPageNo)).attr("href",AN.util.getURL({page:nTargetPageNo}));nCurPageNo=nTargetPageNo};var nTargetPageNo;if(!event){nTargetPageNo=nCurPageNo+1}else{var jThis=$(this);if(jThis.is("a")){nTargetPageNo=AN.util.getPageNo(this.href)*1}else{nTargetPageNo=jThis.val()*1;var jTemp=$("<span></span>");jThis.after(jTemp).insertAfter(jTemp);jTemp.remove();jThis.val(jThis.data("an-pageNo"))}}if(oPages[nTargetPageNo]){AN.shared("log2","正從快取中讀取資料...");oPages[nTargetPageNo].jDiv.show();handleLeftOver();AN.shared("log","轉頁完成");getReplies()}else{AN.shared("log2",$.sprintf("正在讀取第%s頁...",nTargetPageNo));$.getDoc(AN.util.getURL({page:nTargetPageNo}),function(jNewDoc){var jNewDiv=jNewDoc.find(".repliers:first").up("div");jNewDiv.prepend(jNewDiv.prev()).children(":last").prevAll("div:eq(2)").nextAll().remove();if(AN.util.getOptions("bAppendReplies")){if(AN.util.getOptions("bRemovePageBoxes")){jNewDiv.children(":lt(2),:gt(-2)").hide()}}if(nTargetPageNo>oPages.nLastest){jNewDiv.insertAfter(oPages[oPages.nLastest].jDiv)}else{for(var sPage=1;sPage<=oPages.nLastest;sPage++){if(oPages[sPage]&&nTargetPageNo<sPage){jNewDiv.insertBefore(oPages[sPage].jDiv);break}}}handleLeftOver(jNewDiv);handlePage(jNewDiv);AN.shared("log","轉頁完成");AN.modFn.execMods(jNewDiv);toggleTimer(true,false)})}};var getReplies=function(bGetNext){toggleTimer(false);if(oPages[nCurPageNo].jPageBoxes.eq(0).find("option:selected").next().length){if(AN.util.getOptions("bAppendReplies")&&bGetNext&&!oPages[nCurPageNo+1]){getPage(null)}return}if(nCurPageNo==41){AN.shared("log","1001!");return}AN.shared("log","正在讀取最新回覆...");$.getDoc(AN.util.getURL({page:nCurPageNo}),function(jNewDoc){var jNewReplies=jNewDoc.find(".repliers").up("table");if(!jNewReplies.length){AN.shared("log","回覆讀取失敗!")}else{jNewReplies=jNewReplies.filter($.sprintf(":gt(%s)",oPages[nCurPageNo].jDiv.find(".repliers").length-1));var nNew=jNewReplies.length;if(nNew){oPages[nCurPageNo].jDiv.find("strong:first").text(jNewDoc.find("strong:first").text());jNewReplies.each(function(){oPages[nCurPageNo].jEndTable.before($(this).add($(this).next()))});AN.shared("log",$.sprintf("加入%s個新回覆",nNew))}if(oPages[nCurPageNo].jPageBoxes.eq(0).find("option").length!=jNewDoc.find("select[name=page]:first").children().length){oPages[nCurPageNo].jPageBoxes.replaceWith(jNewDoc.find("select[name=page]:first").up("table"));handlePage(oPages[nCurPageNo].jDiv);AN.shared("log","發現下一頁, 連結建立");AN.modFn.execMods(oPages[nCurPageNo].jPageBoxes.add(jNewReplies));if(bGetNext&&AN.util.getOptions("bAppendReplies")){getPage(null)}return}if(nNew){AN.modFn.execMods(jNewReplies)}else{AN.shared("log","沒有新回覆")}}toggleTimer(true,true)})};var checkBottom=function(){var nDifference=oPages[nCurPageNo].jDiv.offset().top+oPages[nCurPageNo].jDiv.height()-$().scrollTop()-$.winHeight();if(nDifference<500&&nDifference>-500){getReplies(true)}else{tCheck=setTimeout(arguments.callee,500)}};var bTimerOn=false;var toggleTimer=function(bToSet,bDeferCheck){if(!AN.util.getOptions("bCheckOnBottom")||oPages[nCurPageNo+1]){return}if(bToSet){if(bTimerOn){return}bTimerOn=true;if(!bDeferCheck){return checkBottom()}var nRemain=nInterval;(function(){if(nRemain<0){return checkBottom()}$("#an-info-ajaxtimer").html(nRemain--+"秒");tCheck=setTimeout(arguments.callee,1000)})()}else{bTimerOn=false;clearTimeout(tCheck);$("#an-info-ajaxtimer").html("N/A")}};var nCurPageNo=jDoc.pageNo();var oPages={};var tCheck;var nInterval=AN.util.getOptions("nCheckInterval");if(nInterval<30){nInterval=30}handlePage();oPages[nCurPageNo].jDiv.prepend(oPages[nCurPageNo].jDiv.prev()).after($("#newmessage").prevAll("div:eq(2)").nextAll());if(AN.util.getOptions("bAppendReplies")&&AN.util.getOptions("bRemovePageBoxes")){oPages[nCurPageNo].jPageBoxes.hide()}if(AN.util.getOptions("bCheckOnBottom")){AN.shared("addInfo",'距離更新: <span id="an-info-ajaxtimer">N/A</span>');toggleTimer(true,false)}if(AN.util.getOptions("bAddCheckBtn")){jDoc.defer(2,"加入讀取按扭",function(){AN.shared("addButton","更新帖子",function(){getReplies(true)})})}if(AN.util.getOptions("bShowPageNo")){AN.shared("addInfo",$.sprintf('本頁頁數: <a id="an-info-curpage" href="%s">第%s頁</a>',location.href,nCurPageNo))}if(AN.util.getOptions("bAjaxifyReplying")){$("#aspnetForm")[0].onsubmit=function(){toggleTimer(false);AN.shared("log","正在發送回覆...");$.post(location.href,$("#aspnetForm").serialize()+"&ctl00%24ContentPlaceHolder1%24btn_Submit.x=0&ctl00%24ContentPlaceHolder1%24btn_Submit.y=0",function(sHTML){if($.doc(sHTML).pageName()!="view"){return AN.shared("log","回覆發送失敗!")}$("#ctl00_ContentPlaceHolder1_messagetext").val("");$("#previewArea").empty();AN.shared("log","回覆發送完成");getReplies()});return false}}}},"bc2521cd-cf65-4cc5-ac9d-4fedef3c3a97":{desc:"AJAX式列表更新",page:{4:true},type:7,options:{nNumOfTopicPage:{desc:"列表顯示數量",defaultValue:1,type:"text"},bAddGetBtn_T:{desc:"加入更新列表按扭",defaultValue:true,type:"checkbox"},bAutoRefresh_T:{desc:"預設啟用自動更新",defaultValue:false,type:"checkbox"},bAddToggleAutoBtn_T:{desc:"加入切換自動更新按扭",defaultValue:false,type:"checkbox"},nRefreshInterval_T:{desc:"自動更新間隔(秒)",defaultValue:30,type:"text"}},once:function(jDoc){var refreshTopics=function(nPage){clearTimeout(tRefresh);if(isNaN(nPage)||nPage<1){nPage=1;AN.shared("log","正在讀取最新列表...")}$.getDoc(AN.util.getURL({page:nPage}),function(jNewDoc){var jNewTbody=jNewDoc.topics().jTbody;var jTopicTable=$().topicTable();if(nPage==1){jTopicTable.empty()}jTopicTable.append(jNewTbody);if(nPage==AN.util.getOptions("nNumOfTopicPage")){AN.modFn.execMods($(document).topicTable());AN.shared("log","列表更新完成");if(bAutoRefresh){AN.shared("log2",$.sprintf("%s秒後再次重新整埋....",nInterval));setNextRefresh()}}else{refreshTopics(nPage+1)}})};if(AN.util.getOptions("nNumOfTopicPage")>1){setTimeout(function(){refreshTopics(2)},0)}var setNextRefresh=function(){tRefresh=setTimeout(refreshTopics,nInterval*1000)};if(AN.util.getOptions("bAddGetBtn_T")){jDoc.defer(2,"加入更新按扭",function(){AN.shared("addButton","更新列表",refreshTopics)})}var tRefresh;var bAutoRefresh=AN.util.getOptions("bAutoRefresh_T");var nInterval=AN.util.getOptions("nRefreshInterval_T");if(nInterval<30){nInterval=30}if(bAutoRefresh){setNextRefresh()}if(AN.util.getOptions("bAddToggleAutoBtn_T")){AN.shared("addButton","切換自動更新",function(){if(bAutoRefresh){clearTimeout(tRefresh);AN.shared("log","已停用自動更新")}else{setNextRefresh();AN.shared("log","已啟用自動更新")}bAutoRefresh=!bAutoRefresh})}}}}};AN.mod.Kernel={ver:"N/A",author:"向日",fn:{Kernel_Initializer:{desc:"初始化",page:{65535:"comp"},type:1,once:function(jDoc){if(!$("head").length){$("html").prepend(document.createElement("head"))}$.ajaxSetup({cache:false,contentType:"application/x-www-form-urlencoded; charset=UTF-8"});var AN_VER="3.5b";if(AN.util.data("AN-version")!=AN_VER){if(AN.util.data("AN-version")){AN.util.storage(null);AN.util.data("AN-version",AN_VER);alert("由於內核改動, 所有設定已被重設.\n不便之處, 敬請原諒.");return location.reload()}AN.util.data("AN-version",AN_VER)}if($().pageName()=="view"){$("select[name=page]").val(AN.util.getPageNo(location.href))}}},"a599dafa-b550-4b28-921a-019c72f481e5":{desc:"除錯模式 [除錯按扭、更準確評測結果等]",page:{65535:false},type:1,once:function(jDoc){AN.box.debugMode=true;AN.util.addStyle("");AN.util.getOptions();AN.util.getOptions.oOptions.bAutoShowLog=true;AN.util.getOptions.oOptions.bShowDetailLog=true;if($().pageCode()&92){jDoc.topics()}else{if($().pageName()=="view"){jDoc.replies()}}jDoc.defer(1,"加入啟動Firebug Lite的按扭",function(){AN.shared("addButton","啟動Firebug Lite",function(){$.getScript("http://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js",function(){window.firebug.init()})})})}},"12c98ebc-873c-4636-a11a-2c4c6ce7d4c2":{desc:"設定內核樣式",page:{65535:"comp"},type:2,options:{sUIFontColor:{desc:"UI主顏色",defaultValue:"#808080",type:"text"},sUIHoverColor:{desc:"UI連結懸浮顏色",defaultValue:"#9ACD32",type:"text"},sMainFontColor:{desc:"論壇主要字體顏色",defaultValue:"#000000",type:"text"},sMainBorderColor:{desc:"論壇主要邊框顏色",defaultValue:"#000000",type:"text"},sSecBorderColor:{desc:"論壇次要邊框顏色",defaultValue:"#CCCCCC",type:"text"},sMainBgColor:{desc:"論壇主要背景顏色",defaultValue:"#FFFFFF",type:"text"},sSecBgColor:{desc:"論壇次要背景顏色",defaultValue:"#F8F8F8",type:"text"},sMainHeaderFontColor:{desc:"論壇標題字體顏色",defaultValue:"#FFFFFF",type:"text"},sMainHeaderBgColor:{desc:"論壇標題背景顏色",defaultValue:"#336699",type:"text"}},once:function(){AN.util.stackStyle($.sprintf(' 		#an, #an legend { color: %(sMainFontColor)s; } 				.an-forum, .an-forum textarea { background-color: %(sSecBgColor)s; } 		.an-forum input[type="text"], .an-forum select { background-color: %(sMainBgColor)s; border: 1px solid %(sMainBorderColor)s; } 		.an-forum, .an-forum h4, .an-forum div, .an-forum td, .an-forum dl, .an-forum dt, .an-forum dd, .an-forum ul, .an-forum li, .an-forum a, .an-forum fieldset, .an-forum hr { border: 0 solid %(sMainBorderColor)s; } 		.an-forum * { color: %(sMainFontColor)s; } 		.an-forum a { text-decoration: none; } 		.an-forum a:hover { text-decoration: underline; } 		.an-forum table { width: 100%; border-collapse: collapse; } 		.an-forum td { line-height: 1.5em; padding: 0 0.2em; border-width: 1px; } 		.an-forum-header[class], .an-forum thead td { color: %(sMainHeaderFontColor)s; background-color: %(sMainHeaderBgColor)s; } 		.an-forum-header[class] { border-bottom-width: 1px; } 				.an-content-note, .an-content-line, .an-content-box { color: %(sUIFontColor)s; } 		.an-content-note { margin-right: 2px; cursor: default; } 		.an-content-line { font-size: 0.625em; font-style: italic; } 		.an-content-box { display: inline-block; border: 1px solid; padding: 1px 2px; } 		a.an-content-line, a.an-content-box { text-decoration: none !important; } 		a.an-content-line:hover, a.an-content-box:hover { color: %(sUIHoverColor)s; } 		',AN.util.getOptions()))}},"78af3c29-9bf2-47ee-80bf-a3575b711c73":{desc:"自動檢查更新",defer:5,page:{4:true},type:1,options:{bAlsoCheckBeta:{desc:"同時檢查Beta版本",defaultValue:false,type:"checkbox"},nCheckUpdateInterval:{desc:"檢查更新間隔(小時)",defaultValue:1,type:"text"}},once:function(){var nInterval=AN.util.getOptions("nCheckUpdateInterval");if(isNaN(nInterval)||nInterval<1){nInterval=1}var nLastChecked=AN.util.data("nLastChecked")||0;if($.time()-AN.util.data("nLastChecked")<3600000*nInterval){return}AN.util.getData("main",function(oMain){AN.util.data("nLastChecked",$.time());var sType=AN.util.getOptions("bAlsoCheckBeta")?"beta":"stable";if(oMain.ver[sType]["annuus"]===undefined){return}var aLastest=oMain.ver[sType]["annuus"].split(".");var aCurrent=AN.version.split(".");for(var i=0;i<aLastest.length;i++){if(aCurrent[i]!=aLastest[i]){if(aCurrent[i]<aLastest[i]&&confirm("發現新版本!\n按確定進行更新")){var sPrefix="http://helianthus-annuus.googlecode.com/svn/dist/v3/"+sType;if(navigator.userAgent.indexOf("MAXTHON 2.0")!=-1){window.open(sPrefix+"/annuus.m2f","_self")}else{if($.browser.mozilla&&typeof unsafeWindow!="undefined"){window.open(sPrefix+"/user/annuus.user.js","_self")}}window.open("http://code.google.com/p/helianthus-annuus/wiki/Changelog","_blank")}break}}})}},"c217bf55-6d44-42d1-8fc2-2cd1662d604a":{desc:"轉頁後再次運行功能",page:{64:true},type:1,once:function(){window.Profile_ShowGoogleAds=AN.modFn.execMods}},"722b69f8-b80d-4b0e-b608-87946e00cfdc":{desc:"強制鎖定闊度",page:{65534:true},type:3,infinite:function(){AN.util.stackStyle(" 		body { word-wrap: break-word; } 		.ListPMText table, .repliers table { overflow-x: hidden; table-layout: fixed; } 		")}},"1b804b67-40ab-4750-8759-e63346d289ef":{desc:"設定論壇浮動物件至最上層",page:{65534:true},type:4,infinite:function(){AN.util.stackStyle(".TransparentGrayBackground, .TransparentGrayBackground + * { z-index: 10; }")}}}};AN.mod["Layout Designer"]={ver:"N/A",author:"向日",fn:{"4bf6619f-2cd8-4aa2-a54a-e7d72wgs8603":{desc:"修正改變搜尋列時可能造成的顯示錯誤",page:{4:true},type:3,once:function(){AN.util.stackStyle(".Topic_FunctionPanel > .ClearLeft { clear: both; } /*-> IE bug fix? ->*/ .Topic_FunctionPanel { overflow: hidden; }")}},"5e173905-9c47-4f37-8d3f-4c31ea871115":{desc:"隱藏頂部按扭",page:{65534:false},type:3,once:function(){AN.util.stackStyle(".TopMenuBox { visibility: hidden; }")}},"7af1060d-d38c-40b9-b16b-df1bb799cb74":{desc:"隱藏Logo列",page:{65534:false},type:3,once:function(){AN.util.stackStyle(".TopBannerBox { display: none; }")}},"7ca54ba4-e2b7-489c-9adc-7ac7d62012f0":{desc:"隱藏按扭列",page:{65534:false},type:3,once:function(){AN.util.stackStyle(".TopMenuPanel + .PageWidthContainer { display: none; }")}},"d0164ba6-a5a2-4850-ab67-658b840fd3ef":{desc:"隱藏繁簡轉換/addThis列",page:{65534:false},type:3,once:function(){AN.util.stackStyle("		.PageMiddleFunctions { height: 5px; } 		.PageMiddleFunctions > div { display: none; } 		")}},"a7dc713c-2d23-4254-be8b-16cf6e9bbe8f":{desc:"優化addThis組件",page:{65534:false},type:3,once:function(){AN.util.stackStyle("		.addthis_toolbox { padding-top: 3px; } 		.addthis_toolbox > a, .addthis_toolbox > span { font-family: arial !important; color: black; } 		")}},"bbd5f176-c024-4684-ba98-b72da376a6eb":{desc:"隱藏最底頁腳",page:{65534:false},type:3,once:function(){AN.util.stackStyle(".FooterPanel { display: none; }")}},"5fd907ce-21dc-44b9-b280-3cb145c53c92":{desc:"隱藏頁底空白",page:{65534:false},type:3,once:function(){AN.util.stackStyle(".FooterPanel ~ br { display: none; }")}},"8c317615-b5e7-4b1a-a140-b7319c5b0a5b":{desc:"隱藏Bookmark Bar",page:{65534:false},type:3,once:function(){AN.util.stackStyle("#hkg_bottombar { display: none; }")}},"d1dc862f-a7b3-4b29-a50f-440fc9c5fef0":{desc:"縮短Bookmark Bar",page:{65534:true},type:3,once:function(){AN.util.stackStyle("#hkg_bottombar { width: auto; }")}},"02837e6a-3dd7-4c73-a155-90d6f6edd8f9":{desc:"拉闊頁面",page:{65534:false},type:3,options:{nPageWidth:{desc:"頁面闊度 [可設定為auto, 80%, 1000px等]",defaultValue:"auto",type:"text"}},once:function(){AN.util.addStyle($.sprintf('		.PageWidthContainer { width: %s; } 		table[width="99%"], table[width="800"], td[width="801"], td[width="792"] { width: 100%; } 		#ctl00_ContentPlaceHolder1_ProfileForm td[width="8"] { display: none; } 		',AN.util.getOptions("nPageWidth")))}},"8d53fef9-818f-46d1-99b8-5e199453b360":{desc:"隱藏討論區資訊",page:{24:false},type:3,once:function(){AN.util.stackStyle("#ctl00_ContentPlaceHolder1_topics_form > script:first-child + table { display: none; }")}},"1c63cc45-21f7-40ab-905a-730dabffc2ab":{desc:"隱藏高登公告",page:{36:false},type:3,once:function(){AN.util.stackStyle("		#ctl00_ContentPlaceHolder1_view_form > script:first-child + table + table tr:first-child, 		.DivResizableBoxContainer 			{ display: none; } 		")}},"b44ee3a6-950e-4b2a-b99a-399b6384bcce":{desc:"隱藏搜尋列上下空白",page:{28:false},type:3,once:function(){AN.util.stackStyle("		#ctl00_ContentPlaceHolder1_MiddleAdSpace1 > div { padding: 0 !important; } 		");if($().pageName()=="topics"){AN.util.stackStyle("			.Topic_FunctionPanel { margin-top: 3px; } 			#ctl00_ContentPlaceHolder1_MiddleAdSpace1 { margin-top: 5px !important; } 			")}else{AN.util.stackStyle('			td[valign="bottom"] > br:first-child { display: none; } 			td[valign="bottom"] > p { margin: 0; } 			')}}},"1ada74ac-9bae-47b2-914b-f1556dbab1a2":{desc:"隱藏討論區選單",page:{28:false},type:3,once:function(){if($().pageName()=="topics"){AN.util.stackStyle("#forum_list, #forum_list + br { display: none; }")}else{AN.util.stackStyle("#ctl00_ContentPlaceHolder1_topics_form > div + table table:first-child { display: none; }")}}},"4bf6619f-2cd8-4aa2-a54a-e7d7255e8603":{desc:"隱藏熱門關鍵字",page:{30:false},type:3,once:function(){AN.util.stackStyle("#ctl00_ContentPlaceHolder1_lb_HitSearchs { display: none; }")}},"a5d7f8f0-99fc-4aaf-8c65-373b17cfcf69":{desc:"隱藏投票站連結(如有)",page:{60:false},type:3,once:function(){AN.util.stackStyle("#ctl00_ContentPlaceHolder1_MiddleAdSpace1 { display: none; }")}},"f41e288e-cd1d-4649-a396-83d92d99ded8":{desc:"隱藏紅人榜",page:{4:false},type:3,once:function(){AN.util.stackStyle("#ctl00_ContentPlaceHolder1_HotPeoples, #ctl00_ContentPlaceHolder1_HotPeoples + br { display: none; }")}},"964d6cf5-9e46-43f6-ba1a-b11adf1292b1":{desc:"隱藏高級會員頭像",page:{32:false},type:3,once:function(){AN.util.stackStyle('img[alt="Logo"] { display: none; }')}},"9aebeb97-8507-4553-995d-0903dc764ec3":{desc:"隱藏會員級別圖片",page:{32:false},type:3,once:function(){AN.util.stackStyle('img[src^="labels/"] { display: none; }')}},"a0203b01-7565-46e1-a52e-260dd4d485a1":{desc:"隱藏引用",page:{32:false},type:3,once:function(){AN.util.stackStyle(".repliers_right blockquote { display: none; }")}},"26eaf7f8-d260-4b42-b6d9-08b235f56d43":{desc:"隱藏引用原文連結",page:{32:false},type:3,options:{bCDROMMode:{desc:"同時隱藏快速引用連結及登入提示 [CD-ROM專用]",defaultValue:false,type:"checkbox"}},once:function(){var sSelector='a[href^="post.aspx?mt=Y&rid="]';if(AN.util.getOptions("bCDROMMode")){sSelector+=',a[href*="QuoteReply("],#ct100_ContentPlaceHolder1_QuickReplyLoginTable'}AN.util.stackStyle(sSelector+"{ display: none; }")}},"2c026f6b-f252-4a58-b2ac-706fcd052fb6":{desc:"隱藏快速回覆組件",page:{32:false},type:3,options:{bRemNameRow:{desc:"隱藏名字列",defaultValue:false,type:"checkbox"},bRemTopicRow:{desc:"隱藏主旨列",defaultValue:false,type:"checkbox"},bRemClassicRow:{desc:"隱藏經典表情圖示列",defaultValue:false,type:"checkbox"},bRemTempRow:{desc:"隱藏附加表情圖示列(如有)",defaultValue:false,type:"checkbox"},bRemPreviewRow:{desc:"隱藏預覽列",defaultValue:false,type:"checkbox"}},once:function(){if(!AN.util.isLoggedIn()){return}var jTbody=$("#ctl00_ContentPlaceHolder1_QuickReplyTable tbody:eq(2)");if(AN.util.getOptions("bRemNameRow")){jTbody.children("tr:eq(0)").hide()}if(AN.util.getOptions("bRemTopicRow")){jTbody.children("tr:eq(1)").hide()}if(AN.util.getOptions("bRemClassicRow")){jTbody.children("tr:eq(3)").hide()}if(AN.util.getOptions("bRemTempRow")&&jTbody.children().length>5){jTbody.children("tr:eq(4)").next().andSelf().hide()}if(AN.util.getOptions("bRemPreviewRow")){jTbody.children("tr:last").hide()}}},"1e2a7c96-a096-4a45-9909-c196ddabc286":{desc:"隱藏紅人榜記錄",page:{64:false},type:3,once:function(){AN.util.stackStyle("#ctl00_ContentPlaceHolder1_UpdatePanelPM + br, #ctl00_ContentPlaceHolder1_HotPeoples { display: none; }")}},"c18ff3e6-b9fc-4786-95d6-1c1bc800172a":{desc:"隱藏書籤",page:{64:false},type:3,once:function(){AN.util.stackStyle("#ctl00_ContentPlaceHolder1_HotPeoples + br, #ctl00_ContentPlaceHolder1_BookmarkTable { display: none; }")}},"222f0c01-1ebd-49d6-b7f4-b1b7fc60ca40":{desc:"隱藏起底列表",page:{64:false},type:3,once:function(){AN.util.stackStyle("#ctl00_ContentPlaceHolder1_siteUpdateProgress + table { display: none; }")}},"e424fe8d-852b-4239-b797-6aa682e68c39":{desc:"修正表格闊度",page:{1024:true},type:3,once:function(){AN.util.stackStyle('table[width="800"] { width: 100%; }')}}}};AN.mod["Main Script"]={ver:"N/A",author:"向日",fn:{"63d2407a-d8db-44cb-8666-64e5b76378a2":{desc:"隱藏廣告",page:{65535:true},type:3,options:{bRetroHideAds:{desc:"相容性模式",defaultValue:false,type:"checkbox"}},once:function(){$.each({65535:"			#HKGTopAd { display: none; } 			",2:"			#ctl00_ContentPlaceHolder1_MiddleAdSpace1, /* text ad */			.ContentPanel > div > div:first-child, /* flash ad */			#ctl00_ContentPlaceHolder1_lb_NewPM + br /* blank line */				{ display: none; } 			",4:"			.ContentPanel > table { width: 100%; } 			.ContentPanel > table > tbody > tr > td:first-child { width: auto !important; } 			.ContentPanel > table > tbody > tr > td:first-child + td 				{ display: none; } 			",24:"			.Topic_ForumInfoPanel table td { padding-bottom: 5px; } /* forumInfo blanks */			#ctl00_ContentPlaceHolder1_lb_NewPM + br ~ br, /* forumInfo blanks */			.Topic_ForumInfoPanel tr:first-child + tr ~ tr, /* 高登活動資訊 */			#ctl00_ContentPlaceHolder1_topics_form > script:first-child + table td + td /* flash ad */				{ display: none; } 			#ctl00_ContentPlaceHolder1_topics_form > script:first-child + table td:first-child, /* fix forumInfo width, IE only */			#ctl00_ContentPlaceHolder1_topics_form > script:first-child + table /* fix forumInfo width */				{ width: 100% !important; } 			",32:$.sprintf('			#ctl00_ContentPlaceHolder1_view_form > script:first-child + div { width: 100% !important; } 			#ctl00_ContentPlaceHolder1_view_form > script:first-child + div + div { display: none; } 			div[style*="58px"] , /* top & bottom ads */			#ctl00_ContentPlaceHolder1_view_form > div > table[width="100%"] > tbody > tr + tr /* inline ads */				{ display: none; } 			#ctl00_ContentPlaceHolder1_view_form > div[style^="%(border)s"], #ctl00_ContentPlaceHolder1_view_form > div[style*="100%"] > div[style^="%(border)s"] { border-bottom: 0 !important; } 			',{border:$.browser.msie?"BORDER":"border"}),38:"			#MainPageAd2 + br + br + div { padding-bottom: 10px !important; } 			#MainPageAd2, #MainPageAd2 ~ br, /* text ads */			#ctl00_ContentPlaceHolder1_lb_NewPM + br 				{ display: none; } 			",60:'			#ctl00_ContentPlaceHolder1_MiddleAdSpace1 div[style*="right"] { display: none; } /* text ad */			',64:"			/* inline ads */			.main_table1 tr { display: none; } 			.main_table1 tr[style], .main_table1 tr:first-child, #ctl00_ContentPlaceHolder1_ProfileForm > table > tbody > tr > td > table:first-child .main_table1 tr { display: table-row; } 			"},function(nPageCode){$().pageCode()&nPageCode&&AN.util.stackStyle(this)});if(AN.util.getOptions("bRetroHideAds")){AN.util.stackStyle('td[height="52"] { display: none; }')}else{if($().pageCode()&28){if($.browser.msie){AN.util.stackStyle($.sprintf($().pageName()=="topics"?"				#HotTopics tr:first-child+tr%(extra)s, 				#HotTopics tr:first-child+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr%(extra)s, 				#HotTopics tr:first-child+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr%(extra)s, 				#HotTopics tr:first-child+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr%(extra)s 					{ display: none; } 				":'				#ctl00_ContentPlaceHolder1_topics_form > div + table + table tr:first-child+tr%(extra)s, 				#ctl00_ContentPlaceHolder1_topics_form > div + table + table tr:first-child+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr%(extra)s, 				#ctl00_ContentPlaceHolder1_topics_form > div + table + table tr:first-child+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr%(extra)s, 				#ctl00_ContentPlaceHolder1_topics_form > div + table + table tr:first-child+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr+tr%(extra)s, 				td[height="52"] 					{ display: none; } 				',{extra:$('#aspnetForm[action*="type=MB"]').length?"+tr":""}))}else{AN.util.stackStyle($.sprintf($().pageName()=="topics"?"				#HotTopics tr:nth-child(11n+%(num)s) 					{ display: none; } 				":"				#ctl00_ContentPlaceHolder1_topics_form > div + table + table tr:nth-child(11n+%(num)s), 				#ctl00_ContentPlaceHolder1_topics_form > div + table + table table tr:last-child 					{ display: none; } 				",{num:$('#aspnetForm[action*="type=MB"]').length?3:2}))}}}},infinite:function(){if(AN.util.getOptions("bRetroHideAds")){$('td[height="52"]').parent().hide()}}},"11f1c5ca-9455-4f8e-baa7-054b42d9a2c4":{desc:"自動轉向正確頁面",page:{2:true},type:4,once:function(){if(document.referrer.indexOf("/login.aspx")>0){location.replace("/topics.aspx?type=BW")}else{if(!location.pathname.match(/^\/(?:default.aspx)?$/i)){location.reload()}}}},"b7ef89eb-1190-4466-899a-c19b3621d6b1":{desc:"Opera: 修正無法使用Enter搜尋的錯誤",page:{30:$.browser.opera||"disabled"},type:4,once:function(){$("#aspnetForm").submit(function(event){event.preventDefault()})}},"2d4e139c-224c-44fb-824e-606170276c76":{desc:"IE: 修正用戶名稱搜尋連結",page:{92:$.browser.msie||"disabled"},type:4,infinite:function(jDoc){jDoc.topics().jNameLinks.each(function(){this.href="/search.aspx?st=A&searchstring="+escape($(this).html())})}},"d4bf67cc-349c-4541-a8e4-9d9f9d0be267":{desc:"Opera: 修正特殊字符導致的顯示錯誤",page:{92:$.browser.opera||"disabled"},type:4,infinite:function(jDoc){jDoc.topics().jNameLinks.each(function(){var jNameCell=$(this).parent();if(jNameCell.nextAll().length!=2){jNameCell[0].outerHTML=jNameCell[0].outerHTML.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<A.+?\/a>/,"NAME_ERROR").replace(/=""/g,"")}})}},"0293c9da-468f-4ed5-a2d7-ecb0067e713f":{desc:"去除引用半透明",page:{32:!$.browser.msie||"disabled"},type:4,once:function(){AN.util.stackStyle("blockquote { opacity: 1 !important; }")}},"d563af32-bd37-4c67-8bd7-0721c0ab0b36":{desc:"優化頁數跳轉連結地址",page:{32:true},type:4,once:function(){window.changePage=function(nPageNo){var sPage=(nPageNo)?("&page="+nPageNo):"";var sHighlight=(window.highlight_id)?("&highlight_id="+window.highlight_id):"";location.assign($.sprintf("/view.aspx?message=%s%s%s",window.messageid,sPage,sHighlight))}},infinite:function(jDoc){jDoc.find("select[name=page]").up("tr").find("a").each(function(){this.href=this.href.replace(/&(?:page=1(?!\d)|highlight_id=0)/g,"")})}},"b6b232c8-1f26-449e-bb0d-2b7826bf95ef":{desc:"優化圖片縮放",page:{32:true,192:true},type:4,once:function(jDoc){window.DrawImage=$.blank;AN.util.stackStyle("img[onload] { width: auto; height: auto; max-width: 100% }")}},"52ebe3d3-bf98-44d2-a101-180ec69ce290":{desc:"移除帖子連結高亮部份",page:{64:false},type:4,infinite:function(jDoc){jDoc.topics().jTitleCells.find("a").each(function(){this.href=this.href.replace(/&highlight_id=\d+/,"")})}},"87a6307e-f5c2-405c-8614-af60c85b101e":{desc:"搜尋開新頁",page:{4:false,24:false},type:4,once:function(){window.Search=function(){var sType=$("#st").val();var sQuery=escape($("#searchstring").val());window.open(sType=="tag"?"tags.aspx?tagword=".concat(sQuery):$.sprintf("search.aspx?st=%s&searchstring=%s",sType,sQuery),"_blank");$("#searchstring").val("")}}},"a93f1149-d11b-4b72-98dd-c461fd9ee754":{desc:"連結開新頁",page:{4:false,24:false,64:false},type:4,options:{bTopicLinksOnly:{desc:"只限帖子連結",defaultValue:false,type:"checkbox"}},infinite:function(jDoc){if(AN.util.getOptions("bTopicLinksOnly")){jDoc.topics().jTitleCells.find("a").attr("target","_blank")}else{$("#aspnetForm a").filter(function(){return/(?:ProfilePage|newmessages|view|search)\.aspx/.test(this.href)}).attr("target","_blank")}}},"2ab2f404-0d35-466f-98a5-c88fdbdaa031":{desc:"外鏈連結開新頁",defer:1,page:{32:true},type:4,infinite:function(jDoc){jDoc.replies().jContents.find("a").attr("target","_blank")}},"6e978310-e87b-4043-9def-076a13377c19":{desc:"更換favicon(小丑icon) [部份瀏覽器無效]",page:{65534:false},type:4,once:function(){$("head").append('<link rel="shortcut icon" href="http://helianthus-annuus.googlecode.com/svn/other/hkg.ico" />')}},"e54d5c5f-47ae-4839-b4e8-6fc3733edfef":{desc:"改進公司模式",page:{65534:true},type:4,options:{sCModeFavicon:{desc:"favicon連結位置",defaultValue:"http://www.google.com/favicon.ico",type:"text"},sCModeTitle:{desc:"標題名稱",defaultValue:"Google",type:"text"}},once:function(){if(AN.util.cookie("companymode")=="Y"){$("head").append($.sprintf('<link rel="shortcut icon" href="%s" />',AN.util.getOptions("sCModeFavicon")));document.title=AN.util.getOptions("sCModeTitle")}}},"231825ad-aada-4f5f-8adc-5c2762c1b0e5":{desc:"顯示資料: 樓主名稱",page:{32:false},type:5,once:function(jDoc){AN.util.getOpenerInfo(jDoc,function(oInfo){AN.shared("addInfo",$.sprintf('樓主: <a target="_blank" href="/ProfilePage.aspx?userid=%s">%s</a>',oInfo.sId,oInfo.sName))})}},"9e181e79-153b-44d5-a482-5ccc6496a172":{desc:"顯示資料: 累計在線時間",page:{65534:false},type:5,once:function(){var nLastOnTime=AN.util.data("nLastOnTime");var nCumulatedTime=AN.util.data("nCumulatedTime")||0;if(nLastOnTime){var nDifference=$.time()-nLastOnTime;nCumulatedTime+=(nDifference>=120000)?120000:nDifference}var sCumulated;if(nCumulatedTime>86400000){sCumulated=(nCumulatedTime/86400000).toFixed(2)+" days"}else{if(nCumulatedTime>3600000){sCumulated=(nCumulatedTime/3600000).toFixed(2)+" hours"}else{sCumulated=(nCumulatedTime/60000).toFixed(2)+" minutes"}}AN.shared("addInfo",$.sprintf("在線時間: %s",sCumulated));AN.util.data("nLastOnTime",$.time());AN.util.data("nCumulatedTime",nCumulatedTime)}},"f47e77c8-6f1a-43b2-8493-f43de222b3b4":{desc:"加入伺服器狀態顯示按扭",page:{65534:true},type:5,once:function(){AN.shared("addButton","伺服器狀態",AN.shared.serverTable)}},"7de28ca9-9c44-4949-ad4a-31f38a984715":{desc:"加入一鍵留名按扭",page:{32:false},type:5,options:{sLeaveNameMsg:{desc:"回覆內容",defaultValue:"留名",type:"text"}},once:function(){if(!AN.util.isLoggedIn()){return}AN.shared("addButton","一鍵留名",function(){$("#ctl00_ContentPlaceHolder1_messagetext").val(AN.util.getOptions("sLeaveNameMsg"));$("#ctl00_ContentPlaceHolder1_btn_Submit").click()})}},"69260bc4-4f43-4dda-ba0f-87ba804a866c":{desc:"加入同步登入所有server的按扭",page:{65534:false},type:5,once:function(){AN.shared("addButton","登入所有server",function(){var sEmail,sPass;if(!(sEmail=prompt("請輸入電郵地址",""))){return}if(!(sPass=prompt("請輸入密碼",""))){return}var nServer=8;var aLeft=[];for(var i=1;i<=nServer;i++){aLeft.push(i)}var complete=function(bForce){if(aLeft.length==0||bForce){alert($.sprintf("登入完成!%s\n\n點擊確定重新整理頁面.",aLeft.length?$.sprintf("\n\n伺服器%s登入失敗!",aLeft.join(",")):""));location.reload()}};var login=function(nForum){var doc=this.contentWindow.document;var jThis=$(this);if(!doc.getElementById("aspnetForm")){AN.shared("log",$.sprintf("伺服器%s登入失敗!",nForum));complete();return}var _$=this.contentWindow.jQuery;_$("#ctl00_ContentPlaceHolder1_txt_email").val(sEmail);_$("#ctl00_ContentPlaceHolder1_txt_pass").val(sPass);_$.post("login.aspx",_$("#aspnetForm").serialize()+"&ctl00%24ContentPlaceHolder1%24linkb_login=",function(){$.each(aLeft,function(i,n){if(n==nForum){aLeft.splice(i,1);return false}});AN.shared("log",$.sprintf("伺服器%s登入成功!",nForum));complete()})};AN.shared("log","登入各伺服器中, 請稍候...");$.each(aLeft,function(i,nForum){$('<iframe style="display: none;"></iframe>').appendTo("#an").attr("src",$.sprintf("http://forum%s.hkgolden.com/login.aspx",nForum)).load(function(){login.call(this,nForum)}).error(function(){AN.shared("log",$.sprintf("伺服器%s登入失敗!",nForum));complete()})});setTimeout(function(){complete(true)},10000)})}},"13c276a5-f84e-4f53-9ada-45545ccc6b2e":{desc:"加入同步登出所有server的按扭",page:{65534:false},type:5,once:function(){AN.shared("addButton","登出所有server",function(){if(!confirm("確定登出所有server?")){return}var nServer=8;var aLeft=[];for(var i=1;i<=nServer;i++){aLeft.push(i)}var complete=function(bForce){if(aLeft.length==0||bForce){alert($.sprintf("登出完成!%s\n\n點擊確定重新整理頁面.",aLeft.length?$.sprintf("\n\n伺服器%s登出失敗!",aLeft.join(",")):""));location.reload()}};AN.shared("log","登出各伺服器中, 請稍候...");$.each(aLeft,function(i,nForum){$($.sprintf('<img src="http://forum%s.hkgolden.com/logout.aspx" />',nForum)).appendTo("#an").error(function(){$.each(aLeft,function(i,n){if(n==nForum){aLeft.splice(i,1);return false}});AN.shared("log",$.sprintf("伺服器%s登出完成!",nForum));complete()})});setTimeout(function(){complete(true)},10000)})}},"aad1f3ac-e70c-4878-a1ef-678539ca7ee4":{desc:"加入前往吹水台的快速連結",page:{65534:true},type:5,once:function(){AN.shared("addLink","吹水台","/topics.aspx?type=BW",1)}},"d0d76204-4033-4bd6-a9a8-3afbb807495f":{desc:"加入前往最頂/底的按扭",page:{32:true},type:5,once:function(){AN.shared("addLink","最頂",function(){scrollTo(0,0)},0);AN.shared("addLink","最底",function(){$("body")[0].scrollIntoView(false)},2)}},"b78810a2-9022-43fb-9a9b-f776100dc1df":{desc:"加入樓層編號",page:{32:true},type:5,infinite:function(jDoc){var nCurPageNo=jDoc.pageNo();var nFloor=((nCurPageNo==1)?0:25*(nCurPageNo-1)+1)+jDoc.pageScope().find(".an-content-floor").length;jDoc.replies().each(function(){$(this).find("span:last").append($.sprintf(' <span class="an-content-floor an-content-box">#%s</span>',nFloor++))})}},"3f693a9e-e79d-4d14-b639-a57bee36079a":{desc:"自動顯示伺服器狀態檢查視窗",page:{1:true},type:6,defer:5,once:function(){AN.shared("serverTable")}},"4cdce143-74a5-4bdb-abca-0351638816fa":{desc:"發表新帖子的主旨過長時進行提示",page:{256:true},type:6,once:function(jDoc){if(location.search.indexOf("mt=N")!=-1){$("#aspnetForm").submit(function(){var sTitle=$("#ctl00_ContentPlaceHolder1_messagesubject").val();var n=0;for(var i=0;i<sTitle.length;i++){n+=sTitle.charCodeAt(i)>255?2:1}if(n>50&&!confirm("主旨過長!(位元組 > 50)\n將導致帖子發表失敗或主旨被裁剪!\n\n確定要進行發表?")){return false}})}}},"86d24fc8-476a-4de3-95e1-5e0eb02b3353":{desc:"轉換表情碼為圖片",page:{92:true},type:6,infinite:function(jDoc){var rSmiley=/[#[](hehe|love|ass|sosad|good|hoho|kill|bye|adore|banghead|bouncer|bouncy|censored|flowerface|shocking|photo|fire|yipes|369|bomb|slick|no|kill2|offtopic)[\]#]/g;var aConvertMap=[{regex:/O:-\)/g,result:"angel"},{regex:/xx\(/g,result:"dead"},{regex:/:\)/g,result:"smile"},{regex:/:o\)/g,result:"clown"},{regex:/:-\(/g,result:"frown"},{regex:/:~\(/g,result:"cry"},{regex:/;-\)/g,result:"wink"},{regex:/:-\[/g,result:"angry"},{regex:/:-]/g,result:"devil"},{regex:/:D/g,result:"biggrin"},{regex:/:O/g,result:"oh"},{regex:/:P/g,result:"tongue"},{regex:/^3^/g,result:"kiss"},{regex:/\?_\?/g,result:"wonder"},{regex:/#yup#/g,result:"agree"},{regex:/#ng#/g,result:"donno"},{regex:/#oh#/g,result:"surprise"},{regex:/#cn#/g,result:"chicken"},{regex:/Z_Z/g,result:"z"},{regex:/@_@/g,result:"@"},{regex:/\?\?\?/g,result:"wonder2"},{regex:/fuck/g,result:"fuck"}];jDoc.topics().jTitleCells.find("a:first-child").each(function(){var jThis=$(this);var sOri=sText=jThis.html();sText=sText.replace(rSmiley,'<img style="border-width:0px;vertical-align:middle" src="/faces/$1.gif" alt="$&" />');$.each(aConvertMap,function(){sText=sText.replace(this.regex,'<img style="border-width:0px;vertical-align:middle" src="/faces/'+this.result+'.gif" alt="$&" />')});if(sText!=sOri){jThis.html(sText)}})}},"e24ec5f6-5734-4c2c-aa54-320ca29a3932":{desc:"移除死圖",page:{32:false},type:6,defer:1,once:function(){this.removeDead=function(){$(this).parent().css("text-decoration","none").html('<a href="javascript:" class="an-content-line">死圖已被移除</a>')}},infinite:function(jDoc,oFn){jDoc.replies().jContents.find("img[onLoad]").each(function(){var sSrc=this.src;$(this).error(oFn.removeDead).attr("src",sSrc)})}},"d7adafa8-cc14-45f9-b3e9-bc36eab05d4f":{desc:"縮小引用中的圖片",page:{32:false},type:6,options:{nQuoteImgMaxHeight:{desc:"圖片最大高度(px)",defaultValue:100,type:"text"}},once:function(){AN.util.stackStyle($.sprintf(".repliers_right blockquote img { max-height: %spx; }",AN.util.getOptions("nQuoteImgMaxHeight")))}},"8e1783cd-25d5-4b95-934c-48a650c5c042":{desc:"屏蔽圖片 (點擊顯示)",page:{32:false},type:6,defer:1,once:function(jDoc,oFn){oFn.bAreMasked=true;AN.shared("addButton","切換屏蔽圖片",function(){(oFn.bAreMasked=!oFn.bAreMasked)?$(".an-maskimg").fadeOut().next().show():$(".an-maskimg").next().hide().end().fadeIn()});this.unmaskIt=function(){var jBox=$(this).children("a");if(jBox.is(":visible")){jBox.hide().prev().fadeIn();return false}}},infinite:function(jDoc,oFn){if(!this.bAreMasked){return}jDoc.replies().jContents.find("img[onLoad]").addClass("an-maskimg").hide().after('<a class="an-content-box" href="javascript:">點擊顯示圖片</a>').parent().css("text-decoration","none").click(oFn.unmaskIt)}},"e33bf00c-9fc5-46ab-866a-03c4c7ca5056":{desc:"智能地將文字轉換成連結",page:{32:true},type:6,infinite:function(jDoc){var rLink=/(?:ftp|https?):\/\/[\w.\/?:;~!@#$%^&*()+=-]+/i;var aMatch;var checkNode=function(nTarget){if(nTarget.nextSibling){checkNode(nTarget.nextSibling)}if(nTarget.nodeType==3){if(aMatch=rLink.exec(nTarget.data)){nTarget.splitText(RegExp.leftContext.length+aMatch[0].length);$(nTarget.splitText(RegExp.leftContext.length)).wrap($.sprintf('<a href="%s"></a>',aMatch[0])).parent().before('<span class="an-content-note" title="文字已轉換為連結">[L]</span>')}}else{if(nTarget.firstChild&&!$(nTarget).is("a,button,script,style")){checkNode(nTarget.firstChild)}}};jDoc.replies().jContents.each(function(){checkNode(this.firstChild)})}},"7b36188f-c566-46eb-b48d-5680a4331c1f":{desc:"轉換論壇連結的伺服器位置",page:{32:true},type:6,infinite:function(jDoc){var rForum=/forum\d*.hkgolden\.com/i;jDoc.replies().jContents.find("a").each(function(){var jThis=$(this);if(!jThis.children().length&&rForum.test(this.hostname)&&this.hostname!=location.hostname){jThis.attr("href",this.href.replace(rForum,location.hostname)).before('<span class="an-content-note" title="已轉換伺服器位置">[C]</span>')}})}},"8db8b611-e229-4d60-a74b-6142af1bacd8":{desc:"提示可疑連結",page:{32:false},type:6,options:{sSusKey:{desc:"可疑關鍵字 [regular expression]",defaultValue:"[?&]r(?:ef(?:er[^=]+)?)?=|logout|tinyurl|urlpire|linkbucks|seriousurls|qvvo|viraldatabase|youfap|qkzone\\.com/t\\?",type:"text"},sSusColor:{desc:"可疑關鍵字顏色",defaultValue:"#FF0000",type:"text"}},infinite:function(jDoc,oFn){var addBox=function(){AN.util.addStyle($.sprintf(" 			#an-alertbox { display: none; position: absolute; border-width: 1px; } 			#an-alertbox div { height: 2px; } 			#an-alertbox p { margin: 0; padding: 0 0.2em; } 			#an-alertbox span { color: %s; } 			",AN.util.getOptions("sSusColor")));$("#an").append('<div id="an-alertbox" class="an-forum"><div class="an-forum-header"></div><p>發現可疑連結! keyword: <span></span></p></div>');oFn.showAlert=function(event){$("#an-alertbox").find("span").text($(this).data("an-suskeyword"));$(document).bind("mousemove.an-alert",function(event){var jAlert=$("#an-alertbox");jAlert.show().css({top:event.pageY-jAlert.height()-10,left:event.pageX-jAlert.width()/2})})};oFn.hideAlert=function(){$(document).unbind(".an-alert");$("#an-alertbox").fadeOut("fast")}};var rSus=RegExp(AN.util.getOptions("sSusKey"),"i");var aMatch;jDoc.replies().jContents.find("a").each(function(){if(aMatch=rSus.exec(this.href)){if(!$("#an-alertbox").length){addBox()}$(this).data("an-suskeyword",aMatch[0]).hover(oFn.showAlert,oFn.hideAlert)}})}},"039d820f-d3c7-4539-8647-dde974ceec0b":{desc:"轉換視頻網站連結為影片",page:{32:true},type:6,defer:2,options:{bConvertOnClick:{desc:"點擊連結才轉換",defaultValue:false,type:"checkbox"}},once:function(){var aSites=[{regex:"youtube\\.com/watch\\?",fn:function(){if(nWidth>640){nWidth=640}nHeight=nWidth/16*9+25;sUrl=$.sprintf("http://www.youtube.com/v/%s&fs=1&rel=0&ap=%2526fmt%3D22",sUrl.replace(/.+?v=([^&]+).*/i,"$1"))}},{regex:"vimeo\\.com/\\d",fn:function(){if(nWidth>504){nWidth=504}nHeight=nWidth/1.5;sUrl=$.sprintf("http://vimeo.com/moogaloop.swf?clip_id=%s&show_title=1&fullscreen=1",sUrl.replace(/.+vimeo\.com\/(\d+).*/i,"$1"))}},{regex:"youku\\.com/v_show/",fn:function(){if(nWidth>480){nWidth=480}nHeight=nWidth/4*3+40;sUrl=$.sprintf("http://player.youku.com/player.php/sid/%s/v.swf",sUrl.replace(/.+?id_([^\/]+).*/i,"$1"))}},{regex:"tudou\\.com/program/",fn:function(){if(nWidth>400){nWidth=400}nHeight=nWidth/4*3+40;sUrl=$.sprintf("http://www.tudou.com/v/%s",sUrl.replace(/.+?view\/([^\/]+).*/i,"$1"))}}];this.rLink=(function(){var aReg=[];$.each(aSites,function(){aReg.push(this.regex)});return new RegExp(aReg.join("|"),"i")})();var nWidth,nHeight,sUrl;this.convert=function(){sUrl=this.href;nWidth=$(this).addClass("an-videolink").up("td,div").width();$.each(aSites,function(){if(RegExp(this.regex,"i").test(sUrl)){this.fn();return false}});$("<div></div>").insertAfter(this).toFlash(sUrl,{width:nWidth,height:nHeight.toFixed(0)},{wmode:"opaque",allowfullscreen:"true"})};$("#ctl00_ContentPlaceHolder1_view_form").click(function(event){var jTarget=$(event.target);if(!jTarget.is(".an-videolink")){return}event.preventDefault();jTarget.next().toggle()});var oFn=this;if(AN.util.getOptions("bConvertOnClick")){$("#ctl00_ContentPlaceHolder1_view_form").click(function(event){var jTarget=$(event.target);if(!jTarget.is("a")||jTarget.is(".an-videolink")||!oFn.rLink.test(jTarget.attr("href"))){return}event.preventDefault();$($.sprintf('<iframe style="display: none" src="%s" />',jTarget.attr("href"))).appendTo("body").doTimeout(250,function(){this.remove()});oFn.convert.call(jTarget[0])})}},infinite:function(jDoc,oFn){if(!AN.util.getOptions("bConvertOnClick")){jDoc.replies().jContents.find("a").filter(function(){return oFn.rLink.test(this.href)}).each(oFn.convert)}}},"d761d6f7-8ef7-4d5b-84e9-db16a274f616":{desc:"轉換圖片連結為圖片",page:{32:false},type:6,infinite:function(jDoc){jDoc.replies().jContents.find("a").each(function(){if(!$(this).children().length&&/jpg|gif|png|bmp/i.test(this.href)){$(this).attr("target","_blank").html($.sprintf('<img style="border-style: none" onLoad="DrawImage(this)" src="%s" alt="死圖" />',this.href,this.href)).before('<span class="an-content-note" title="已轉換連結為圖片">[P]</span>')}})}},"85950fa3-c5f0-4456-a81a-30a90ba6425c":{desc:"顯示防盜鏈/域名被禁圖片 [FF: 建議改用RefControl] [暫時停用]",page:{32:"disabled"},type:6,options:{sImgProxy:{desc:"圖片代理",defaultValue:"http://www.pomo.cn/showpic.asp?url=",type:"text"}},infinite:function(jDoc){var sImgProxy=AN.util.getOptions("sImgProxy");jDoc.replies().jContents.find("img").each(function(){if(/imageshack\.us|hiphotos\.baidu\.com|\.tianya\.cn/i.test(this.src)){this.src=sImgProxy+encodeURIComponent(this.src)}})}},"ea19d7f6-9c2c-42de-b4f9-8cab40ccf544":{desc:"限制回覆格高度",page:{32:false},type:6,defer:2,options:{bAltScrollBarStyle:{desc:"將滾動條置於外層 [buggy w/ ajax fn@IE,FF,Chrome]",defaultValue:false,type:"checkbox"},nMaxReplyHeight:{desc:"最大回覆高度(px)",defaultValue:2000,type:"text"}},once:function(jDoc){if(AN.util.getOptions("bAltScrollBarStyle")){var nWidth=jDoc.replies().jContents.eq(0).width();AN.util.stackStyle($.sprintf("			.repliers_right { overflow-x: visible; } 			.an-replywrapper { overflow-y: auto; position: relative; z-index: 2; max-height: %spx; width: %spx; } 			.an-replywrapper > div { padding-right: 1px; width: %spx; } 			",AN.util.getOptions("nMaxReplyHeight"),nWidth+30,nWidth))}else{AN.util.stackStyle($.sprintf(".an-replywrapper { overflow-y: auto; max-height: %spx; }",AN.util.getOptions("nMaxReplyHeight")))}},infinite:function(jDoc){jDoc.replies().jContents.wrapInner('<div class="an-replywrapper"><div></div></div>')}},"fc07ccda-4e76-4703-8388-81dac9427d7c":{desc:"強制顯示空白用戶名連結",page:{32:true},type:6,infinite:function(jDoc){jDoc.replies().each(function(){if(/^\s*$/.test($(this).data("sUserName"))){$(this).data("jNameLink").html('<span style="color: black">&lt;空白名稱&gt;</span>')}})}},"e19a8d96-151f-4f86-acfc-0af12b53b99b":{desc:"快速3擊左鍵關閉頁面 [FF: 只能配合連結開新頁使用]",page:{32:false},type:6,once:function(){var down=0;var reset=function(){down=0};$(document).mousedown(function(event){if(down==0){setTimeout(reset,500)}if(++down==3){window.opener=window;window.open("","_parent");window.close()}})}},"b69c5067-2726-43f8-b3de-dfb907355b71":{desc:"標題過濾功能",page:{4:true},type:6,options:{bFilterListButton:{desc:"加入標題過濾列表按扭",defaultValue:true,type:"checkbox"},bAddFilterButton:{desc:"加入新增過濾器按扭",defauleValue:false,type:"checkbox"}},once:function(jDoc,oFn){var aFilter=AN.util.data("aTopicFilter")||[];var jCurTarget;var jButton=$($.sprintf('			<span style="display: none; position: absolute; text-align: center; background-color: %(sMainHeaderBgColor)s; color: %(sMainHeaderFontColor)s; cursor: pointer;">X</span> 			',AN.util.getOptions())).appendTo("#an").click(function(){addFilter(jCurTarget.find("a:first").html().replace(/<img[^>]+?alt="([^"]+)[^>]*>/ig,"$1"))});$(document).mouseover(function(event){var jTarget=$(event.target);if(jTarget[0]==jButton[0]){return}jTarget=jTarget.closest("#HotTopics tr");if(jTarget.length&&!jTarget.is(":first-child")){jCurTarget=jTarget;var offset=jTarget.offset();var jImgCell=jTarget.children(":first");var nHeight=jImgCell.outerHeight();jButton.css({top:offset.top,left:offset.left,width:jImgCell.outerWidth()+1,height:nHeight,lineHeight:nHeight+"px"}).show()}else{jButton.hide()}});var addFilter=function(sTopicName){var sFilter=prompt("請輸入過濾器",sTopicName||"");if(!sFilter){return}aFilter.push(sFilter);AN.util.data("aTopicFilter",aFilter);oFn.filterTopics()};this.filterTopics=function(jScope){if(!aFilter.length){return}var nCount=0;(jScope||$(document)).topics().each(function(){var jThis=$(this);var sTitle=jThis.data("sTitle");$.each(aFilter,function(i,sFilter){if(sTitle.indexOf(sFilter)!=-1){nCount++;jThis.hide();return false}})});if(nCount){AN.shared("log",$.sprintf("%s個標題已被過濾",nCount))}};if(AN.util.getOptions("bAddFilterButton")){AN.shared("addButton","新增過濾器",function(){addFilter()})}if(AN.util.getOptions("bFilterListButton")){AN.shared("addButton","標題過濾列表",function(){if(!$("#an-filterlist").length){AN.util.addStyle("				#an-filterlist > ul { margin: 5px; } 				#an-filterlist > ul > li { padding: 2px 0; } 				#an-filterlist > ul > li > a { border: 1px solid black; background-color: pink; margin-right: 5px; padding: 0 5px; } 				");AN.shared.box("an-filterlist","標題過濾列表",500);$("#an-filterlist").click(function(event){var jTarget=$(event.target);if(!jTarget.is("a")){return}var sFilter=jTarget.next().html();var nIndex=$.inArray(sFilter,aFilter);if(nIndex!=-1){aFilter.splice(nIndex,1)}AN.util.data("aTopicFilter",aFilter);jTarget.parent().remove()})}var sHTML="";if(aFilter.length){$.each(aFilter,function(i,sFilter){sHTML+=$.sprintf('<li><a href="javascript:">X</a><span>%s</span></li>',sFilter)})}else{sHTML+="<li>沒有任何過濾器</li>"}$("#an-filterlist").html("<ul>"+sHTML+"</ul>");AN.shared.gray(true,"an-filterlist")})}},infinite:function(jDoc){this.filterTopics(jDoc)}},"db770fdc-9bf5-46b9-b3fa-78807f242c3c":{desc:"用戶屏敝功能",page:{32:true},type:6,once:function(jDoc,oFn){var aBamList=AN.util.data("aBamList")||[];var jCurTarget;var jButton=$($.sprintf('			<span style="display: none; position: absolute; padding: 2px 5px; background-color: %(sMainHeaderBgColor)s; color: %(sMainHeaderFontColor)s; cursor: pointer;">X</span> 			',AN.util.getOptions())).appendTo("#an").click(function(){var sUserId=jCurTarget.find("a:first").attr("href").replace(/.+?userid=(\d+).*/,"$1");var nIndex=$.inArray(sUserId,aBamList);nIndex==-1?aBamList.push(sUserId):aBamList.splice(nIndex,1);AN.util.data("aBamList",aBamList);oFn.toggleReplies(null,sUserId,nIndex==-1)});$(document).mouseover(function(event){var jTarget=$(event.target);if(jTarget[0]==jButton[0]){return}jTarget=jTarget.closest(".repliers_left");if(jTarget.length){jCurTarget=jTarget;var offset=jTarget.offset();jButton.css({top:offset.top,left:offset.left}).show()}else{jButton.hide()}});AN.util.stackStyle("		.an-bammed { opacity: 0.5; filter: alpha(opacity=50); } 		.an-bammed .repliers_left > table > tbody > tr:first-child ~ tr, .an-bammed .repliers_right > tbody > tr:first-child { display: none; } 		");this.toggleReplies=function(jScope){(jScope||$(document)).replies().each(function(){var jThis=$(this);jThis.toggleClass("an-bammed",$.inArray(jThis.data("sUserid"),aBamList)!=-1)})}},infinite:function(jDoc){this.toggleReplies(jDoc)}},"a7484cf2-9cbd-47aa-ac28-472f55a1b8f4":{desc:"需要時自動加入[img]代碼插入按扭",page:{288:true},type:6,once:function(){var pattern,jTextarea,jSubmit,text,match;$("#ctl00_ContentPlaceHolder1_messagetext").bind("keyup mouseup change",function(){if(!pattern){pattern=/http:\/\/\S+?\/\S+?\.(?:jpg|png|gif)(?!\s*\[\/(?:img|url)])/gi;jTextarea=$(this);jMsg=$('<button type="button" style="vertical-align: top; margin-left: 5px; display: none;" />').insertAfter("#ctl00_ContentPlaceHolder1_btn_Submit").click(function(){jTextarea.val(text.replace(pattern,"[img]$&[/img]"));jMsg.hide()})}text=jTextarea.val();(match=text.match(pattern))?jMsg.html($.sprintf("為%s個圖片連結加上[img]代碼",match.length)).show():jMsg.hide()})}}}};AN.mod["Component Redesigner"]={ver:"N/A",author:"向日",fn:{"8be1ac06-030a-42d4-a8f4-f2b7f4881300":{desc:"改變引用風格",page:{32:true},type:8,defer:1,options:{bOuterOnly:{desc:"隱藏內層引用",type:"checkbox",defaultValue:true},nOuterNum:{desc:"外層引用的顯示數目",type:"text",defaultValue:1}},once:function(jDoc,oFn){this.bGlobalOuterOnly=AN.util.getOptions("bOuterOnly");this.toggleAll=(function(){var sSelector=".an-quote-outermostheader";var n=AN.util.getOptions("nOuterNum");while(--n){sSelector+=" + div > blockquote > div:first-child"}return function(){oFn.toggleQuote($(sSelector),oFn.bGlobalOuterOnly)}})();this.toggleQuote=function(jTarget,bOuterOnly){if(bOuterOnly===undefined){jTarget=$(this.parentNode);bOuterOnly=!jTarget.hasClass("an-quote-header-hideinner")}jTarget.toggleClass("an-quote-header-hideinner",bOuterOnly).children("b").html(bOuterOnly?"＋":"－")};AN.shared("addButton","切換最外層引用",function(){oFn.bGlobalOuterOnly=!oFn.bGlobalOuterOnly;oFn.toggleAll()});AN.util.stackStyle($.sprintf(" 		.repliers_right blockquote { margin: 5px 0; border: 1px solid %s; } 		.repliers_right blockquote blockquote { margin-top: 0; border-right: 0; } 		.repliers_right blockquote > div { padding: 0 0 5px 2px; } 		.an-quote-header { margin-bottom: 2px; padding: 0 3px !important; font-size: 12px; line-height: 15px; overflow: hidden; } 		.an-quote-header > b { float: right; cursor: pointer; font-weight: 900; } 		.an-quote-innermostheader > b { display: none; } 		.an-quote-header-hideinner { margin-bottom: 5px; } 		.an-quote-header-hideinner + div > blockquote { display: none; } 		",AN.util.getOptions("sMainBorderColor")))},infinite:function(jDoc){jDoc.find("blockquote").each(function(){var jQuote=$(this);while(true){var eNext=this.nextSibling;if(eNext){if($(eNext).is("br")||eNext.nodeType==3&&/^\s+$/.test(eNext.nodeValue)){$(eNext).remove();continue}}else{if(jQuote.parent().parent("blockquote").length){jQuote.parent().parent().replaceWith(jQuote);continue}}break}var jHeader=$('<div class="an-forum-header an-quote-header">引用:<b>－</b></div>').prependTo(jQuote);if(!jQuote.find("blockquote").length){jHeader.addClass("an-quote-innermostheader")}if(!jQuote.parent().parent("blockquote").length){jHeader.addClass("an-quote-outermostheader")}});$(".an-quote-header > b").click(this.toggleQuote);if(this.bGlobalOuterOnly){jDoc.defer(3,"隱藏最外層以外的引用",this.toggleAll)}}},"cb1917f9-4053-40b1-870d-e0e2c6a90b39":{desc:"改變快速回覆的風格",page:{32:true},type:8,options:{sQRHideMethod:{desc:"隱藏方式",type:"select",choices:["完全隱藏","隱藏於中下方, 懸浮切換顯示","隱藏於中下方, 點擊切換顯示","隱藏於右下角"],defaultValue:"隱藏於中下方, 點擊切換顯示"},nQROpacity:{desc:"透明度 (10 = 移除半透明)",type:"select",defaultValue:10,choices:[10,9,8,7,6,5,4,3,2,1,0]}},once:function(){if(!AN.util.isLoggedIn()){return}var jQR=$("#newmessage");var nWidth=939;var nRight=50-nWidth;var sMethod=AN.util.getOptions("sQRHideMethod");var aChoices=this.options.sQRHideMethod.choices;AN.util.stackStyle($.sprintf("		#newmessage { %s; z-index: 3; position: fixed; width: %spx; bottom: 0px; right: %spx; } 		#an-qr-header { cursor: pointer; text-align: center; } 		#previewArea { display: block; overflow: auto; width: %spx; } 		#previewArea img[onload] { max-width: 300px; } 		",AN.util.getOpacityStr(AN.util.getOptions("nQROpacity")),nWidth,sMethod==aChoices[3]?nRight:($.winWidth()-nWidth)/2+5,AN.util.getOptions("bAlternativeHide")?$.sprintf("right: %spx",nRight):$.sprintf("left: 50%; margin-left: -%spx",nWidth/2),nWidth-159));var jToggle=(sMethod==aChoices[0]?jQR:jQR.find("tr:eq(2)")).hide();var isNotNeeded=function(bToShow){return typeof bToShow=="boolean"&&bToShow==(jToggle.css("display")!="none")};var isToShow=function(bToShow){return typeof bToShow=="boolean"?bToShow:jToggle.css("display")=="none"};var toggleQR=function(bToShow,fCallback){if(isNotNeeded(bToShow)){return}jToggle.toggle(isToShow(bToShow));$("#previewArea").empty();if(fCallback){fCallback()}};if(sMethod==aChoices[3]){toggleQR=(function(_toggleQR){return function(bToShow){if(isNotNeeded(bToShow)){return}isToShow(bToShow)?jQR.animate({right:($.winWidth()-nWidth)/2+5},"slow",_toggleQR):_toggleQR(false,function(){jQR.animate({right:nRight},"slow")})}})(toggleQR)}var jQRHeader=jQR.find("td:eq(1)").attr("id","an-qr-header").html("快速回覆");sMethod==aChoices[1]?jQR.bind("mouseenter mouseleave",toggleQR):jQRHeader.click(toggleQR);$("#aspnetForm").submit(function(){toggleQR(false)});window._OnQuoteSucceeded=function(result){toggleQR(true);$("#ctl00_ContentPlaceHolder1_messagetext").val(unescape(result)+"\n").scrollTop(99999);window.moveEnd()};window.OnQuoteSucceeded=new window.Function("result","window._OnQuoteSucceeded(result);");window.doPreview=(function(_doPreview){var jPreview=$("#previewArea");return function(){jPreview.css("max-height",$.winHeight()-jQR.height()-jPreview.height());_doPreview()}})(window.doPreview)}}}};AN.mod["Style Editor"]={ver:"N/A",author:"向日",fn:{"89615a78-21b7-46bd-aeb1-12e7f031e896":{desc:"強制更改全局字體",page:{65534:false},type:2,options:{sMainFontFamily:{desc:"字體名稱",defaultValue:"SimSun",type:"text"}},once:function(){AN.util.stackStyle($.sprintf("body * { font-family: %s !important; }",AN.util.getOptions("sMainFontFamily")))}},"cad6d058-f999-460d-ac29-4074f33f46fb":{desc:"設定連結樣式",page:{65534:false},type:2,options:{sMainLinkFontColor:{desc:"普通連結顏色",defaultValue:"#1066d2",type:"text"},sMainVisitedColor:{desc:"已訪問連結顏色",defaultValue:"#800080",type:"text"},sMainHoverColor:{desc:"連結懸浮顏色",defaultValue:"",type:"text"},bRemoveLinkUnderline:{desc:"移除連結底線",defaultValue:false,type:"checkbox"}},once:function(){var sTextCSS=AN.util.getOptions("bRemoveLinkUnderline")?'text-decoration: none; } a[href^="/blog/blog.aspx"] > span { text-decoration: none !important; } .repliers_right a { text-decoration: underline; }':"}";AN.util.stackStyle($.sprintf("		body > form a, #ctl00_ContentPlaceHolder1_MiddleAdSpace1 a { color: %(sMainLinkFontColor)s; "+sTextCSS+' 		body > form a[href*="view.aspx"]:visited, .repliers_right a:visited { color: %(sMainVisitedColor)s; } 		body > form a[href]:hover { color: %(sMainHoverColor)s; } 		',AN.util.getOptions()))}},"7574582b-2fea-4079-8dfb-7ac4e5587ecb":{desc:"改變論壇樣式",page:{65534:false},type:2,options:{sLogoBgImage:{desc:"高登Logo圖片",defaultValue:"/images/index_images/logo.jpg",type:"text"},sTopBgImage:{desc:"頂部背景圖片",defaultValue:"/images/index_images/bg_top.jpg",type:"text"},sMainBgImage:{desc:"主表格背景圖片",defaultValue:"/images/index_images/bg_maintop.jpg",type:"text"},sRedTitleFontColor:{desc:"紅人榜標題字體顏色",defaultValue:"#FFFFFF",type:"text"},sRedTitleBgColor:{desc:"紅人榜標題背景顏色",defaultValue:"#CC2331",type:"text"},sRedHeaderFontColor:{desc:"紅人榜第一列字體顏色",defaultValue:"#003366",type:"text"},sRedHeaderBgColor:{desc:"紅人榜第一列背景顏色",defaultValue:"#FF5560",type:"text"},sRedContentFontColor:{desc:"紅人榜內容字體顏色",defaultValue:"#000000",type:"text"},sBlueBarFontColor:{desc:"藍色橫條字體顏色",defaultValue:"#FFFFFF",type:"text"},sBlueBarBgColor:{desc:"藍色橫條背景顏色",defaultValue:"#6EA0C4",type:"text"},sBlueBarBgImage:{desc:"藍色橫條背景圖片",defaultValue:"/images/left_menu/p.png",type:"text"},sBlueSecBgColor:{desc:"高登公告內部橫條背景顏色",defaultValue:"#CCDDEA",type:"text"},sHighlightBgColor:{desc:"高亮背景顏色",defaultValue:"#E9EC6C",type:"text"},sTimeFontColor:{desc:"時間字體顏色",defaultValue:"#800000",type:"text"},sMaleFontColor:{desc:"男用戶連結顏色",defaultValue:"#0066FF",type:"text"},sFemaleFontColor:{desc:"女用戶連結字體顏色",defaultValue:"#FF0066",type:"text"},sQuoteFontColor:{desc:"引用字體顏色",defaultValue:"#0000A0",type:"text"},sFooterBgColor:{desc:"頁腳横條背景顏色",defaultValue:"#FFCC00",type:"text"}},once:function(){AN.util.stackStyle($.sprintf(' 		/* Global stuff */		body { background-color: %(sMainBgColor)s; } 		p, td { color: %(sMainFontColor)s; } 		/* main border */		.repliers_header, .repliers_left, .repliers, .repliers td, .Topic_ForumInfoPanel table, .Topic_ForumInfoPanel th { border-color: %(sMainBorderColor)s !important; } 		#aspnetForm table[cellspacing="1"][cellpadding="2"], #ctl00_ContentPlaceHolder1_PMMsgTable, #ctl00_ContentPlaceHolder1_QuickReplyTable, #ctl00_ContentPlaceHolder1_QuickReplyLoginTable { background-color: %(sMainBorderColor)s !important; } 		*[style*="128, 128, 128"], *[style*="808080"] { background-color: transparent !important; } 		/* sec border */		.main_table1 { border-color: %(sSecBorderColor)s; } 		/* nearly-white backgrounds */		*[style*="rgb(23"], *[style*="rgb(24"], *[style*="#E"], *[style*="#F"], *[style*="#e"], *[style*="#f"], .Topic_ForumInfoPanel table td { background-color: %(sSecBgColor)s !important; } 		/* PM Box & white table cells */		.ListPMText, *[style*="255, 255, 255"], *[style*="#FFFFFF"], *[style*="background-color: white"], *[style*="BACKGROUND-COLOR: white"], *[bgcolor="#f8f8f8"] { background-color: %(sMainBgColor)s !important; } 		/* headers */		.repliers_header, *[style*="51, 102, 153"], *[style*="#336699"], .Topic_ForumInfoPanel table th, .Topic_ListPanel table th { color: %(sMainHeaderFontColor)s !important; background-color: %(sMainHeaderBgColor)s !important; } 		/* under logo links, footer text, username links, bookmarkbar */		.encode_link, .txt_11pt_1A3448, *[style*="color: black"], *[style*="COLOR: black"], .hkg_bottombar_link { color: %(sMainFontColor)s !important; } 		/* non-transparent images */		.TopMenuPanel, .bg_top { background-image: url(%(sTopBgImage)s); } 		.PageMiddleBox, .bg_main { background-image: url(%(sMainBgImage)s); } 		/* main logo */		#ctl00_TopBarHomeLink { display: block; background: url(%(sLogoBgImage)s) no-repeat; } 		#ctl00_TopBarHomeLink img { visibility: hidden; } 		/* thin bars icon */		.title:first-child, *[bgcolor="#6ea0c4"]:first-child, .redhottitle:first-child { background-image: url(%(sBlueBarBgImage)s); } 		*[src*="/p.jpg"], *[src*="/redhotp.jpg"] { visibility: hidden; } 		/* blue bars , red bars, and main forum page bars */		.title, *[bgcolor="#6ea0c4"], *[colspan="6"] { background-color: %(sBlueBarBgColor)s !important; color: %(sBlueBarFontColor)s; } 		.redhottitle { background-color: %(sRedTitleBgColor)s; color: %(sRedTitleFontColor)s; } 		/* hot people */		table[style*="255, 85, 96"], tr[style*="255, 85, 96"], table[style*="#ff5560"], tr[style*="#ff5560"] { background-color: %(sRedHeaderBgColor)s !important; } 		td[style*="255, 85, 96"], td[style*="#ff5560"] { border-color: %(sRedHeaderBgColor)s !important; } 		*[style*="0, 51, 102"], *[style*="#003366"] { color: %(sRedHeaderFontColor)s !important; } 		.redhot_text, a.redhot_link { color: %(sRedContentFontColor)s; } 		/* hot search */		.HitSearchText { color: %(sMainHeaderFontColor)s; } 		a.hitsearch_link { color: %(sMainFontColor)s; } 		/* annoucements, profilepage tabs */		*[bgcolor="#ccddea"], .ajax__tab_tab, #advarea tr:first-child + tr td { background-color: %(sBlueSecBgColor)s !important; } 		.p__tab_xp .ajax__tab_tab { color: %(sMainFontColor)s; } 		.p__tab_xp .ajax__tab_active .ajax__tab_tab, .p__tab_xp .ajax__tab_hover .ajax__tab_tab { color: %(sMainHoverColor)s; } 		/* hightlight bg */		*[style*="233, 236, 108"], *[style*="#E9EC6C"] { background-color: %(sHighlightBgColor)s !important; } 		/* time text */		*[style*="128, 0, 0"], *[style*="#800000"], *[style*="maroon"] { color: %(sTimeFontColor)s !important; } 		/* male name link */		*[style*="0, 102, 255"], *[style*="#0066ff"], *[style*="#0066FF"], *[color="blue"] { color: %(sMaleFontColor)s !important; } 		/* female name link */		*[style*="255, 0, 102"], *[style*="#ff0066"], *[style*="#FF0066"], *[color="red"] { color: %(sFemaleFontColor)s !important; } 		/* quotes */		blockquote > div[style*="color"], blockquote > div[style*="COLOR"] { color: %(sQuoteFontColor)s !important; } 		/* profilepage avater */		table[width="150"] { border-color: %(sSecBorderColor)s !important; } 		/* footer */		.FooterPanel > div:first-child { background-color: %(sFooterBgColor)s !important; } 		a.terms_link { color: %(sMainFontColor)s; } 		/* bookmark bar */		.hkg_bottombar, .hkg_bottombar *, .hkg_bbMenu, .hkg_bbMenu * { background-color: %(sSecBgColor)s; border-color: %(sMainBorderColor)s; color: %(sMainFontColor)s; } 		.hkg_bb_bookmark_TitleBox, .hkg_bb_bookmark_TitleBox *, .hkg_bb_bookmarkItem_Hover, .hkg_bb_bookmarkItem_Hover a div { background-color: %(sMainHeaderBgColor)s; color: %(sMainHeaderFontColor)s; } 		.hkg_bb_bookmarkItem a div { background-color: transparent; color: inherit; } 		',AN.util.getOptions()))}},"eb703eac-bb31-4dbe-b28c-0b6d2942b6f5":{desc:"滙入自定CSS(進階用戶專用)",page:{65534:false},type:2,options:{sCustomCSSHref:{desc:"自定CSS檔案位置 [部份瀏覽器不支持本地檔案]",defaultValue:"",type:"text"},sCustomCSSContent:{desc:"自定CSS內容",defaultValue:"/*sample*/ * { color: black !important; }",type:"text"}},once:function(){var sHref=AN.util.getOptions("sCustomCSS");if(sHref){$("head").append($.sprintf('<link type="text/css" rel="stylesheet" href="%s" />',sHref))}var sContent=AN.util.getOptions("sCustomCSSContent");if(sContent){AN.util.stackStyle(sContent)}}}}};AN.mod["User Interface"]={ver:"N/A",author:"向日",fn:{"6464e397-dfea-477f-9706-025ec439e810":{desc:"設定UI樣式",page:{65535:"comp"},type:2,options:{sMenuFontSize:{desc:"UI主要字體大小(px)",defaultValue:"16",type:"text"},sSmallFontSize:{desc:"UI細字體大小(px)",defaultValue:"10",type:"text"}},once:function(){AN.util.stackStyle($.sprintf(' 		.an-box { display: none; position: fixed; left: 50%; top: 50%; z-index: 10; border-width: 1px; } 		.an-box-header { line-height: 1.8em; margin: 0; padding: 0 0 0 0.2em; } 		.an-box-content { overflow: auto; position: relative; } 				.an-menu { font-size: %(sMenuFontSize)spx; } 		.an-menu a { display: block; } 		.an-menu a:hover { color: %(sUIHoverColor)s; } 				.an-small { font-size: %(sSmallFontSize)spx; } 				#an-ui ul { margin: 0; padding: 0; list-style: none; } 		#an-ui a:focus { outline: 0; } 				.an-mod { position: fixed; color: %(sUIFontColor)s; } 		.an-mod, .an-mod * { border: 0 solid %(sUIFontColor)s; } 		.an-mod a { text-decoration: none; color: %(sUIFontColor)s; } 				#an-backlayer { display: none; opacity: 0; -ms-filter: "alpha(opacity=0)"; z-index: 5; position: fixed; left: 0; top: 0; width: 100%; height: 100%; background: gray; } 				#an-mainmenu { top: 15%; right: 0; } 		#an-mainmenu a { padding: 0.3em 0.35em 0 0; border-bottom-width: 1px; } 		',AN.util.getOptions()))}},"1db9ccc8-ad28-48b6-8744-22f892ca0a44":{desc:"加入基本元件",page:{65535:"comp"},type:1,once:function(){$("#an").append(' 		<div id="an-ui"> 			<div id="an-backlayer"></div> 			<ul id="an-mainmenu" class="an-mod an-menu"></ul> 		</div> 		');AN.shared.gray=function(bClickToQuit,uExtra){var jGray=$("#an-backlayer");if(jGray.is(":hidden")){if(bClickToQuit){jGray.one("click",function(){AN.shared.gray()})}jGray.show().fadeTo("slow",0.7);if(uExtra){var jExtra=$("#"+uExtra);var oWH=jExtra.data("an-oWH");var nMaxHeight=$.winHeight(0.9);var nMaxWidth=$.winWidth(0.9);jExtra.width((oWH.w=="max"||oWH.w>nMaxWidth)?nMaxWidth:oWH.w).height((oWH.h=="max"||oWH.h>nMaxHeight)?nMaxHeight:oWH.h);var jBox=jExtra.up(".an-box");jBox.css({marginTop:-jBox.height()/2,marginLeft:-jBox.width()/2}).fadeIn("slow")}}else{jGray.add(".an-box:visible").fadeOut("slow")}};AN.shared.addMain=function(sName,fHandler){$('<li><a href="javascript:">'+sName+"</a></li>").click(fHandler).appendTo("#an-mainmenu")};AN.shared.box=function(sId,sHeader,uWidth,uHeight){return $($.sprintf('<div class="an-box an-forum"><h4 class="an-forum-header an-box-header">%s</h4><div id="%s" class="an-box-content"></div></div>',sHeader,sId)).appendTo("#an-ui").children(".an-box-content").data("an-oWH",{w:uWidth||"auto",h:uHeight||"auto"})}}},"72907d8e-4735-4f66-b3c9-20e26197663d":{desc:"加入共用元件",page:{65535:"comp"},type:1,once:function(){(function(){var testServers;AN.shared.serverTable=function(){if(!$("#an-server").length){var jTestImages=$([]);testServers=function(){$(".an-server-reposonse").html("等待回應中...");jTestImages.each(function(i){var nTime=$.time();$(this).data("nTime",nTime).attr("src",$.sprintf("http://forum%s.hkgolden.com/images/spacer.gif?tId=%s",i+1,nTime))})};var showResult=function(eImg,sStatus){var jImg=$(eImg);$(".an-server-reposonse").eq(jImg.data("nServer")-1).html({ok:$.sprintf("~%s ms",$.time()-jImg.data("nTime")),dead:"發生錯誤"}[sStatus])};AN.util.addStyle(" 					#an-server div { padding: 0.5em; } 					#an-server caption { padding-top: 0.5em; text-align: center; caption-side: bottom; } 					#an-server caption a { display: inline-block; border-width: 1px; padding: 0.2em; } 					#an-server table { text-align: center; } 					");AN.shared.box("an-server","伺服器狀態",300).append('<div><table><caption><a href="javascript:">進行測試</a></caption><thead><tr><td>伺服器</td><td>回應時間</td></tr></thead><tbody></tbody></table></div>');var jImg=$(new Image).load(function(){showResult(this,"ok")}).error(function(){showResult(this,"dead")});var sURL=(location.href.indexOf("aspxerrorpath=")>0)?$.sprintf("http://%s/topics.aspx?type=BW",location.hostname):location.href;var sHTML="";for(var nServer=1;nServer<=8;nServer++){jTestImages.push(jImg.clone(true).data("nServer",nServer)[0]);sHTML+=$.sprintf('<tr><td><a href="%s">Forum %s</a></td><td class="an-server-reposonse"></td></tr>',sURL.replace(/forum\d/i,"forum"+nServer),nServer)}$("#an-server").find("caption").click(testServers).end().find("tbody").html(sHTML);jImg=sURL=sHTML=null}AN.shared.gray(true,"an-server");testServers()}})()}},"95e203b9-8d9a-46ad-be53-f4297bad7285":{desc:"加入選項元件",page:{65534:"comp"},type:1,once:function(){var tabClick,getInfo,saveOptions,fillOptions,fillBoolean,importSettings,exportSettings,bFillAll,jFieldsets,jTabLinks,jSwitches,jOptions;AN.shared.addMain("選項",function(){if(!$("#an-settings").length){AN.shared.box("an-settings","選項",900,"max").append('<div id="an-settings-tabs"><ul id="an-settings-tabs-main"></ul><ul id="an-settings-tabs-extend"></ul></div><div id="an-settings-main"><div id="an-settings-main-panelswrapper"><div id="an-settings-main-panels"></div></div><div id="an-settings-main-controls"><ul id="an-settings-main-control-1"></ul><ul id="an-settings-main-control-2"></ul></div></div>');AN.util.addStyle(" 				#an-settings-tabs { float: left; height: 100%; border-right-width: 1px; } 				#an-settings-tabs a { display: block; line-height: 2em; text-align: center; border-bottom-width: 1px; padding: 0 0.5em; } 				#an-settings-tabs-extend li:first-child { margin-top: 2em; border-top-width: 1px; } 								#an-settings-main { position: relative; overflow: hidden; height: 100%; } 								#an-settings-main-panelswrapper { overflow: auto; position: absolute; top: 0; right: 0; bottom: 2em; left: 0; border-bottom-width: 1px; padding: 0; margin: 0; } 				#an-settings-main-panels { padding: 1em; } 				#an-settings-main-panels fieldset { display: none; margin: 0; padding: 0 0.5em 1em; border-width: 1px; } 				#an-settings-main-panels h4 { font-weight: normal; overflow: hidden; margin: 1em 0 0.5em; } 				#an-settings-main-panels h4 span { float: left; margin-right: 0.2em; } 				#an-settings-main-panels h4 hr { overflow: hidden; margin: 0.5em 0 0 0; border-top-width: 1px; } 				#an-settings-main-panels dl { margin: 0.35em 0 0.35em 5px; } 				#an-settings-main-panels dd { margin: 0.25em 0 0 20px; } 								#an-settings-main-controls { position: absolute; left: 0; right: 0; bottom: 0; line-height: 2em; } 				#an-settings-main-control-1 { float: left; } 				#an-settings-main-control-2 { float: right; } 				#an-settings-main-controls li { float: left; } 				#an-settings-main-control-last, #an-settings-main-controls a { padding: 0 1em; } 				#an-settings-main-control-1 li { border-right-width: 1px; } 				#an-settings-main-control-last, #an-settings-main-control-2 li { border-left-width: 1px; } 				");var oTypeMap=AN.box.oTypeMap;var oPageMap=AN.box.oPageMap;var oStructure={};$.each(oTypeMap,function(sType){oStructure[sType]={};$.each(oPageMap,function(sPage){oStructure[sType][sPage]={}})});var sSep="_-_";$.each(AN.mod,function(sMod){if(!this.fn){return}$.each(this.fn,function(sId,oFn){$.each(oFn.page,function(sPage,uDefault){if(!oStructure[oFn.type][sPage]){oStructure[oFn.type][sPage]={}}oStructure[oFn.type][sPage][sMod+sSep+sId]={desc:oFn.desc,options:oFn.options,comp:(uDefault=="comp"),disabled:(uDefault=="disabled")}})})});var sHTML="";$.each(oStructure,function(sType){var jContainer=(isNaN(sType)||sType>6)?$("#an-settings-tabs-extend"):$("#an-settings-tabs-main");jContainer.append($.sprintf('<li><a href="javascript:" rel="an-settings-panel-%s">%s</a></li>',sType,oTypeMap[sType]));sHTML+=$.sprintf('<fieldset id="an-settings-panel-%s"><legend>%s</legend>',sType,oTypeMap[sType]);$.each(this,function(sPage){if($.isEmpty(this)){return}var aGroup=[];if(sPage in oPageMap){aGroup.push(oPageMap[sPage].desc)}else{$.each(oPageMap,function(s){if(s<65534&&s&sPage){aGroup.push(this.desc)}})}sHTML+=$.sprintf("<h4><span>%s</span><hr /></h4>",aGroup.join("、"));$.each(this,function(sMixed){sHTML+="<dl><dt>";var bDisabled=this.disabled;var sSwitchId=$.sprintf("an-settings-switch-%s%s%s",sPage,sSep,sMixed);var sChecked=this.comp?'checked="checked"':"";var sSavable=(this.comp||bDisabled)?'disabled="disabled"':'class="an-settings-switch"';sHTML+=$.sprintf('<input type="checkbox" id="%s" %s %s />',sSwitchId,sChecked,sSavable);sHTML+=$.sprintf('<label for="%s">%s</label></dt>',sSwitchId,this.desc);if(this.options){$.each(this.options,function(sName){sHTML+="<dd>";var sOptionId=$.sprintf("an-settings-option-%s%s%s",sPage,sSep,sName);var sSavable=bDisabled?'disabled="disabled"':'class="an-settings-option"';if(this.type=="checkbox"){sHTML+=$.sprintf('<input type="checkbox" id="%s" %s /><label for="%s">%s</label>',sOptionId,sSavable,sOptionId,this.desc)}else{if(this.type=="text"){sHTML+=$.sprintf('<label for="%s">%s: </label><input type="text" id="%s" %s />',sOptionId,this.desc,sOptionId,sSavable)}else{if(this.type=="select"){sHTML+=$.sprintf('%s: <select id="%s" %s>',this.desc,sOptionId,sSavable);$.each(this.choices,function(){sHTML+=$.sprintf('<option value="%s">%s</option>',this,this)});sHTML+="</select>"}}}sHTML+="</dd>"})}sHTML+="</dl>"})});sHTML+="</fieldset>"});$("#an-settings-main-panels").append(sHTML);sHTML=null;jFieldsets=$("#an-settings-main-panels fieldset");jTabLinks=$("#an-settings-tabs a");jSwitches=$(".an-settings-switch");jOptions=$(".an-settings-option");jFieldsets.each(function(){var jThis=$(this);if(!jThis.find("h4").length){$($.sprintf("[rel=%s]",jThis.attr("id"))).parent().add(jThis).remove()}});tabClick=function(){jTabLinks.css("text-decoration","");$(this).css("text-decoration","underline");jFieldsets.hide();$("#"+$(this).attr("rel")).show().parent().parent().scrollTop(0)};jTabLinks.click(tabClick);jSwitches.click(function(){var jThis=$(this);jThis.parent().parent().find(".an-settings-option").attr("disabled",!jThis.is(":checked"))});getInfo=function(jTarget){var oInfo=jTarget.data("info");if(!oInfo){var aInfo;if(jTarget.hasClass("an-settings-switch")){aInfo=jTarget.attr("id").replace(/an-settings-switch-/,"").split(sSep);oInfo={page:aInfo[0]*1,mod:aInfo[1],id:aInfo[2]}}else{aInfo=jTarget.attr("id").replace(/an-settings-option-/,"").split(sSep);oInfo={page:aInfo[0]*1,name:aInfo[1],type:jTarget[0].nodeName=="SELECT"?"select":jTarget.attr("type")}}jTarget.data("info",oInfo)}return oInfo};saveOptions=function(){var oSwitches={};jSwitches.each(function(){var jThis=$(this);var oInfo=getInfo(jThis);$.make("a",$.make("o",oSwitches,oInfo.mod),oInfo.id);if(jThis.is(":checked")){oSwitches[oInfo.mod][oInfo.id].push(oInfo.page)}});AN.util.storage("an_switches",oSwitches);var oOptions={};var bHasQuote=false;jOptions.each(function(){var jThis=$(this);var oInfo=getInfo(jThis);$.make("o",oOptions,oInfo.name);if(oInfo.type=="checkbox"){oOptions[oInfo.name][oInfo.page]=jThis.is(":checked")}else{if(oInfo.type=="text"||oInfo.type=="select"){if(!bHasQuote&&oInfo.type=="text"&&jThis.val().match(/\'|\"/)){bHasQuote=true}oOptions[oInfo.name][oInfo.page]=$.correct(jThis.val())}}});if(bHasQuote&&!confirm("發現文字設定中含有引號!\n若該設定屬於CSS相關項目(如顏色設定), 則有可能導致版面錯誤!\n\n確定進行儲存?")){return false}AN.util.storage("an_options",oOptions);return true};fillOptions=function(bFillAll,bUseDefault){var jScope=(bFillAll)?$("#an-settings-main-panels"):jFieldsets.filter(":visible");var oDB=AN.modFn.getDB(bUseDefault);jScope.find(".an-settings-switch").each(function(){var jThis=$(this);var oInfo=getInfo(jThis);var bOn=($.inArray(oInfo.page,oDB.oSwitches[oInfo.mod][oInfo.id])!=-1);jThis.attr("checked",bOn).parent().parent().find(".an-settings-option").attr("disabled",!bOn)});jScope.find(".an-settings-option").each(function(){var jThis=$(this);var oInfo=getInfo(jThis);var uValue=oDB.oOptions[oInfo.name][oInfo.page];if(oInfo.type=="checkbox"){jThis.attr("checked",uValue)}else{if(oInfo.type=="text"||oInfo.type=="select"){jThis.val(uValue)}}})};fillBoolean=function(bSwitchOn){var jScope=(bFillAll)?$("#an-settings-main-panels"):jFieldsets.filter(":visible");jScope.find(".an-settings-switch").attr("checked",bSwitchOn);jScope.find(".an-settings-option").attr("disabled",!bSwitchOn)};importSettings=function(){var oSettings=JSON.parse(prompt("輸入滙入設定資料",""));if(!oSettings){return alert("資料剖析錯誤!")}var jScope=(bFillAll)?$("#an-settings-main-panels"):jFieldsets.filter(":visible");if(oSettings.oSwitches){jScope.find(".an-settings-switch").each(function(){var jThis=$(this);var oInfo=getInfo(jThis);if(oSettings.oSwitches[oInfo.mod]&&oSettings.oSwitches[oInfo.mod][oInfo.id]){var bOn=($.inArray(oInfo.page,oSettings.oSwitches[oInfo.mod][oInfo.id])!=-1);jThis.attr("checked",bOn).parent().parent().find(".an-settings-option").attr("disabled",!bOn)}})}if(oSettings.oOptions){jScope.find(".an-settings-option").each(function(){var jThis=$(this);var oInfo=getInfo(jThis);if(oSettings.oOptions[oInfo.name]&&oInfo.page in oSettings.oOptions[oInfo.name]){var uValue=oSettings.oOptions[oInfo.name][oInfo.page];if(oInfo.type=="checkbox"){jThis.attr("checked",uValue)}else{if(oInfo.type=="text"||oInfo.type=="select"){jThis.val(uValue)}}}})}alert("滙入成功!")};exportSettings=function(){var jScope=(bFillAll)?$("#an-settings-main-panels"):jFieldsets.filter(":visible");var oExport={oSwitches:{},oOptions:{}};jScope.find(".an-settings-switch").each(function(){var jThis=$(this);var oInfo=getInfo(jThis);var oFn=$.make("a",$.make("o",oExport.oSwitches,oInfo.mod),oInfo.id);if(jThis.is(":checked")){oFn.push(oInfo.page)}});jScope.find(".an-settings-option").each(function(){var jThis=$(this);var oInfo=getInfo(jThis);var oFn=$.make("o",oExport.oOptions,oInfo.name);if(oInfo.type=="checkbox"){oFn[oInfo.page]=jThis.is(":checked")}else{if(oInfo.type=="text"||oInfo.type=="select"){oFn[oInfo.page]=$.correct(jThis.val())}}});prompt("滙出成功!\n請複製以下代碼",JSON.stringify(oExport))};$.each({"確定":function(){if(saveOptions()){location.reload()}},"取消":AN.shared.gray,"套用":function(){saveOptions();AN.box.oSwitches=null;AN.box.oOptions=null;AN.modFn.getDB()}},function(sDesc,fControl){$($.sprintf('<li><a href="javascript:">%s</a></li>',sDesc)).click(fControl).appendTo("#an-settings-main-control-1")});$.each({"復原":function(){fillOptions(bFillAll,false)},"全選":function(){fillBoolean(true)},"全否":function(){fillBoolean(false)},"重設":function(){fillOptions(bFillAll,true)},"滙入":function(){importSettings()},"滙出":function(){exportSettings()}},function(sDesc,fControl){$($.sprintf('<li><a href="javascript:">%s</a></li>',sDesc)).click(fControl).appendTo("#an-settings-main-control-2")});$('<li id="an-settings-main-control-last"><label for="an-settings-main-control-currentonly">僅套用到本頁選項</label></li>').prepend($('<input type="checkbox" id="an-settings-main-control-currentonly" checked="checked" />').click(function(){bFillAll=!$(this).is(":checked")})).appendTo("#an-settings-main-control-2")}fillOptions(true,false);tabClick.call($("#an-settings-tabs a:first")[0]);AN.shared.gray(false,"an-settings")})}},"71c9bd88-dc3b-4a97-b04c-20052dcfcdcb":{desc:"加入評測元件",page:{65534:true},type:1,once:function(){AN.shared.addMain("評測",function(){if(!$("#an-benchmark").length){AN.util.addStyle(" 				#an-benchmark div { padding: 0.5em; } 				");AN.shared.box("an-benchmark","評測",550,500).append("<div><table><thead><tr><td>#</td><td>功能</td><td>執行時間</td></tr></thead><tbody></tbody></table></div>")}var uCount,sName,sTime;var nCount,nSum,nTotal;nCount=nSum=nTotal=0;var aBg=[AN.util.getOptions("sMainBgColor"),AN.util.getOptions("sSecBgColor")];var sHTML="";$.each(AN.box.aBenchmark,function(i){switch(this.type){case"start":uCount="N/A";sName=$.sprintf("--- %s 開始 ---",this.name);sTime="N/A";break;case"fn":uCount=++nCount;sName=this.name;sTime=(this.time||"ε")+" ms";nSum+=this.time;nTotal+=this.time;break;case"end":uCount="N/A";sName=$.sprintf("--- %s 結束 ---",this.name);sTime=nSum+" ms";break;case"final":sHTML+=$.sprintf("<tr><td>N/A</td><td>+++ 總和 +++</td><td>%s ms</td></tr>",nTotal);nTotal=0;uCount="N/A";sName="~~~ 回合結束 ~~~";sTime=this.time+" ms";break}sHTML+=$.sprintf('<tr style="background-color: %s;"><td>%s</td><td>%s</td><td>%s</td></tr>',aBg[i%2],uCount,sName,sTime);if(this.type=="end"){nSum=0}});$("#an-benchmark tbody").append(sHTML);AN.box.aBenchmark=[];AN.shared.gray(true,"an-benchmark")})}},"0868eb64-9631-42dd-8b5c-02f11a8c9a48":{desc:"加入記錄元件 [右下]",page:{65534:true},type:1,options:{bAddLogButton:{desc:"加入記錄元件開關按扭",defaultValue:false,type:"checkbox"},bAutoShowLog:{desc:"自動顯示記錄視窗",defaultValue:true,type:"checkbox"},bShowDetailLog:{desc:"顯示詳盡記錄",defaultValue:false,type:"checkbox"},sLogWidth:{desc:"元件闊度 [可設定為20em, 15%, 200px等]",defaultValue:"200px",type:"text"}},once:function(){var getMod=function(){var jMod=$("#an-log");if(jMod.length){return jMod}AN.util.addStyle($.sprintf("			#an-log { display: none; height: 30%; width: %s; bottom: 0; right: 0; } 			#an-log-header { font-weight: bold; border-bottom-width: 1px; padding-bottom: 0.2em; } 			#an-log-content li { display: none; border-bottom: 1px dotted; padding: 0.3em 0; } 			",AN.util.getOptions("sLogWidth")));return $('<div id="an-log" class="an-mod an-small"><div id="an-log-header">Log</div><ul id="an-log-content"></ul></div>').appendTo("#an-ui")};if(AN.util.getOptions("bAddLogButton")){AN.shared.addMain("記錄",function(){getMod().fadeToggle()})}AN.shared.log=function(sLog){var jLog=getMod();if($.isRubbish(sLog)){return}if(AN.util.getOptions("bAutoShowLog")){jLog.fadeIn("fast")}var dDate=new Date();var hour=dDate.getHours();if(hour<10){hour="0"+hour}var min=dDate.getMinutes();if(min<10){min="0"+min}var jLogContainer=$("#an-log-content");$($.sprintf("<li>%s:%s %s</li>",hour,min,sLog)).prependTo(jLogContainer).slideDown("slow");jLogContainer.children(":gt(50)").remove()};if(AN.util.getOptions("bShowDetailLog")){AN.shared.log2=AN.shared.log}if(AN.box.debugMode){AN.shared.debug=AN.shared.log}$.ajaxSetup({error:function(xhr,sStatus,err){AN.shared.log($.sprintf("讀取目標時發生錯誤: %s %s",xhr.status,xhr.statusText))}})}},"e9051bb8-2613-4f10-82ec-69290831c6a5":{desc:"加入按扭元件 [左上]",page:{65534:true},type:1,options:{bAddButtonsButton:{desc:"加入按扭元件開關按扭",defaultValue:false,type:"checkbox"},bAutoShowButtons:{desc:"自動顯示按扭元件",defaultValue:true,type:"checkbox"}},once:function(){var getMod=function(){var jMod=$("#an-buttons");if(jMod.length){return jMod}AN.util.addStyle($.sprintf(" 			#an-buttons { %s left: 5px; top: 30px; border-left: 5px solid; padding-left: 0.3em; } 			#an-buttons a { padding: 0.15em 0; } 			",AN.util.getOptions("bAutoShowButtons")?"":"display: none;"));return $('<div id="an-buttons" class="an-mod"><ul class="an-menu"></ul></div>').appendTo("#an-ui")};if(AN.util.getOptions("bAddButtonsButton")){AN.shared.addMain("按扭",function(){getMod().fadeToggle()})}AN.shared.addButton=function(sDesc,fHandler){var jButtons=getMod();if(!sDesc){return}jButtons.find("ul").append($('<li><a href="javascript:">'+sDesc+"</a></li>").click(fHandler))}}},"437dc7da-fdfa-429a-aec5-329c80222327":{desc:"加入連結元件 [左中]",page:{65534:true},type:1,options:{bAddLinksButton:{desc:"加入連結元件開關按扭",defaultValue:false,type:"checkbox"},bAutoShowLinks:{desc:"自動顯示連結元件",defaultValue:true,type:"checkbox"}},once:function(jDoc){var getMod=function(){var jMod=$("#an-links");if(jMod.length){return jMod}AN.util.addStyle($.sprintf(" 			#an-links { %s top: 50%; left: 0; text-align: right; } 			#an-links a { padding: 0.3em 0.1em 0.2em 1.5em; } 			#an-links-top li { border-bottom-width: 1px; } 			#an-links-middle li { border-width: 1px 0; } 			#an-links-bottom li { border-top-width: 1px; } 			",AN.util.getOptions("bAutoShowLinks")?"":"display: none;"));var jMod=$('<div id="an-links" class="an-mod"><ul id="an-links-top" class="an-menu"></ul><ul id="an-links-middle" class="an-menu"></ul><ul id="an-links-bottom" class="an-menu"></ul></div>').appendTo("#an-ui");jDoc.defer(1,"調整連結元件位置",function(){jMod.css("margin-top",-jMod.height()/2)});return jMod};if(AN.util.getOptions("bAddLinksButton")){AN.shared.addMain("連結",function(){getMod().fadeToggle()})}AN.shared.addLink=function(sDec,uExtra,nPos){if(nPos===undefined){nPos=1}var jLinks=getMod();if(!sDec){return}jLinks.children().eq(nPos).append((typeof uExtra=="string")?$.sprintf('<li><a href="%s">%s</a></li>',uExtra,sDec):$('<li><a href="javascript:">'+sDec+"</a></li>").click(uExtra))}}},"1c6e8869-8148-4e58-b440-31e1bee4aef1":{desc:"加入資訊元件 [左下]",page:{65534:true},type:1,options:{bAddInfoButton:{desc:"加入資訊元件開關按扭",defaultValue:false,type:"checkbox"},bAutoShowInfo:{desc:"自動顯示資訊視窗",defaultValue:true,type:"checkbox"}},once:function(jDoc){var getMod=function(){var jMod=$("#an-info");if(jMod.length){return jMod}AN.util.addStyle($.sprintf(" 			#an-info { %s; left: 10px; bottom: 10px; border-width: 0 0 1px 1px; } 			#an-info-content { padding: 1em 1em 0 0.5em !important; } 			#an-info-footer { text-align: right; font-weight: bold; } 			#an-info li { display: none; padding-bottom: 0.5em; } 			#an-info li a { display: inline; } 			",AN.util.getOptions("bAutoShowInfo")?"":"display: none"));return $('<div id="an-info" class="an-mod"><ul id="an-info-content" class="an-menu an-small"></ul><div class="an-small" id="an-info-footer">Info</div></div>').appendTo("#an-ui")};(function(){function check(){return $("#hkg_bottombar").length&&AN.util.addStyle("#an-info { bottom: 30px !important; }")&&true}!check()&&window.addEventListener?window.addEventListener("load",check,false):window.attachEvent("onload",check)})();if(AN.util.getOptions("bAddInfoButton")){AN.shared.addMain("資訊",function(){getMod().fadeToggle()})}AN.shared.addInfo=function(sInfo){getMod();if(!sInfo){return}$("<li>"+sInfo+"</li>").appendTo("#an-info-content").fadeIn("slow")}}},"56ecac51-0257-4d34-897d-6331247b017d":{desc:"加入關於元件",page:{65534:"comp"},type:1,once:function(){AN.shared.addMain("關於",function(){if(!$("#an-about").length){AN.util.addStyle("				#an-about > div { margin: 0.5em; } 				#an-about h1 { margin: 0.5em; font-size: 2em; text-align: center; } 				#an-about hr { border-width: 1px; margin: 1em 0.5em; } 				#an-about div div { overflow-y: auto; overflow-x: hidden; width: 80%; height: 200px; margin: 0 auto; border-width: 1px; } 				#an-about dl { margin: 0; padding: 0 0.5em 0.5em; font-size: 0.8em; } 				#an-about dt { margin-top: 1em; } 				#an-about dd { margin: 0; line-height: 1.3; } 				#an-about p { margin: 1em 0; font-size: 0.75em; text-align: center; } 				");var jAbout=AN.shared.box("an-about","關於",500,"auto").append('<div><h1>Helianthus.annuus</h1><hr /><div><dl></dl></div><p>&copy; 2009 向日 Licenced under <a href="http://www.gnu.org/licenses/gpl.html" target="_blank">GNU General Public License v3</a></p></div>');var sHTML="";sHTML+="<dt>[程式]</dt>";$.each({"名稱":"Helianthus.annuus","作者":'<a target="_blank" href="ProfilePage.aspx?userid=148720">向日</a>',"主頁":'<a target="_blank" href="http://code.google.com/p/helianthus-annuus/">http://code.google.com/p/helianthus-annuus/</a>',"版本":AN.version,"儲存方式":$.sprintf('<select id="an-about-storage"><option>Flash</option></select>'),"除錯模式":AN.box.debugMode?"啟用":"停用"},function(sName,sValue){sHTML+=$.sprintf("<dd>%s: %s</dd>",sName,sValue)});sHTML+="<dt>[元件]</dt>";$.each(AN.mod,function(sMod){sHTML+=$.sprintf("<dd>%s by %s: %s</dd>",sMod,this.author,this.ver)});jAbout.find("dl").append(sHTML);if($.support.localStorage){$("#an-about-storage").append("<option>DOM</option>")}$("#an-about-storage").val(AN.box.storageMode).change(function(){AN.util.cookie("an-storagemode",$(this).val());location.reload()})}AN.shared.gray(true,"an-about")})}},"629944a0-a4f2-493c-8c8d-e1261a9264f9":{desc:"鼠標遠離UI元件時半透明 [buggy on IE8]",page:{65534:false},type:1,options:{nUIOpacity:{desc:"透明度 (10 = 移除半透明)",type:"select",defaultValue:3,choices:[10,9,8,7,6,5,4,3,2,1,0]}},once:function(){AN.util.stackStyle($.sprintf("		.an-mod { opacity: %s; -ms-filter: alpha(opacity=%s); } 		.an-mod:hover { opacity: 1; -ms-filter: alpha(opacity=100); } 		",AN.util.getOptions("nUIOpacity")/10,AN.util.getOptions("nUIOpacity")*10))}},"0b587724-a3a7-41be-95d8-96c726d38343":{desc:"除錯模式(續)",page:{65535:"comp"},type:1,once:function(){if(!AN.box.debugMode){return}AN.shared("log");AN.shared("addLink");AN.shared("addButton","移除儲存資料",function(){if(confirm("確定移除儲存資料?")){AN.util.storage(null);location.reload()}});AN.shared("addButton","顯示儲存資料",function(){if(!$("#an-savedsettings").length){AN.shared("box","an-savedsettings","儲存資料",null,"max");AN.util.addStyle("#an-savedsettings { padding: 0 2em; } #an-savedsettings code { display: block; white-space: pre; margin: 1em 0; font-family: Consolas; }");$("#an-savedsettings").append("<code></code>")}$("#an-savedsettings code").text(AN.util.storage().replace(/{[^{]*},?/g,function(sMatch){return sMatch.replace(/,/g,",\n")}));AN.shared("gray",true,"an-savedsettings")});AN.shared("addButton","顯示功能列表",function(){if(!$("#an-functionlist").length){AN.shared("box","an-functionlist","功能列表",600,400);AN.util.addStyle("#an-functionlist textarea { margin: 10px; width: 570px; height: 370px; font-family: Consolas; }");$("#an-functionlist").append('<textarea readonly="readonly"></textarea>');var sList="";$.each(AN.mod,function(sMod){if(!this.fn){return}sList+="\r"+sMod+":\r\r";$.each(this.fn,function(){sList+=" * "+this.desc+"\r"})});$("#an-functionlist textarea").text(sList)}AN.shared("gray",true,"an-functionlist")})}}}};$.extend({blank:function(){},time:function(nStart){return nStart?$.time()-nStart:+new Date},correct:function(sTarget){if(sTarget=="true"){return true}else{if(sTarget=="false"){return false}else{if(!isNaN(sTarget)&&sTarget!==""){return sTarget*1}else{return sTarget}}}},doc:function(sHTML){var eDiv=document.createElement("div");eDiv.innerHTML=sHTML;return $(eDiv)},getDoc:function(sURL,success){$.ajax({url:sURL,dataType:"text",timeout:10000,success:function(sHTML){var jNewDoc=$.doc(sHTML);jNewDoc.pageCode()&32769?this.error():success(jNewDoc)},error:function(){AN.shared("log","頁面讀取失敗, 5秒後重新讀取...");setTimeout(function(){$.getDoc(sURL,success)},5000)}})},getLength:function(uTarget){if("length" in uTarget){return uTarget.length}for(var nCount in uTarget){}return nCount},make:function(sType,uTarget){$.each(arguments,function(i,sName){if(i<2){return}if(!uTarget[sName]){uTarget[sName]=(sType=="o"?{}:[])}uTarget=uTarget[sName]});return uTarget},isEmpty:function(uTarget){if("length" in uTarget){return uTarget.length}for(var i in uTarget){return false}return true},isRubbish:function(uTarget){return(uTarget===undefined||uTarget===null||uTarget===NaN)},winWidth:function(nMutiply){return Math.round($(window).width()*(nMutiply||1))},winHeight:function(nMutiply){return Math.round($(window).height()*(nMutiply||1))}});$.fn.extend({toFlash:function(sURL,oAttrs,oParams){if(!oAttrs){oAttrs={}}if(!oAttrs.id){oAttrs.id=this[0].id||"an-flash-"+$.time()}if(!oAttrs.width){oAttrs.width=0}if(!oAttrs.height){oAttrs.height=0}if(!oParams){oParams={}}if(!oParams.allowscriptaccess){oParams.allowscriptaccess="always"}if($.browser.msie){oAttrs.classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000";oParams.movie=sURL}else{oAttrs.data=sURL;oAttrs.type="application/x-shockwave-flash"}var sAttrs="";var sParams="";$.each(oAttrs,function(sName,sValue){sAttrs+=$.sprintf('%s="%s" ',sName,sValue)});$.each(oParams,function(sName,sValue){sParams+=$.sprintf('<param name="%s" value="%s" />',sName,sValue)});var sHTML=$.sprintf("<object %s>%s</object>",sAttrs,sParams);if($.browser.msie){this[0].outerHTML=sHTML}else{this.replaceWith(sHTML)}return $("#"+oAttrs.id)},fn:function(fToExec){if(this.length){fToExec.call(this)}return this},outer:function(){if(!this[0]){return null}return this[0].outerHTML?this[0].outerHTML:$("<div></div>").append(this.eq(0).clone()).html()},aO:function(){alert(this.outer());return this},aL:function(){alert(this.length);return this},fadeToggle:function(sSpeed){if(!sSpeed){sSpeed="normal"}return this.is(":hidden")?this.fadeIn(sSpeed):this.fadeOut(sSpeed)},up:function(sSelector,nTh){if(!nTh){nTh=1}return this.map(function(){var nCount=0;var eCur=this;while(eCur&&eCur.ownerDocument){eCur=eCur.parentNode;if($(eCur).is(sSelector)&&++nCount>=nTh){return eCur}}})},contains:function(jNode){return this[0].contains?this[0].contains(jNode[0]):!!(this[0].compareDocumentPosition(jNode[0])&16)},pageName:function(){if(this.sPageName){return this.sPageName}return this.sPageName=$("#ctl00_ContentPlaceHolder1_SystemMessageBoard",this).length&&"message"||$("#aspnetForm",this).length&&$("#aspnetForm",this).attr("action").match(/[^.]+/)[0].toLowerCase()||$("body > :first",this).is("b")&&"terms"||"error"},pageCode:function(){if("nPageCode" in this){return this.nPageCode}var sPageName=this.pageName();var nPageCode;$.each(AN.box.oPageMap,function(sPage){if(this.action==sPageName){nPageCode=sPage*1;return false}});if(!nPageCode){nPageCode=0}return(this.nPageCode=nPageCode)},pageScope:function(){var jScope=this.closest("div");return jScope.length?jScope:this},pageNo:function(){return this.pageScope().find("select[name=page]:first").val()*1},replies:function(sSelector){if(this.jReplies){return this.jReplies}var jReplies=this.jReplies=this.find(".repliers");jReplies.extend({jContents:$([]),jNameLinks:$([])});jReplies.each(function(){var jThis=$(this),jNameLink=jThis.find(".repliers_left a:first");jThis.data("jContent",jThis.find(".repliers_right td:first")).data("jNameLink",jNameLink).data("sUserid",jNameLink.attr("href").replace(/.+?userid=(\d+).*/,"$1")).data("sUserName",jNameLink.html());jReplies.jContents.push(jThis.data("jContent")[0]);jReplies.jNameLinks.push(jThis.data("jNameLink")[0])});return sSelector?jReplies.filter(sSelector):jReplies},treeTop:function(){return(this[0]===document||$(document.documentElement).contains(this))?$():this},topicTable:function(){if(this.jTopicTable){return this.jTopicTable}var jThis=this;this.treeTop().find("td,th").filter(function(){return $(this).children().length===0}).each(function(){if(/\s*最後回應時間/.test($(this).html())){jThis.jTopicTable=$(this).up("table");return false}});return this.jTopicTable},topics:function(sSelector){if(this.jTopics){return this.jTopics}var jTopics=this.jTopics=this.topicTable().find("tr").filter(function(){return !!$(this).children().children("a").length});jTopics.extend({jNameLinks:$([]),jTitleCells:$([]),jTbody:this.topicTable().children()}).each(function(){var jThis=$(this),jLinks=jThis.find("a");jThis.data("jNameLink",jLinks.filter(":last")).data("jTitleCell",jLinks.eq(0).parent()).data("sTitle",jLinks.eq(0).html()).data("sTopicid",jLinks.eq(0).attr("href").replace(/.+?id=(\d+).*/,"$1")).data("sUserName",jLinks.filter(":last").html());jTopics.jNameLinks.push(jThis.data("jNameLink")[0]);jTopics.jTitleCells.push(jThis.data("jTitleCell")[0])});return sSelector?jTopics.filter(sSelector):jTopics},defer:function(nPos,uArg,fHandler){var oArg=(typeof uArg=="string")?{sDesc:uArg,aHandler:[fHandler]}:uArg;$.make("a",this,"aDefer",nPos).push(oArg);return this}});$.extend(AN,{shared:function(sFnName){if(AN.shared[sFnName]){AN.shared[sFnName].apply(null,Array.prototype.slice.call(arguments,1))}},box:{aBenchmark:[],oTypeMap:{1:"核心設定",2:"樣式設定",3:"佈局設定",4:"修正修改",5:"加入物件",6:"其他功能",7:"AJAX化",8:"元件重造",9:"組合按扭"},oPageMap:{65535:{action:null,desc:"所有頁"},65534:{action:null,desc:"所有正常頁"},1:{action:"error",desc:"所有錯誤頁"},2:{action:"default",desc:"主論壇頁"},4:{action:"topics",desc:"標題頁"},8:{action:"search",desc:"搜尋頁"},16:{action:"tags",desc:"標籤搜尋頁"},32:{action:"view",desc:"帖子頁"},64:{action:"profilepage",desc:"用戶資料頁"},128:{action:"sendpm",desc:"私人訊息發送頁"},256:{action:"post",desc:"發佈/回覆頁"},512:{action:"login",desc:"登入頁"},1024:{action:"giftpage",desc:"人氣頁"},2048:{action:"blog",desc:"網誌頁"},4096:{action:"message",desc:"系統信息頁"}}},util:{addFnType:function(uType,sDec){AN.box.oTypeMap[uType]=sDec},stackStyle:function(sStyle){if(AN.util.stackStyle.sStyle===undefined){AN.util.stackStyle.sStyle="";$().bind("an.defer5",function(){AN.util.addStyle(AN.util.stackStyle.sStyle);AN.util.stackStyle.sStyle=""})}AN.util.stackStyle.sStyle+=sStyle},addStyle:function(sStyle){if(!this.jStyle){this.jStyle=$('<style id="an-style" type="text/css"></style>').appendTo("head")}if(AN.box.debugMode){sStyle=sStyle.replace(/(^|}|\*\/)\s+/g,"$1\n")}this.jStyle[0].styleSheet?this.jStyle[0].styleSheet.cssText+=sStyle:this.jStyle.append(sStyle)},changeForum:function(nForum){location.replace(location.href.replace(/forum\d+/,"forum"+nForum))},cookie:function(sName,sValue){if(sValue===undefined){var nStart=document.cookie.indexOf(sName+"=");if(nStart==-1){return null}nStart+=sName.length+1;var nEnd=document.cookie.indexOf(";",nStart);if(nEnd==-1){nEnd=document.cookie.length}return document.cookie.substring(nStart,nEnd)}else{var dExpire=new Date;dExpire.setFullYear(sValue?dExpire.getFullYear()+1:dExpire.setFullYear(1999));document.cookie=$.sprintf("%s=%s; domain=%s; expires=%s; path=/",sName,sValue||"",location.hostname,dExpire.toUTCString());return true}},storage:function(sName,uToSet){var storage=arguments.callee.storage||(arguments.callee.storage=AN.box.storageMode=="Flash"&&{get:function(sProfile,sName){return AN.box.eLSO.get(sProfile,sName)},set:function(sProfile,sName,sData){AN.box.eLSO.set(sProfile,sName,sData.replace(/\\/g,"\\\\"))},remove:function(sProfile,sName){AN.box.eLSO.remove(sProfile,sName)}}||AN.box.storageMode=="DOM"&&(function(){var LS=window.localStorage||window.globalStorage[location.hostname];return{get:function(sProfile,sName){var r=LS[sProfile+"___"+sName];return r&&r.value||r},set:function(sProfile,sName,sData){LS[sProfile+"___"+sName]=sData},remove:function(sProfile,sName){LS.removeItem(sProfile+"___"+sName)}}})());var sProfile="default";var sData="";if(sName===undefined){$.each(["an_data","an_switches","an_options"],function(){var uCookie=storage.get(sProfile,this+"");if(uCookie){sData+=uCookie+"\n\n"}});return sData}else{if(sName==null){$.each(["an_data","an_switches","an_options"],function(){storage.remove(sProfile,this+"");storage.remove(sProfile,this+"_backup")})}else{if(uToSet===undefined){sData=storage.get(sProfile,sName);if(sData){sData=JSON.parse(sData)}return sData||null}else{if(uToSet){var sData=JSON.stringify(uToSet);storage.set(sProfile,sName,sData)}else{storage.remove(sProfile,sName)}}}}return true},data:function(sName,uValue){var oData=AN.util.storage("an_data")||{};if(uValue===undefined){if(oData[sName]!==undefined){return oData[sName]}return null}else{uValue===null?delete oData[sName]:oData[sName]=uValue;return AN.util.storage("an_data",oData)}},getData:function(sFile,fToExec){var oExternal=$.make("o",AN.box,"external");if(oExternal[sFile]){fToExec(oExternal[sFile])}else{$.getScript($.sprintf("http://helianthus-annuus.googlecode.com/svn/other/an.v3.%s.js",sFile),function(){fToExec(oExternal[sFile])})}},getOpenerInfo:function(jDoc,fToExec){var oInfo=arguments.callee.oInfo;if(oInfo){if(oInfo.sId){fToExec(oInfo)}else{return setTimeout(function(){AN.util.getOpenerInfo(jDoc,fToExec)},100)}}else{oInfo=arguments.callee.oInfo={};if(jDoc.pageNo()==1){var jOpener=jDoc.replies(":first");fToExec(oInfo={sId:jOpener.data("sUserid"),sName:jOpener.data("sUserName")})}else{$.get("/view.aspx?message="+window.messageid,function(sHTML){var jLink=$.doc(sHTML).find(".repliers_left:first a:first");oInfo={sId:jLink.attr("href").replace(/.+?userid=(\d+).*/,"$1"),sName:jLink.html()};fToExec(oInfo)})}}},getOpacityStr:function(nOpacity){return $.support.opacity?$.sprintf("opacity: %s",nOpacity/10):$.sprintf("filter: alpha(opacity=%s)",nOpacity*10)},getOptions:function(sOptionName){var oOptions=$.make("o",arguments.callee,"oOptions");if($.isEmpty(oOptions)){$.each(AN.box.oOptions,function(sName){$.each(this,function(sPage,uValue){if($().pageCode()&sPage){oOptions[sName]=uValue;return false}})})}return sOptionName?oOptions[sOptionName]:oOptions},getForumNo:function(){return location.hostname.replace(/forum(\d+).+/,"$1")*1},getPageNo:function(sURL){var sExtract=sURL.replace(/.+?page=(\d+).*/i,"$1");return isNaN(sExtract)?1:sExtract*1},getURL:function(oParam){var oSearch={};var aParam=location.search.replace(/^\?/,"").split("&");$.each(aParam,function(){var aPair=this.split("=");if(aPair[1]){oSearch[aPair[0]]=aPair[1]}});$.extend(oSearch,oParam);return"?"+$.param(oSearch)},isLoggedIn:function(){var bIsLoggedIn=arguments.callee.bIsLoggedIn;return(bIsLoggedIn!==undefined)?bIsLoggedIn:(arguments.callee.bIsLoggedIn=($("#ctl00_ContentPlaceHolder1_lb_UserName a:first").attr("href").indexOf("login.aspx")==-1))}},modFn:{getDB:function(bGetDefault){var oDB=(!AN.box.oSwitches)?AN.box:{};$.extend(oDB,(bGetDefault?{oSwitches:{},oOptions:{}}:{oSwitches:AN.util.storage("an_switches")||{},oOptions:AN.util.storage("an_options")||{}}));$.each(AN.mod,function(sMod){if(!AN.mod[sMod].fn){return}$.make("o",oDB.oSwitches,sMod);$.each(AN.mod[sMod].fn,function(sId,oFn){if(!oDB.oSwitches[sMod][sId]){$.make("a",oDB.oSwitches[sMod],sId);$.each(oFn.page,function(sPage,uDefault){if(uDefault===true||uDefault=="comp"){oDB.oSwitches[sMod][sId].push(sPage*1)}})}if(!oFn.options){return}$.each(oFn.options,function(sName,oOption){$.make("o",oDB.oOptions,sName);$.each(oFn.page,function(sPage){if(oDB.oOptions[sName][sPage]===undefined){oDB.oOptions[sName][sPage]=oOption.defaultValue}})})})});return oDB},execMods:function(jDoc){var nBegin=$.time();var execMod=function(sMod){if(!(AN.mod[sMod]&&AN.mod[sMod].fn)){return}AN.box.aBenchmark.push({type:"start",name:sMod});$.each(AN.mod[sMod].fn,function(sId,oFn){$.each(AN.box.oSwitches[sMod][sId],function(){if(oFn.page[this]!="disabled"&&this in oFn.page&&$().pageCode()&this){var aHandler=[];if(!AN.firstRan&&oFn.once){aHandler.push(oFn.once)}if(oFn.infinite){aHandler.push(oFn.infinite)}if(aHandler.length){var oArg={sDesc:oFn.desc,aHandler:aHandler,oFn:oFn};oFn.defer?jDoc.defer(oFn.defer,oArg):execFn(oArg)}return false}})});AN.box.aBenchmark.push({type:"end",name:sMod})};var execFn=function(oArg){try{var nStart=$.time();$.each(oArg.aHandler,function(){this.call(oArg.oFn,jDoc,oArg.oFn)});AN.box.aBenchmark.push({type:"fn",name:oArg.sDesc,time:$.time(nStart)})}catch(err){if(AN.shared.log){AN.shared.log("請通知作者有關此錯誤");if(err.message){AN.shared.log("錯誤訊息: "+err.message)}if(err.type){AN.shared.log("錯誤類型: "+err.type)}if(err.lineNumber){AN.shared.log("錯誤行號: "+err.lineNumber)}AN.shared.log("出現地址: "+location.href);AN.shared.log($.sprintf("發生錯誤: %s",oArg.sDesc))}else{if(AN.box.debugMode){alert($.sprintf("ERROR ON EXECUATION: %s\r\n%s",oArg.sDesc,err.message))}}}};if(!jDoc){jDoc=$(document.body)}execMod("Kernel");execMod("User Interface");$.each(AN.mod,function(sMod){if(sMod!="Kernel"&&sMod!="User Interface"){execMod(sMod)}});setTimeout(function(){AN.box.aBenchmark.push({type:"start",name:"延期執行項目"});for(var i=1;i<=5;i++){$().trigger("an.defer"+i);if(jDoc.aDefer&&jDoc.aDefer[i]){$.each(jDoc.aDefer[i],function(){execFn(this)})}}jDoc.aDefer=null;jDoc.splice(0,jDoc.length);AN.box.aBenchmark.push({type:"end",name:"延期執行項目"});AN.firstRan=true;AN.shared("log2","所有功能執行完成");AN.box.aBenchmark.push({type:"final",time:$.time(nBegin)})},0)}}});$.support.localStorage=!!(window.localStorage||window.globalStorage||false);$(function(){$('<div id="an"><div id="an-lso"></div></div>').appendTo("body");function exec(sStorageType){AN.box.storageMode=sStorageType;AN.modFn.getDB();AN.modFn.execMods()}if($.support.localStorage&&AN.util.cookie("an-storagemode")=="DOM"){exec("DOM")}else{var sURL="http://helianthus-annuus.googlecode.com/svn/other/lso.swf";if($.browser.msie){sURL+="?"+$.time()}AN.box.eLSO=$("#an-lso").toFlash(sURL)[0];(function(){AN.box.eLSO.get&&AN.box.eLSO.set("default","an_test_for_safari",":o)")&&AN.box.eLSO.get("default","an_test_for_safari")?exec("Flash"):setTimeout(arguments.callee,50)})()}})})();